<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>ClosedasDuplicateParentNeeded</fullName>
    <active>true</active>
    <description>It requires the Parent field when the case is Closed as Duplicate</description>
    <errorConditionFormula>AND( 
ISPICKVAL(Status , &#39;Closed as Duplicate&#39;),
ISBLANK(ParentId),

RecordTypeId = &#39;0128F000000W684QAC&#39;, /*Technical Support*/
OR(
$UserRole.Name = &quot;Technical Support Manager&quot;,
$UserRole.Name = &quot;Technical Support Rep&quot;
)
)</errorConditionFormula>
    <errorDisplayField>ParentId</errorDisplayField>
    <errorMessage>Please provide the parent case before closing as duplicate</errorMessage>
</ValidationRule>
