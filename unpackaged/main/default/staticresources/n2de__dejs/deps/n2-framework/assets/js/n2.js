"use strict";var _templateObject,_templateObject2;function _createForOfIteratorHelper(e,t){var i,n,s,o,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(l)return n=!(i=!0),{s:function(){l=l.call(e)},n:function(){var e=l.next();return i=e.done,e},e:function(e){n=!0,s=e},f:function(){try{i||null==l.return||l.return()}finally{if(n)throw s}}};if(Array.isArray(e)||(l=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return l&&(e=l),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _taggedTemplateLiteral(e,t){return t=t||e.slice(0),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _get4(){return(_get4="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,i){var n=_superPropBase(e,t);if(n)return(n=Object.getOwnPropertyDescriptor(n,t)).get?n.get.call(arguments.length<3?e:i):n.value}).apply(this,arguments)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var i;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(i="Object"===(i=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function _iterableToArrayLimit(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,s,o,l,a=[],r=!0,u=!1;try{if(o=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;r=!1}else for(;!(r=(n=o.call(i)).done)&&(a.push(n.value),a.length!==t);r=!0);}catch(e){u=!0,s=e}finally{try{if(!r&&null!=i.return&&(l=i.return(),Object(l)!==l))return}finally{if(u)throw s}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _regeneratorRuntime(){_regeneratorRuntime=function(){return l};var l={},e=Object.prototype,r=e.hasOwnProperty,u=Object.defineProperty||function(e,t,i){e[t]=i.value},t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",i=t.asyncIterator||"@@asyncIterator",s=t.toStringTag||"@@toStringTag";function o(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,i){return e[t]=i}}function a(e,t,i,n){var s,o,l,a,t=t&&t.prototype instanceof c?t:c,t=Object.create(t.prototype),n=new k(n||[]);return u(t,"_invoke",{value:(s=e,o=i,l=n,a="suspendedStart",function(e,t){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===e)throw t;return E()}for(l.method=e,l.arg=t;;){var i=l.delegate;if(i){i=function e(t,i){var n=i.method,s=t.iterator[n];if(void 0===s)return i.delegate=null,"throw"===n&&t.iterator.return&&(i.method="return",i.arg=void 0,e(t,i),"throw"===i.method)||"return"!==n&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;n=h(s,t.iterator,i.arg);if("throw"===n.type)return i.method="throw",i.arg=n.arg,i.delegate=null,d;s=n.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=void 0),i.delegate=null,d):s:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,d)}(i,l);if(i){if(i===d)continue;return i}}if("next"===l.method)l.sent=l._sent=l.arg;else if("throw"===l.method){if("suspendedStart"===a)throw a="completed",l.arg;l.dispatchException(l.arg)}else"return"===l.method&&l.abrupt("return",l.arg);a="executing";i=h(s,o,l);if("normal"===i.type){if(a=l.done?"completed":"suspendedYield",i.arg===d)continue;return{value:i.arg,done:l.done}}"throw"===i.type&&(a="completed",l.method="throw",l.arg=i.arg)}})}),t}function h(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}l.wrap=a;var d={};function c(){}function _(){}function p(){}var t={},f=(o(t,n,function(){return this}),Object.getPrototypeOf),f=f&&f(f(C([]))),m=(f&&f!==e&&r.call(f,n)&&(t=f),p.prototype=c.prototype=Object.create(t));function v(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function g(l,a){var t;u(this,"_invoke",{value:function(i,n){function e(){return new a(function(e,t){!function t(e,i,n,s){var o,e=h(l[e],l,i);if("throw"!==e.type)return(i=(o=e.arg).value)&&"object"==_typeof(i)&&r.call(i,"__await")?a.resolve(i.__await).then(function(e){t("next",e,n,s)},function(e){t("throw",e,n,s)}):a.resolve(i).then(function(e){o.value=e,n(o)},function(e){return t("throw",e,n,s)});s(e.arg)}(i,n,e,t)})}return t=t?t.then(e,e):e()}})}function y(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(y,this),this.reset(!0)}function C(t){if(t){var i,e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return i=-1,(e=function e(){for(;++i<t.length;)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:E}}function E(){return{value:void 0,done:!0}}return u(m,"constructor",{value:_.prototype=p,configurable:!0}),u(p,"constructor",{value:_,configurable:!0}),_.displayName=o(p,s,"GeneratorFunction"),l.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,o(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},l.awrap=function(e){return{__await:e}},v(g.prototype),o(g.prototype,i,function(){return this}),l.AsyncIterator=g,l.async=function(e,t,i,n,s){void 0===s&&(s=Promise);var o=new g(a(e,t,i,n),s);return l.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},v(m),o(m,s,"Generator"),o(m,n,function(){return this}),o(m,"toString",function(){return"[object Generator]"}),l.keys=function(e){var t,i=Object(e),n=[];for(t in i)n.push(t);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in i)return e.value=t,e.done=!1,e}return e.done=!0,e}},l.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(i){if(this.done)throw i;var n=this;function e(e,t){return o.type="throw",o.arg=i,n.next=e,t&&(n.method="next",n.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var s=this.tryEntries[t],o=s.completion;if("root"===s.tryLoc)return e("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),a=r.call(s,"finallyLoc");if(l&&a){if(this.prev<s.catchLoc)return e(s.catchLoc,!0);if(this.prev<s.finallyLoc)return e(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return e(s.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return e(s.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;0<=i;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var s=n;break}}var o=(s=s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc?null:s)?s.completion:{};return o.type=e,o.arg=t,s?(this.method="next",this.next=s.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),b(i),d}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var i,n,s=this.tryEntries[t];if(s.tryLoc===e)return"throw"===(i=s.completion).type&&(n=i.arg,b(s)),n}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:C(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=void 0),d}},l}function asyncGeneratorStep(e,t,i,n,s,o,l){try{var a=e[o](l),r=a.value}catch(e){return void i(e)}a.done?t(r):Promise.resolve(r).then(n,s)}function _asyncToGenerator(a){return function(){var e=this,l=arguments;return new Promise(function(t,i){var n=a.apply(e,l);function s(e){asyncGeneratorStep(n,t,i,s,o,"next",e)}function o(e){asyncGeneratorStep(n,t,i,s,o,"throw",e)}s(void 0)})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);i=i.call(e,t||"default");if("object"!==_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _createSuper(i){var n=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(i);return _possibleConstructorReturn(this,n?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(e){var i="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(e))return i.get(e);i.set(e,t)}function t(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(t,e)})(e)}function _construct(e,t,i){return(_construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(e,t,i){var n=[null];n.push.apply(n,t);t=new(Function.bind.apply(e,n));return i&&_setPrototypeOf(t,i.prototype),t}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function generateComponentTreeJSON(){var e=generateNamespaceMap(window.n2);return getComponentDefinitions(n2.ui.ComponentManager.getInstance()._registeredRootComponents,{namespaceMap:e})}function generateNamespaceMap(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).parentNamespace,i=void 0===t?"n2":t,n=[];return n2.forEach(e,function(e,t){n2.isNull(e)||(n2.isObject(e)?n=n.concat(generateNamespaceMap(e,{parentNamespace:"".concat(i,".").concat(t)})):e.prototype instanceof n2.Object&&n.push(["".concat(i,".").concat(t),e]))}),n}function getComponentDefinitions(e,t){var i=t.namespaceMap,n=[];return n2.forEach(e,function(e){n.push(getComponentDefinition(e,{namespaceMap:i}))}),n}function getComponentDefinition(e,t){t=t.namespaceMap;return{id:e.id,label:getCmpLabel(e),name:generateComponentName(e.id),type:getNamespaceName(e.constructor,{namespaceMap:t}),superTypes:getSuperTypes(e,{namespaceMap:t}),components:getComponentDefinitions(e.components,{namespaceMap:t})}}function getCmpLabel(e){return"Button"===e.constructor.name||"Tooltip"===e.constructor.name?e.text:n2.isUndefined(e.label)||n2.isUndefined(e.label.text)?e.label:e.label.text}function getSuperTypes(e,t){for(var i=t.namespaceMap,n=[],s=getPrototype(Object.getPrototypeOf(e));!n2.isNull(s)&&"N2Object"!==s.constructor.name;)n.push(getNamespaceName(s.constructor,{namespaceMap:i})),s=getPrototype(s);return n}function getNamespaceName(t,e){e=e.namespaceMap.find(function(e){return e[1]===t})[0];return e.substring(0,e.lastIndexOf(".")).concat(".",t.name.replaceAll("N2",""))}function getPrototype(e){e=Object.getPrototypeOf(e);return n2.isObject(e)?null:e}function generateComponentName(e){e=e.replace(/-|_/gi," ");return e.replace(/^./,e.charAt(0).toUpperCase())}window.n2={dataProvider:{model:{enum:{}}},event:{},mixin:{},object:{},util:{},ui:{dom:{},component:{tooltip:{},field:{combo:{},pillList:{},datePeriodPicker:{},logicFilter:{enum:{},filters:{}}},pillList:{pill:{}},button:{},modal:{},dataTable:{},tabs:{},menu:{},verticalNavigation:{},illustration:{},listBox:{}},salesforcePage:{},enum:{},mixin:{}}},n2.Object=function(){_inherits(s,_wrapNativeSuper(Object));var e,t,i,n=_createSuper(s);function s(e){var t;return _classCallCheck(this,s),(t=n.call(this))._define(),t._isDataDriven(e)&&!t._isObservable(e)&&(t._mixins=t._mixins||[],t._mixins.push(n2.mixin.Observable)),t._applyMixins(t._mixins),t._requiredMembersExist(e)&&t._applyConfig(e),t._onDefined(),t._isDataDriven()&&t._prepareDataProviders(),t._loadModel(),t._lazyLoad||t.load({silent:!0,force:!1}),t._loadData(),t}return _createClass(s,[{key:"_define",value:function(){this.EVENTS={loading:function(e){},loaded:function(e,t){},loadComplete:function(e){},saving:function(e,t){},saved:function(e,t,i){}},this._EVENTS=[],this.REQUIRED_MEMBERS=null,this._mixins=[],this._destroyed=!1,this._autoLoad=!1,this._isLoadingChain=!1,this._lazyLoad=!1,this._REFRESH={DEFAULT:[]},this._previousPropertyValues={},this._isSettingMultipleProperties=!1,this._changedProperties=[]}},{key:"autoLoad",set:function(e){this._autoLoad!==e&&(this._autoLoad=e)}},{key:"model",get:function(){if(n2.isUndefined(this._model))throw new Error("Please use n2.mixin.DataDriven to ensure the model getter isn't being misused.");return this._model},set:function(e){if(n2.isUndefined(this._model))throw new Error("Please use n2.mixin.DataDriven to ensure the model setter isn't being misused.");this._model=e,this._loadModel()}},{key:"destroyed",get:function(){return this._destroyed}},{key:"_requiredMembersExist",value:function(t){var i=this;return!this.REQUIRED_MEMBERS||(t=t||{},this.REQUIRED_MEMBERS.forEach(function(e){if(!t.hasOwnProperty(e)&&n2.isEmpty(i[e]))throw new Error("The config doesn't contain the required class member \""+e+'"')}),!0)}},{key:"_applyConfig",value:function(e){var t=this;e&&(e.mixins&&(this._applyMixins(e.mixins),this._mixins=n2.isNull(this._mixins)?e.mixins:this._mixins.concat(e.mixins),delete e.mixins),e.listeners&&(this._applyListeners(e.listeners),delete e.listeners),this._applyProperties(e,!0,function(e){if(e.startsWith("_"))throw new Error("You are not allowed to pass private properties into the config: "+e);if(t._validateSetterHasPrivateProperty(e),t._isGetter(e)&&!t._isSetter(e))throw new Error("You can't set the property: "+e+". You should define a setter or make the property public.");if(!t._isSetter(e)&&!t.hasOwnProperty(e))throw new Error("You can't set the property: "+e+". Are you missing a declaration or a setter for a private property?");if(e===e.toUpperCase())throw new Error("You can't set a constant in the config property: "+e)}))}},{key:"_validateSetterHasPrivateProperty",value:function(e){if(this._isSetter(e)&&!("_".concat(e)in this))throw new Error("The setter "+e+" has no corresponding private property of the same name.  Please declare one called _"+e)}},{key:"addMixin",value:function(e){this._mixins=n2.merge(this._mixins||[],[e]),this._applyMixins([e])}},{key:"_applyMixins",value:function(e){var t=this;e&&e.forEach(function(e){return t._applyMixin(e)})}},{key:"_applyMixin",value:function(e){var t=null;n2.isFunction(e.updateLegacyProperties)&&(t=e.updateLegacyProperties,delete e.updateLegacyProperties),this._applyProperties(e,!1),n2.isNull(t)||(t.call(this),e.updateLegacyProperties=t)}},{key:"_applyListeners",value:function(i){var n=this;if(!this.hasMixin(n2.mixin.Observable))throw new Error("You can't add listeners to an object that isn't observable.  Check you are using n2.mixin.Observable");n2.isUndefined(i.scope)&&(i.scope=this),n2.forEach(i,function(e,t){"scope"!==t&&n.listen(t,e,i.scope)})}},{key:"_applyProperties",value:function(i,n,s){var o=this;n2.forEach(i,function(e,t){if(s&&s(t),i!==n2.mixin.DataDriven&&o.hasMixin(n2.mixin.DataDriven)&&o._isDataBinding(e)){if(o._dataBindings=o._dataBindings||{},o._dataBindings[t]=e,n2.isUndefined(e.defaultValue))return!0;e=e.defaultValue}o._isSetter(t)&&(t="_"+t),!n&&t in o||n2.isUndefined(e)||(o[t]=e)})}},{key:"_onDefined",value:function(){}},{key:"_loadData",value:(i=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,i,n=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(i=0<n.length&&void 0!==n[0]?n[0]:{}).force,t=void 0!==t&&t,i=i.silent,i=void 0!==i&&i,this._isDataDriven()&&this._autoLoad)return e.abrupt("return",this._loadDataProviders({force:t,silent:i}));e.next=3;break;case 3:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"_loadModel",value:function(){this._isDataDriven()&&!n2.isNull(this._model)&&this._handleLoaded(this._model)}},{key:"load",value:(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,i,n=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(t=0<n.length&&void 0!==n[0]?n[0]:{}).silent,i=void 0===i||i,t=t.force,t=void 0===t||t,this._startLoadingChain(),e.next=4,this._load({silent:i,force:t});case 4:return i=e.sent,e.abrupt("return",(n2.isUndefined(i)||this._handleLoadComplete(i),this._completeLoadingChain(i),i));case 6:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"_startLoadingChain",value:function(){this._isLoadingChain=!0}},{key:"_load",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,i=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=0<i.length&&void 0!==i[0]?i[0]:{}).silent,t.force,0;case 1:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})},{key:"_completeLoadingChain",value:function(){this._isLoadingChain=!1}},{key:"_isSetter",value:function(e){return!n2.isNull(this._lookupSetter(e))}},{key:"_lookupSetter",value:function(e){return this.__lookupSetter__?this.__lookupSetter__(e)||null:this._lookupPropertyDescriptor(e).set}},{key:"_isGetter",value:function(e){return!n2.isNull(this._lookupGetter(e))}},{key:"_lookupGetter",value:function(e){return this.__lookupGetter__?this.__lookupGetter__(e)||null:this._lookupPropertyDescriptor(e).get}},{key:"_lookupPropertyDescriptor",value:function(e){for(var t,i=this;i;){if(t=Object.getOwnPropertyDescriptor(i,e),!n2.isUndefined(t))return t;i=Object.getPrototypeOf(i)}return null}},{key:"_onLoading",value:function(e){}},{key:"_onLoaded",value:function(e,t,i){this._resolveDataBindings(e,t,i)}},{key:"_onLoadComplete",value:function(e){}},{key:"_resolveDataBinding",value:function(e,t){var i;n2.isUndefined(t.value)?(this._validateSetterHasPrivateProperty(e),!(i=null)===this["_".concat(e)]&&(i=!1),n2.isUndefined(t.defaultValue)||(i=t.defaultValue),this[e]=i):this[e]=t.value}},{key:"_updateDataBinding",value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=i.type,n=void 0===n?"set":n,i=i.key,i=void 0===i?null:i;if(this._isDataDriven()){e=this._getDataBinding(e);if(!n2.isNull(e)){if(n2.isUndefined(e.dataItem)&&this._refreshDataBinding(e,{defaultValue:t}),!n2.dataProvider.Model.isModeled(e.dataItem))throw new Error("Data items must be modeled to allow them to be updated and kept in sync.  Make sure your data provider has been set to be modeled.");this._updateDataItem(e.dataItem,t,{type:n,key:i})}return e}}},{key:"_updateDataItem",value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=i.type,i=i.key,s=void 0===i?null:i;switch(void 0===n?"set":n){case"set":e.value=t;break;case"insert":e.insert(t,{key:s});break;case"remove":e.remove(s);break;default:throw new Error("".concat(s," is not a valid type of update, please use 'set, 'insert' or 'remove'."))}}},{key:"_onSaving",value:function(e){}},{key:"_onSaved",value:function(e,t){}},{key:"_onError",value:function(e,t){window.console.error(e)}},{key:"_isDataDriven",value:function(e){return this.hasMixin(n2.mixin.DataDriven)||this._hasConfigOption(e,"mixins",function(e){return e.includes(n2.mixin.DataDriven)})}},{key:"_isObservable",value:function(e){return this.hasMixin(n2.mixin.Observable)||this._hasConfigOption(e,"mixins",function(e){return e.includes(n2.mixin.Observable)})}},{key:"hasMixin",value:function(e){return!!this._mixins&&-1!==this._mixins.indexOf(e)}},{key:"_hasConfigOption",value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return!n2.isUndefined(e)&&!n2.isUndefined(e[t])&&(n2.isFunction(i)?i.call(this,e[t]):n2.isNull(i)||e[t]===i)}},{key:"instanceOf",value:function(e){return this instanceof e}},{key:"typeOf",value:function(e){return this.constructor===e}},{key:"_setProperty",value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=i.silent,n=void 0===n||n,i=i.sync,i=void 0===i||i,s=(this._validateSetProperty(e),this._getPropertyKey(e));this._hasPropertyChanged(e,t)&&(this._changedProperties.push(e),this._previousPropertyValues[e]=this[s],this[s]=t,this._isSettingMultipleProperties||(i&&this._updateDataBinding(e,t),this._handleSetProperty({silent:n})))}},{key:"setProperty",value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=i.silent,n=void 0===n||n,i=i.sync,i=void 0===i||i;if(!this._isPublicProperty(e)&&this._isPrivateProperty(e))throw new Error("You are trying to set a private property, please use _setProperty() or make the property public.");this._setProperty(e,t,{silent:n,sync:i})}},{key:"_validateSetProperty",value:function(e){if(e.startsWith("_"))throw new Error("Property names passed to _setProperty should not include a preceding underscore, even if the property is private. Please pass '".concat(e.substring(1),"' instead of '").concat(e,"'."));var t=this._isPublicProperty(e),i=this._isPrivateProperty(e);if(!t&&!i)throw new Error("Cannot set a property that has not been declared. Please declare a public or private property: _".concat(e," or ").concat(e,"."));if(t&&i)throw new Error("A public and private property with the same name have been declared: ".concat(e,"."));if(e===e.toUpperCase())throw new Error("Cannot use setProperty() or _setProperty() to set the constant: ".concat(e,"."))}},{key:"_hasPropertyChanged",value:function(e,t){return!n2.compare(this._getPropertyValue(e),t)}},{key:"_handleSetProperty",value:function(e){e=e.silent;this._changedProperties.length&&(!(void 0===e||e)&&this._isObservable()?this._firePropertyChangeEvent():this._refreshChangedProperties(),this._changedProperties=[])}},{key:"_firePropertyChangeEvent",value:function(){var e=this._changedProperties.map(function(e){return{property:e,type:"set"}}),e=this._createChangeEventObject(e,this._getPropertyChangeEventConfig());this.fire(n2.event.EventType.CHANGE,e)}},{key:"_getPropertyChangeEventConfig",value:function(){var t=this,i={};return this._changedProperties.forEach(function(e){i[e]={oldValue:t._getPreviousPropertyValue(e),newValue:t._getPropertyValue(e)}}),{data:i,defaultMethod:function(){return t._refreshChangedProperties()}}}},{key:"_setProperties",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).silent,t=void 0===t||t;this._isSettingMultipleProperties=!0;for(var i=0,n=Object.entries(e);i<n.length;i++){var s=_slicedToArray(n[i],2),o=s[0],s=s[1];this._setProperty(o,s,{silent:!0,sync:!1})}this._handleSetProperty({silent:t}),this._isSettingMultipleProperties=!1}},{key:"setProperties",value:function(e){for(var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).silent,t=void 0===t||t,i=0,n=Object.entries(e);i<n.length;i++){var s=_slicedToArray(n[i],1)[0];if(!this._isPublicProperty(s)&&this._isPrivateProperty(s))throw new Error("You are trying to set the private property: _".concat(s,", please use _setProperties() or make the property public."))}this._setProperties(e,{silent:t})}},{key:"_refreshChangedProperties",value:function(){var t,e,i=this;1===this._changedProperties.length?this._refreshProperty(this._changedProperties[0]):(t=[],this._changedProperties.forEach(function(e){n2.isUndefined(i._REFRESH[e])||t.push(i._REFRESH[e])}),(e=_toConsumableArray(new Set(t.flat()))).length&&this._refresh(e))}},{key:"_refreshProperty",value:function(e){n2.isUndefined(this._REFRESH[e])||this._refresh(this._REFRESH[e])}},{key:"_refresh",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"all";"all"===e?this._refreshAll():this._refreshParts(e)}},{key:"_refreshAll",value:function(){this._refreshParts(this._REFRESH.DEFAULT)}},{key:"_refreshParts",value:function(e){var t=this;e.forEach(function(e){t._refreshPart(e)})}},{key:"_refreshPart",value:function(e){e="_refresh".concat(e[0].toUpperCase()+e.slice(1));if(n2.isUndefined(this[e]))throw new Error("Missing refresh function: ".concat(e,"."));this[e]()}},{key:"_isPublicProperty",value:function(e){return!this._isSetter(e)&&!this._isGetter(e)&&"".concat(e)in this}},{key:"_isPrivateProperty",value:function(e){return"_".concat(e)in this}},{key:"_getPreviousPropertyValue",value:function(e){return this._previousPropertyValues[e]}},{key:"_getPropertyValue",value:function(e){return this[this._getPropertyKey(e)]}},{key:"_getPropertyKey",value:function(e){return this._isPrivateProperty(e)?"_".concat(e):e}},{key:"destroy",value:function(){this.hasMixin(n2.mixin.Observable)&&this.purgeListeners(),this.hasMixin(n2.mixin.Singleton)&&this.removeSingleton(),this._isDataDriven()&&this._removeDataProviderListeners(),this._destroyed=!0}}],[{key:"getInstance",value:function(e){return n2.mixin.Singleton.getSingleton.call(this,e)}}]),s}(),n2.DataProvider=function(){_inherits(o,n2.Object);var e,t,i,n,s=_createSuper(o);function o(e){return _classCallCheck(this,o),e=s.call(this,e),n2.DataProviderManager.getInstance().register(_assertThisInitialized(e)),e}return _createClass(o,[{key:"_define",value:function(){_get4(_getPrototypeOf(o.prototype),"_define",this).call(this),this.REQUIRED_MEMBERS=["id"],this.EVENTS={loading:function(e){},loaded:function(e,t){},error:function(e,t){},posting:function(e){},posted:function(e,t){}},this._mixins=[n2.mixin.Observable],this.id=null,this._DEFAULT_REQUEST_ID="#defaultRequestId#",this._cache=!1,this.modeled=!1,this._responses={},this._loadingRequestIds=[],this._loadPromises={},this.autoSave=!1}},{key:"model",get:function(){return this.getResponse()}},{key:"cache",set:function(e){this._cache=e}},{key:"hasPendingRequests",get:function(){return!n2.isEmpty(this._loadingRequestIds)}},{key:"get",value:(n=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,i,n,s,o,l,a=this,r=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(l=0<r.length&&void 0!==r[0]?r[0]:{}).requestId,t=void 0===i?this._DEFAULT_REQUEST_ID:i,i=l.targetComponentIds,i=void 0===i?[]:i,s=l.force,n=void 0!==s&&s,s=l.silent,s=void 0!==s&&s,o=l.params,t=n2.isNull(t)?this._DEFAULT_REQUEST_ID:t,!1===s&&this.fire("loading",this,i),!n2.isNull(this._getLoadPromise({requestId:t}))&&!0!==n||(this._loadPromises[t]=Promise.resolve().then(function(){return a._get({requestId:t,force:n,params:o})})),e.prev=2,e.next=5,this._getLoadPromise({requestId:t});case 5:return l=e.sent,e.abrupt("return",(this._responses[t]=l,!1===s&&this.fire("loaded",l,this,t,i),this.getResponse({requestId:t})));case 9:throw e.prev=9,e.t0=e.catch(2),this.fire("error",e.t0.message,this),e.t0;case 12:case"end":return e.stop()}},e,this,[[2,9]])})),function(){return n.apply(this,arguments)})},{key:"_get",value:(i=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var i,n,s,o;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.requestId,i=void 0===n?this._DEFAULT_REQUEST_ID:n,n=t.force,n=void 0!==n&&n,s=t.params,o=this._checkCache({requestId:i}),n2.isNull(o)||!1!==n){e.next=4;break}return e.abrupt("return",this._onResponseOK(o));case 4:return this._loadingRequestIds.push(i),e.next=7,this._fetch(s);case 7:if((o=e.sent).ok)return e.abrupt("return",(!1!==this._cache&&this._cacheResponse(o.data,{requestId:i}),this._loadingRequestIds=this._loadingRequestIds.filter(function(e){return e!==i}),this._onResponseOK(o.data)));e.next=9;break;case 9:throw new Error(o.message);case 10:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"_onResponseOK",value:function(e){return this.modeled?this._loadModel(e):e}},{key:"_fetch",value:function(e){throw new Error("This should be overridden in the subclass of DataProvider")}},{key:"_checkCache",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).requestId,e=void 0===e?this._DEFAULT_REQUEST_ID:e;if(!1!==this._cache){e=e===this._DEFAULT_REQUEST_ID?"":":".concat(e),e=window.localStorage.getItem("".concat(this.id).concat(e));if(!n2.isNull(e))return(e=JSON.parse(e)).timestamp<Date.now()?(window.localStorage.removeItem(this.id),null):e.data}return null}},{key:"_cacheResponse",value:(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var i,n,s=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=(1<s.length&&void 0!==s[1]?s[1]:{}).requestId,i=void 0===i?this._DEFAULT_REQUEST_ID:i,n=600,n2.isFiniteNumber(this._cache)&&(n=this._cache),n=1e3*n,n={timestamp:Date.now()+n,data:t},i=i===this._DEFAULT_REQUEST_ID?"":":".concat(i),window.localStorage.setItem("".concat(this.id).concat(i),JSON.stringify(n));case 5:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_loadModel",value:function(e){var t=this,i={value:e},n=null,n=new(n2.isObject(e)?n2.dataProvider.Model:n2.isArray(e)?n2.dataProvider.model.Collection:n2.dataProvider.model.Property)(i);return!n2.isNull(n)&&this.autoSave&&n.listen("change",function(e){t.post()},this),n}},{key:"post",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,i,n,s,o=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(n=0<o.length&&void 0!==o[0]?o[0]:{}).silent,t=void 0!==t&&t,i=n.params,n=n.data,n=void 0===n?null:n,!1===t&&this.fire("posting",this),e.prev=2,n=n2.isNull(n)?this.getResponse():n,e.next=6,this._post(n,i);case 6:if((s=e.sent).ok)return e.abrupt("return",(!1===t&&this.fire("posted",s,this),s));e.next=9;break;case 9:throw new Error(s.message);case 12:throw e.prev=12,e.t0=e.catch(2),this.fire("error",e.t0.message,this),e.t0;case 15:case"end":return e.stop()}},e,this,[[2,12]])})),function(){return e.apply(this,arguments)})},{key:"_post",value:function(e,t){throw new Error("This should be overridden in the subclass of DataProvider")}},{key:"_getLoadPromise",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).requestId,e=void 0===e?this._DEFAULT_REQUEST_ID:e;return this._loadPromises[e]||null}},{key:"hasResponse",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).requestId,e=void 0===e?this._DEFAULT_REQUEST_ID:e;return Object.keys(this._responses).includes(e)}},{key:"getResponse",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).requestId,e=void 0===e?this._DEFAULT_REQUEST_ID:e;return n2.isUndefined(this._responses[e])?null:this._responses[e]}},{key:"hasGet",value:function(){throw new Error("This logic should be defined in the extended data provider.")}},{key:"hasPost",value:function(){throw new Error("This logic should be defined in the extended data provider.")}},{key:"destroy",value:function(){_get4(_getPrototypeOf(o.prototype),"destroy",this).call(this),this._responses={},this._loadedPromises={},n2.DataProviderManager.getInstance().unregister(this.id),window.localStorage.removeItem(this.id)}}]),o}(),n2.DataProviderManager=function(){_inherits(i,n2.Object);var t,e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return _createClass(i,[{key:"_define",value:function(){_get4(_getPrototypeOf(i.prototype),"_define",this).call(this),this.EVENTS={loading:function(e){},loaded:function(e){},posting:function(e){},posted:function(e){},error:function(e,t){}},this._mixins=[n2.mixin.Singleton,n2.mixin.Observable],this._dataProviders={}}},{key:"register",value:function(e){var t=this;if(this._dataProviders.hasOwnProperty(e.id))throw new Error('A data provider with the id: "'+e.id+'" has already been registered.');e.listen("loading",function(){t.fire("loading")},this),e.listen("loaded",function(){t.fire("loaded")},this),e.listen("posting",function(){t.fire("posting")},this),e.listen("posted",function(){t.fire("posted")},this),e.listen("error",function(e){t.fire("error",e)},this),this._dataProviders[e.id]=e}},{key:"unregister",value:function(e){var t=this._dataProviders[e];t.removeListeners("loading",{caller:this}),t.removeListeners("loaded",{caller:this}),t.removeListeners("posting",{caller:this}),t.removeListeners("posted",{caller:this}),t.removeListeners("error",{caller:this}),delete this._dataProviders[e]}},{key:"loadDataProviders",value:(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var i,n,s,o,l=this,a=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(o=1<a.length&&void 0!==a[1]?a[1]:{}).force,i=void 0!==n&&n,n=o.silent,s=void 0!==n&&n,n2.isArray(t)||(t=[t]),o=t.map(function(e){return(n2.isString(e)?l.get(e):e).get({force:i,silent:s})}),e.abrupt("return",Promise.all(o));case 4:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})},{key:"destroyAll",value:function(){n2.forEach(this._dataProviders,function(e){e.destroyed||e.destroy()})}},{key:"destroy",value:function(){var t=this;_get4(_getPrototypeOf(i.prototype),"destroy",this).call(this),n2.forEach(this._dataProviders,function(e){return t.unregister(e.id)})}},{key:"get",value:function(e){return this._dataProviders[e]||null}}]),i}(),n2.EventBus=function(){_inherits(t,n2.Object);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this.EVENTS=n2.merge(_get4(_getPrototypeOf(t.prototype),"EVENTS",this),{dragStart:function(e){e.targetComponent,e.data},dragStop:function(e){e.targetComponent,e.data},drop:function(e){e.targetComponent,e.data}}),this._mixins=[n2.mixin.Observable,n2.mixin.Singleton]}}]),t}(),n2.Util={register:function(e){for(var t in e){if(n2.hasOwnProperty(t))throw new Error("Util with the name "+t+" already exists.");n2[t]=e[t]}}},n2.dataProvider.Delayed=function(){_inherits(s,n2.DataProvider);var e,t,i,n=_createSuper(s);function s(){return _classCallCheck(this,s),n.apply(this,arguments)}return _createClass(s,[{key:"_define",value:function(){_get4(_getPrototypeOf(s.prototype),"_define",this).call(this),this.responseData=null,this.delay=2500,this._requestId=null}},{key:"_get",value:(i=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var i,n=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.requestId,i=void 0===i?this._DEFAULT_REQUEST_ID:i,t.force,t.params,e.abrupt("return",(this._requestId=i,_get4(_getPrototypeOf(s.prototype),"_get",this).apply(this,n)));case 2:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"_fetch",value:(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._runDelayedPromise());case 1:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"_post",value:function(){return this._runDelayedPromise()}},{key:"_runDelayedPromise",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var s=this;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(t){var i=s,n=s._requestId;new n2.util.DelayedTask(function(){var e=n2.isUndefined(i.responseData[n])?i.responseData:i.responseData[n];n2.isUndefined(e.ok)&&(e={ok:!0,data:e}),t(e)},s.delay).start()}));case 1:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})},{key:"hasGet",value:function(){return!0}},{key:"hasPost",value:function(){return!0}}]),s}(),n2.dataProvider.Model=function(){_inherits(t,n2.Object);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this.REQUIRED_MEMBERS=["value"],this.EVENTS={change:function(e){}},this._mixins=[n2.mixin.Observable],this._parent=null,this._value=null,this._items={},this._dirty=!1,this._lazyLoad=!0}},{key:"value",set:function(e){this.set(e)}},{key:"json",get:function(){var i={};return n2.forEach(this._items,function(e,t){i[t]=e.json}),i}},{key:"items",get:function(){return this._items}},{key:"dirty",get:function(){return this._dirty}},{key:"_applyConfig",value:function(e){n2.isUndefined(e.parent)||(this._parent=e.parent,delete e.parent),_get4(_getPrototypeOf(t.prototype),"_applyConfig",this).apply(this,arguments)}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(t.prototype),"_onDefined",this).apply(this,arguments),this._validateRawData(this._value),this._parseRawData()}},{key:"_validateRawData",value:function(e){if(!n2.isObject(e))throw new Error("The raw data should be an object for a model")}},{key:"_parseRawData",value:function(){var i=this;n2.forEach(this._value,function(e,t){i._items[t]=i._createItem(e)})}},{key:"insert",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.key,t=t.silent,t=void 0!==t&&t,n=n2.dataProvider.Model.isModeled(e),e=n?e:this._createItem(e);return this._dirty=!0,e._parent=this,n&&e.listen("change",this._handleChangeEventBubble,this),this._items[i]=e,this._handleChange(n2.dataProvider.model.enum.Change.INSERT,{key:i,changeItem:e,silent:t}),this.getProperty(i)}},{key:"_createItem",value:function(e){var t=this,i={parent:this,value:e,listeners:{change:function(e){return t._handleChangeEventBubble(e)}}};return new(n2.isObject(e)?n2.dataProvider.Model:n2.isArray(e)?n2.dataProvider.model.Collection:n2.dataProvider.model.Property)(i)}},{key:"remove",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).silent,t=void 0!==t&&t,i=this._items[e];return delete this._items[e],this._dirty=!0,i._parent=null,i.removeListeners("change",{caller:this}),this._handleChange(n2.dataProvider.model.enum.Change.REMOVE,{key:e,changeItem:i,silent:t}),i}},{key:"set",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.key,i=void 0===i?null:i,t=t.silent,t=void 0!==t&&t;if(n2.isNull(i))return this._setValue(e,{silent:t});this.getProperty(i).set(e,{silent:t})}},{key:"_setValue",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).silent,t=void 0!==t&&t;this._validateRawData(e),n2.compare(this._value,e)||(this._value=e,this._dirty=!0,this._items={},this._parseRawData(),t)||(e=null,this.hasParent()&&(e=this._parent.findChild(this).key),this._handleChange(n2.dataProvider.model.enum.Change.SET,{key:e,silent:t}))}},{key:"_handleChange",value:function(e){var t,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=i.changeItem,n=void 0===n?this:n,s=i.key,s=void 0===s?null:s,i=i.silent,i=void 0!==i&&i;this._onChange(e),i||(i=this._getBindPathKeyNotation(s),s=e===n2.dataProvider.model.enum.Change.INSERT,t=e===n2.dataProvider.model.enum.Change.REMOVE,this.hasParent()&&!n2.isEmpty(i)&&(s||t)&&(i="".concat(this._getBindPathKeyNotation(this._parent.findChild(this).key)).concat(i)),this.fire("change",{target:this,currentTarget:this,change:{type:e,item:n,bindPath:i,bindPathMatch:function(e){return n2.isPathMatch(e,this.bindPath)}}}))}},{key:"_onChange",value:function(e){(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).changeItem}},{key:"_handleChangeEventBubble",value:function(e){var t,i=e.change.bindPath;this.hasParent()?(t=this._parent.findChild(this),n2.isNull(t.key)||(i="".concat(this._getBindPathKeyNotation(t.key)).concat(i))):i.startsWith(".")&&(i=i.replace(".","")),e.currentTarget=this,e.change.bindPath=i,this._dirty=!0,this.fire("change",e)}},{key:"findChild",value:function(i){var n=null;return n2.forEach(this._items,function(e,t){if(i===e)return n=t,!1}),{item:i,key:n}}},{key:"getProperty",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).defaultValue;return this.hasProperty(e)||n2.isUndefined(t)?this._items[e]:this.insert(t,{key:e,silent:!0})}},{key:"get",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).defaultValue,e=this.getProperty(e,{defaultValue:t});if(!n2.isUndefined(e))return e.json}},{key:"_getBindPathKeyNotation",value:function(e){return n2.isNull(e)?"":n2.isFiniteNumber(e)?"[".concat(e,"]"):this.hasParent()?".".concat(e):e}},{key:"hasParent",value:function(){return!n2.isNull(this._parent)}},{key:"hasProperty",value:function(e){return!n2.isUndefined(this._items[e])}}],[{key:"isModeled",value:function(e){return e instanceof n2.dataProvider.Model||e instanceof n2.dataProvider.model.Collection||e instanceof n2.dataProvider.model.Property}}]),t}(),n2.dataProvider.REST=function(){_inherits(i,n2.DataProvider);var t,e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return _createClass(i,[{key:"_define",value:function(){_get4(_getPrototypeOf(i.prototype),"_define",this).call(this),this.REQUIRED_MEMBERS=n2.merge(this.REQUIRED_MEMBERS,["url"]),this.url=null}},{key:"_fetch",value:(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var i;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n2.fetch(this.url);case 2:if(i=e.sent,e.t0=i.ok,i.ok)return e.next=7,i.json();e.next=10;break;case 7:e.t1=e.sent,e.next=11;break;case 10:e.t1=null;case 11:return e.t2=e.t1,e.t3=i.status+" "+i.statusText,e.abrupt("return",{ok:e.t0,data:e.t2,message:e.t3});case 14:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"hasGet",value:function(){return!0}},{key:"hasPost",value:function(){return!1}}]),i}(),n2.dataProvider.Static=function(){_inherits(t,n2.dataProvider.Delayed);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this.REQUIRED_MEMBERS=n2.merge(this.REQUIRED_MEMBERS,["data"]),this._data=null,this.delay=0}},{key:"data",set:function(e){this._data=e,this.responseData={ok:!0,data:e}}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(t.prototype),"_onDefined",this).call(this),this.responseData={ok:!0,data:this._data}}},{key:"_post",value:function(){throw new Error("Static data providers are for get only, they should not call a post method")}},{key:"hasGet",value:function(){return!0}},{key:"hasPost",value:function(){return!1}}]),t}(),n2.dataProvider.VisualForce=function(){_inherits(n,n2.DataProvider);var t,e,i=_createSuper(n);function n(){return _classCallCheck(this,n),i.apply(this,arguments)}return _createClass(n,[{key:"_define",value:function(){_get4(_getPrototypeOf(n.prototype),"_define",this).call(this),this.data=null,this.methods=null}},{key:"_fetch",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,i,n=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<n.length&&void 0!==n[0]?n[0]:[],n2.isNull(this.data)){e.next=3;break}return e.abrupt("return",{ok:!0,data:this.data});case 3:return i=n2.isObject(this.methods)?this.methods.get:{method:this.methods},e.next=6,this._invokeAction(i,t);case 6:return i=e.sent,e.abrupt("return",{ok:i[1].status,data:i[0],message:i[1].message});case 8:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"_post",value:(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var i,n,s=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=1<s.length&&void 0!==s[1]?s[1]:[],n2.isEmpty(t)){e.next=3;break}throw new Error("Visualforce providers don't use the data param.  Please declare all post data using the `params` property.");case 3:return e.next=5,this._invokeAction(this.methods.post,i);case 5:return n=e.sent,e.abrupt("return",{ok:n[1].status,data:n[0],message:n[1].message});case 7:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_invokeAction",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=n2.isEmpty(n)?[]:n;if(n2.isArray(n))return new Promise(function(i){var e=n2.merge([t.method],t.params||[],n||[]);e.push(function(e,t){return i([e,t])}),e.push(n2.merge({escape:!1},t.config)),Visualforce.remoting.Manager.invokeAction.apply(Visualforce.remoting.Manager,e)});throw new Error("Visualforce providers expect params declared in an array in the order they are expected in the controller.")}},{key:"hasGet",value:function(){return n2.isString(this.methods)||!n2.isUndefined(this.methods.get)}},{key:"hasPost",value:function(){return!n2.isUndefined(this.methods.post)}}]),n}(),n2.event.EventType={LOADING:"loading",LOADED:"loaded",LOAD_COMPLETE:"loadComplete",SAVING:"saving",SAVED:"saved",POSTING:"posting",POSTED:"posted",ERROR:"error",SUBMIT:"submit",CANCEL:"cancel",FOCUS:"focus",FOCUS_IN:"focusin",BLUR:"blur",CLICK:"click",KEY_DOWN:"keydown",KEY_UP:"keyup",MOUSE_DOWN:"mousedown",MOUSE_UP:"mouseup",SELECT:"select",CHANGE:"change"},n2.event.N2Event=function(){function t(e){_classCallCheck(this,t),this._target=e.target,this._currentTarget=e.currentTarget,this._relatedTarget=e.relatedTarget||null,this._event=e.event||null,this._data=e.data||null,this._canBubble=e.canBubble||!1,this._defaultMethod=e.defaultMethod||null,this.await=null,this._preventDefault=!1}return _createClass(t,[{key:"target",get:function(){return this._target}},{key:"currentTarget",get:function(){return this._currentTarget},set:function(e){this._currentTarget=e}},{key:"relatedTarget",get:function(){return this._relatedTarget}},{key:"event",get:function(){return this._event}},{key:"data",get:function(){return this._data}},{key:"isN2Event",get:function(){return!0}},{key:"isDefaultPrevented",get:function(){return this._preventDefault}},{key:"hasDefaultMethod",get:function(){return n2.isFunction(this._defaultMethod)}},{key:"canBubble",get:function(){return this._canBubble}},{key:"preventDefault",value:function(){this._preventDefault=!0}},{key:"performDefault",value:function(){if(!this.hasDefaultMethod)throw new Error("Performing default method on n2Event on which one has not been set.");this._defaultMethod.call(this.target,this)}},{key:"stopPropagation",value:function(){this._canBubble=!1}}]),t}(),n2.mixin.DataDriven={_model:null,dataProviders:null,_dataBindings:null,loadMessages:null,saveMessages:null,_loadingDataProviders:null,_loadedDataProviderResponses:null,_prepareDataProviders:function(){this._loadingDataProviders=[],this._loadedDataProviderResponses=[],n2.isNull(this.dataProviders)||this._addDataProviderListeners()},_addDataProviderListeners:function(){var s=this,e=this._getDataProviders(this.dataProviders);n2.isEmpty(e)||e.forEach(function(e){e.listen("loading",function(e,t){return s._handleLoading({dataProvider:e,targetComponentIds:t})},s),e.listen("loaded",function(e,t,i,n){return s._handleLoaded(e,t,i,n)},s),e.listen("posting",function(e){return s._handlePosting(e)},s),e.listen("posted",function(e,t){return s._handlePosted(e.data,t)},s),e.listen("error",function(e,t){return s._onError(e,t)},s)})},_removeDataProviderListeners:function(){var t=this,e=this._getDataProviders(this.dataProviders);n2.isEmpty(e)||e.forEach(function(e){e.removeListeners("loading",{caller:t}),e.removeListeners("loaded",{caller:t}),e.removeListeners("posting",{caller:t}),e.removeListeners("posted",{caller:t}),e.removeListeners("error",{caller:t})})},_loadDataProviders:function(o){var l=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,i,n,s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.force,t=void 0!==t&&t,i=o.silent,i=void 0===i||i,n2.isNull(l.dataProviders))return e.abrupt("return");e.next=3;break;case 3:if(n=l._getDataProviders(l.dataProviders),n2.isEmpty(n)||(n=n.filter(function(e){return e.hasGet()}),n2.isEmpty(n))){e.next=10;break}return n.forEach(function(e){e.removeListeners("loading",{caller:l}),e.removeListeners("loaded",{caller:l}),l._handleLoading({dataProvider:e})}),e.next=8,n2.DataProviderManager.getInstance().loadDataProviders(n,{force:t,silent:i});case 8:return s=e.sent,e.abrupt("return",(n.forEach(function(e){l._handleLoaded(e.model,e),e.listen("loading",function(e){return l._handleLoading({dataProvider:e})},l),e.listen("loaded",function(e,t){return l._handleLoaded(e,t)},l)}),s));case 10:case"end":return e.stop()}},e)}))()},_loadDataProvider:function(a){var r=arguments,u=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,i,n,s,o,l;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(s=1<r.length&&void 0!==r[1]?r[1]:{}).requestId,t=void 0===t?null:t,i=s.targetComponentIds,i=void 0===i?[]:i,l=s.params,n=s.silent,n=void 0===n||n,s=s.force,s=void 0===s||s,o=u._getDataProviderById(a),n&&u._handleLoading({dataProvider:o,targetComponentIds:i}),e.next=5,u._fetchDataProvider(o.id,{requestId:t,params:l,force:s,silent:n});case 5:return l=e.sent,e.abrupt("return",(u._isLoadingChain?u._resolveDataBindings(l.response,o,t):n&&u._handleLoaded(l.response,o,t,i),l));case 7:case"end":return e.stop()}},e)}))()},_fetchDataProvider:function(l){var a=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,i,n,s,o;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(s=1<a.length&&void 0!==a[1]?a[1]:{}).requestId,i=s.params,n=s.silent,n=void 0!==n&&n,s=s.force,s=void 0===s||s,o=r._getDataProviderById(l),e.t0=t,e.next=5,o.get({requestId:t,params:i,force:s,silent:n});case 5:return e.t1=e.sent,e.abrupt("return",{requestId:e.t0,response:e.t1});case 7:case"end":return e.stop()}},e)}))()},_postDataProvider:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.params,t=t.silent,t=void 0!==t&&t;return this._getDataProviderById(e).post({params:i,silent:t})},_handleLoading:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.dataProvider,t=void 0===t?null:t,e=e.targetComponentIds;this._canHandleRequest(t,void 0===e?[]:e)&&(n2.isNull(t)||this._storeLoadingDataProvider(t),this._onLoading(t),this.fire("loading",this,t))},_canHandleRequest:function(e,t){return!(!n2.isNull(e)&&!n2.isEmpty(t))||t.includes(this.id)},_handleLoaded:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;n2.isNull(t)||this._removeLoadingDataProvider(t),this._canHandleRequest(t,n)&&(this._onLoaded(e,t,i),this.fire("loaded",this,e,t,i))},_handleLoadComplete:function(e){this._removeAllLoadingDataProviders(),this._onLoadComplete(e),this.fire("loadComplete",this,e)},_storeLoadingDataProvider:function(e){this._loadingDataProviders.includes(e)||this._loadingDataProviders.push(e)},_removeAllLoadingDataProviders:function(){var t=this;n2.isEmpty(this._loadingDataProviders)||n2.clone(this._loadingDataProviders).forEach(function(e){return t._removeLoadingDataProvider(e)})},_removeLoadingDataProvider:function(e){n2.isEmpty(this._loadingDataProviders)||e.hasPendingRequests||(e=this._loadingDataProviders.indexOf(e),this._loadingDataProviders.splice(e,1))},isLoading:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).dataProviderId,e=void 0===e?null:e;return n2.isNull(e)?!n2.isEmpty(this._loadingDataProviders):this._isDataProviderLoading(e)},_isDataProviderLoading:function(t){var e=this._loadingDataProviders.find(function(e){return e.id===t});return!n2.isUndefined(e)&&e.hasPendingRequests},_handlePosting:function(e){this._onSaving(e),this.fire("saving",this,e)},_handlePosted:function(e,t){this._onSaved(e,t),this.fire("saved",this,e,t)},_getDataProviders:function(e){var t=this;return n2.isNull(e)?[]:e.map(function(e){return t._getDataProviderById(e)}).filter(function(e){return!n2.isNull(e)})},_getDataProviderById:function(e){return n2.DataProviderManager.getInstance().get(e)},_resolveDataBindings:function(o){var l=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=2<arguments.length?arguments[2]:void 0;n2.forEach(this._dataBindings,function(e,t){var i=e.bindPath,n=n2.isNull(a)&&l._isBindPathForModel(i,a),s=!n2.isNull(a)&&l._isBindPathForDataProvider(i,a);if(n||s){if(e.dataProviderId=null,s){e.dataProviderId=a.id;n=l._calculateRequestId(i,r);if(!n2.isUndefined(n)&&!a.hasResponse({requestId:n}))return;e.requestId=n}if(l._refreshDataBinding(e,{model:o}),n2.isUndefined(l._resolveDataBinding))throw new Error("_resolveDataBinding should be overridden in the class.  The class itself should decide how to resolve a data binding");l._resolveDataBinding(t,e)}})},_calculateRequestId:function(e,t){e=/:[a-zA-Z0-9-#]*/.exec(e);if(!n2.isNull(e))return e[0].replace(":","").replace("#requestId#",t)},_refreshDataBinding:function(e){var t,i=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).defaultValue,n=e.bindPath,s=this._model;!n2.isNull(e.dataProviderId)&&(n=n.replace(e.dataProviderId,""),n2.isUndefined(e.requestId)||(n=n.replace(":#requestId#","").replace(":".concat(e.requestId),"")),s=n2.DataProviderManager.getInstance().get(e.dataProviderId).getResponse({requestId:e.requestId}),n2.isNull(s))||(t=n2.dataProvider.Model.isModeled(s),n=n.replace(/^\./,""),n2.isUndefined(i)?e.dataItem=this._resolveBindPath(n,{model:s}):e.dataItem=this._resolveBindPath(n,{model:s,defaultValue:i}),e.rawValue=void 0,e.value=void 0,n2.isUndefined(e.dataItem))||(e.rawValue=t?e.dataItem.json:e.dataItem,e.value=n2.isUndefined(e.adapter)?e.rawValue:e.adapter.call(this,e.rawValue))},_isBindPathForModel:function(e){return e.startsWith(".")},_isBindPathForDataProvider:function(e,t){var i=new RegExp("^".concat(t.id,"[.|[|:]"));return t.id===e||i.test(e)},_resolveBindPath:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.model,i=void 0===i?this._model:i,n=t.defaultValue;if(n2.isEmpty(e)||i instanceof n2.dataProvider.model.Property)return i;e=n2.splitBindPath(e);for(var s=i instanceof n2.Object,o=0,l=i;!n2.isUndefined(e[o]);)l=s?this._resolveModeledDataValue(l,e[o],n):this._resolveDataValue(l,e[o],n),o+=1;return l},_resolveModeledDataValue:function(e,t,i){return e.getProperty(t,{defaultValue:i})},_resolveDataValue:function(e,t){return n2.isUndefined(e[t])&&(e[t]=null),e[t]},_isDataBinding:function(e){return n2.isObject(e)&&n2.isString(e.bindPath)},_getDataBinding:function(e){return!n2.isNull(this._dataBindings)&&this._dataBindings[e]||null}},n2.mixin.Observable={_EVENTS:null,updateLegacyProperties:function(){var e=n2.isNull(this._EVENTS)?[]:this._EVENTS,t=n2.isNull(this.EVENTS)?[]:Object.keys(this.EVENTS);this._EVENTS=[].concat(_toConsumableArray(e),_toConsumableArray(t)),this.EVENTS={}},_listeners:null,listen:function(e,t,i){if(!this.hasEvent(e))throw new Error("The event: "+e+" is not registered with this class.");if(!i)throw new Error("You should define a caller, otherwise you may have issues removing the listener.");this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],this._listeners[e].push({fcn:t,caller:i})},hasListener:function(e,t){return!n2.isNull(this._listeners)&&!!(e=this._listeners[e])&&(e=e.find(function(e){return e.caller===t}),!n2.isUndefined(e))},hasEvent:function(e){return this._EVENTS&&this._EVENTS.includes(e)},fire:function(o){var l=arguments,a=this;return _asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,i,n,s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=l.length,i=new Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=l[n];if(a._fireHandlers(o,i),s=i[0]||null,!n2.isNull(s)&&s.isN2Event&&a._performBubble(o,s),e.t0=n2.isNull(s)||!s.isN2Event||n2.isNull(s.await),e.t0){e.next=8;break}return e.next=8,s.await;case 8:!n2.isNull(s)&&s.isN2Event&&s.hasDefaultMethod&&!s.isDefaultPrevented&&s.performDefault();case 9:case"end":return e.stop()}},e)}))()},_fireHandlers:function(e,t){var i=this;if(!this.hasEvent(e))throw new Error("The event: "+e+" is not registered with this class.");this._listeners=this._listeners||{},(this._listeners[e]||[]).forEach(function(e){e.fcn.apply(e.caller||i,t)})},_performBubble:function(e,t){for(var i=this.parent,n=i&&i.hasMixin(n2.mixin.Observable);t.canBubble&&i&&n&&i.hasEvent(e);)(t.currentTarget=i)._fireHandlers(e,[t]),n=(i=i.parent)&&i.hasMixin(n2.mixin.Observable)},removeListeners:function(e){var t,i,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s=n.handler,o=void 0===s?null:s,s=n.caller,l=void 0===s?null:s;n2.isNull(this._listeners)||n2.isUndefined(this._listeners[e])||(o||l?(n=this._listeners[e].filter(function(e){return t=!o||e.fcn===o,i=!l||e.caller===l,!t||!i}),this._listeners[e]=n):this._listeners[e]=[])},purgeListeners:function(){this._listeners={}},_createEvent:function(e){return new n2.event.N2Event(n2.merge(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{target:e,currentTarget:this}))},_createEventObject:function(){return new n2.event.N2Event(n2.merge(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{target:this,currentTarget:this}))},_createChangeEvent:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return i.data=n2.merge(i.data,{changes:t}),this._createEvent(e,i)},_createChangeEventObject:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t.data=n2.merge(t.data,{changes:e}),this._createEventObject(t)}};var singletons=[];n2.mixin.Singleton={getSingleton:function(e){var t=this,i=singletons.find(function(e){return e.constructor===t||e.constructor===t.constructor});if(!n2.isUndefined(i))return i;if((i=new this(e)).hasMixin(n2.mixin.Singleton))return singletons.push(i),i;throw new Error('getInstance is reserved for singletons only, please use "new" to create any instances that are not singletons.')},removeSingleton:function(){singletons.splice(singletons.indexOf(this),1)}},n2.ui.Component=function(){_inherits(i,n2.Object);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),e=t.call(this,e),n2.ui.ComponentManager.getInstance().register(_assertThisInitialized(e)),e}return _createClass(i,[{key:"_define",value:function(){_get4(_getPrototypeOf(i.prototype),"_define",this).call(this),this.EVENTS=n2.merge(this.EVENTS,{focus:function(e,t){},blur:function(e,t){}}),this.REQUIRED_MEMBERS=["id"],this.SELECTORS={spinner:"#{{id}}_spinner",body:null,focusTarget:null},this._elementCache={},this.id=null,this.domId=null,this._cls="",this._componentCls="",this._template='<div id="{{id}}" class="n2-component{{#hidden}} {{hideCls}}{{/hidden}}{{^hidden}} {{showCls}}{{/hidden}}{{#componentCls}} {{componentCls}}{{/componentCls}}{{#cls}} {{cls}}{{/cls}}"{{#title}} title="{{title}}"{{/title}}></div>',this._dom=null,this._rendered=!1,this.renderTo=null,this._parent=null,this._components={},this._componentIds=[],this._componentConfigs={},this._tooltip=null,this._title=null,this._hidden=!1,this._spinning=!1,this._spinnerMessage=null,this._focusable=n2.ui.enum.Focusable.DEFAULT,this._focused=!1,this._draggable=!1,this._reorderable=!1,this._lazyRender=!1}},{key:"tooltip",set:function(e){n2.compare(this._tooltip,e)||(this._tooltip=e,this._bindTooltip(this._tooltip))}},{key:"title",set:function(e){this._title!==e&&(this._title=e,this._rendered)&&this._dom.attribute("title",this._title)}},{key:"focusable",get:function(){return this._focusable},set:function(e){this._focusable!==e&&(this._focusable=e,this.rendered)&&this._makeFocusable(e)}},{key:"focused",get:function(){return this._focused},set:function(e){this._focused!==e&&(e?this.focus():this.blur())}},{key:"focusTarget",get:function(){return n2.isNull(this.SELECTORS.focusTarget)?this._dom:this.element("focusTarget")}},{key:"hidden",get:function(){return this._hidden},set:function(e){this._hidden!==e&&(e?this.hide():this.show())}},{key:"cls",get:function(){return this._cls},set:function(e){var t;this._cls!==e&&(t=this._cls,this._cls=e,this._rendered)&&(n2.isEmpty(t)||this._dom.removeClass(t),n2.isEmpty(this._cls)||this._dom.addClass(this._cls))}},{key:"rendered",get:function(){return this._rendered}},{key:"dom",get:function(){return this._dom}},{key:"components",get:function(){return this._components},set:function(e){this.destroyComponents(),this._componentConfigs=e,this._addComponents()}},{key:"componentList",get:function(){return Object.values(this._components)}},{key:"parent",get:function(){return this._parent},set:function(e){this._parent=e}},{key:"draggable",get:function(){return this._draggable},set:function(e){this._draggable!==e&&this._setDraggable(e)}},{key:"reorderable",set:function(e){this._reorderable!==e&&this._setReorderable(e)}},{key:"spinnerMessage",set:function(e){this._spinnerMessage=e,this._rendered&&!n2.isNull(this.element("spinner"))&&(e=this.element("spinner").find(".n2_spinner-message"),n2.isNull(e)||e.remove(),this.element("spinner").insert(this.spinnerMessageTemplate))}},{key:"spinnerTemplate",get:function(){return'<div id="'.concat(this.domId,'_spinner" class="slds-spinner_container">\n            <div class="slds-spinner slds-spinner_x-small" role="status">\n                <span class="slds-assistive-text">Loading</span>\n                <div class="slds-spinner__dot-a"></div>\n                <div class="slds-spinner__dot-b"></div>\n            </div>\n            ').concat(this.spinnerMessageTemplate,"\n        </div>")}},{key:"spinnerMessageTemplate",get:function(){return n2.isNull(this._spinnerMessage)?"":'<span class="n2_spinner-message">'.concat(this._spinnerMessage,"</span>")}},{key:"lazyRender",set:function(e){this._lazyRender!==e&&(this._lazyRender=e)}},{key:"_applyConfig",value:function(e){var t;e&&(t=e.components,delete e.components,this._componentConfigs=t),_get4(_getPrototypeOf(i.prototype),"_applyConfig",this).call(this,e)}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(i.prototype),"_onDefined",this).call(this),n2.isEmpty(this._componentConfigs)||this._addComponents()}},{key:"_addComponents",value:function(){var i=this;n2.forEach(this._componentConfigs,function(e){if(e instanceof n2.ui.Component)return i.insert(e),!0;var e=n2.clone(e),t=e.type;delete e.type,i.insert(new t(e))})}},{key:"_onLoading",value:function(){_get4(_getPrototypeOf(i.prototype),"_onLoading",this).call(this),this.isLoading()&&this._showLoadingSpinner()}},{key:"_showLoadingSpinner",value:function(){this.spinner(!!n2.isNull(this.loadMessages)||this.loadMessages)}},{key:"_onLoaded",value:function(e,t){_get4(_getPrototypeOf(i.prototype),"_onLoaded",this).apply(this,arguments),this.isLoading()||this.spinner(!1)}},{key:"_onLoadComplete",value:function(e){_get4(_getPrototypeOf(i.prototype),"_onLoadComplete",this).apply(this,arguments),this.spinner(!1)}},{key:"_onSaving",value:function(e){_get4(_getPrototypeOf(i.prototype),"_onSaving",this).apply(this,arguments),this._showSavingSpinner()}},{key:"_showSavingSpinner",value:function(){this.spinner(!!n2.isNull(this.saveMessages)||this.saveMessages)}},{key:"_onSaved",value:function(e,t){_get4(_getPrototypeOf(i.prototype),"_onSaved",this).apply(this,arguments),this.spinner(!1)}},{key:"_onError",value:function(e){_get4(_getPrototypeOf(i.prototype),"_onError",this).call(this,e),this.spinner(!1)}},{key:"containsComponentWithId",value:function(e){return this.components.hasOwnProperty(e)&&!this.components[e].destroyed}},{key:"insert",value:function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return n2.isArray(e)?(e.forEach(function(e){t._insert(e,i),i=n2.isNull(i)?null:i+1}),e):this._insert(e,i)}},{key:"_insert",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(this.containsComponentWithId(e.id))throw new Error("The parent component: "+this.id+" already contains a component with the id: "+e.id+", these need to be unique.");(e.parent=this)._componentIds.includes(e.id)&&this._componentIds.splice(this.getComponentIndex(e.id),1);var t=n2.isNull(t)?this._componentIds.length:t,i=this._componentIds[t];return this._componentIds.splice(t,0,e.id),this._components[e.id]=e,this._rendered&&(t=null,n2.isUndefined(i)||(t=this._components[i]||null),e.rendered?n2.isNull(t)?e.getContainer().insert(e.dom):t.dom.insert(e.dom,"beforebegin"):(n2.isNull(t)||(e.renderTo={target:t.dom,position:"beforebegin"}),this._renderChild(e)),this._reorderable)&&this.hasMixin(n2.ui.mixin.Reorderable)&&this._makeComponentReorderable(e),n2.ui.ComponentManager.getInstance().unregister(e.id),e}},{key:"remove",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).destroy,t=void 0!==t&&t,i=(n2.isString(e)||(e=e.id),this._componentIds.splice(this.getComponentIndex(e),1),this._components[e]);this._rendered&&i.dom.remove(),t&&i.destroy(),delete this._components[e]}},{key:"render",value:function(e){var t,i=this;this._rendered||this._lazyRender&&this._hidden||(e=this.getContainer(e),this._setDomId(),t=this._getTemplateOutput(),this._createDOM(t),this._prepareDOM(),this._insertDOM(e),this._spinning&&this._showSpinner(),this._rendered=!0,this.isFocusable()&&this._makeFocusable(this._focusable),this._focused&&this._makeFocused(this._focused),this._draggable&&this._setDraggable(!0),this._reorderable&&this._setReorderable(!0),n2.isEmpty(this._componentCls)||this._dom.addClass(this._componentCls),this._afterRender(),this.focusTarget.listen("blur",function(e){i._isObservable()&&i.fire("blur",i),i._focused=!1,i._onBlur(e)}),this.focusTarget.listen("focus",function(e){i._isObservable()&&i.fire("focus",i),i._focused=!0,i._onFocus(e)}))}},{key:"_setDomId",value:function(){if(n2.isNull(this.domId)&&(this.domId=n2.isNull(this.parent)?"n2__"+this.id:this.parent.domId+"_"+this.id),!this.domId.startsWith("n2__"))throw new Error("All DOM ids should start with n2__ to ensure there can be no ID clashes with non N2 elements")}},{key:"_getTemplateOutput",value:function(){var e=this.template;return n2.isUndefined(e)?e=n2.ui.Template.render(this._template,this._getTemplateData(),this._getTemplatePartials()):n2.isFunction(e)&&(e=e(this._getTemplateData(),this._getTemplatePartials())),e}},{key:"_createDOM",value:function(e){this._dom=new n2.ui.DOM(e),this._renderChildren(this._components)}},{key:"_prepareDOM",value:function(){n2.isNull(this._tooltip)||this._bindTooltip(this._tooltip),this._bindEvents()}},{key:"_bindEvents",value:function(){}},{key:"_insertDOM",value:function(e){n2.isNull(this.renderTo)||n2.isUndefined(this.renderTo.position)?e.insert(this._dom):e.insert(this._dom,this.renderTo.position)}},{key:"getContainer",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return n2.isNull(this.renderTo)?n2.isNull(this._parent)?n2.isNull(e)?new n2.ui.DOM(document.body):e.rawDOM?e:new n2.ui.DOM(e):n2.isNull(this._parent.SELECTORS.body)?this._parent.dom:this._parent.element("body"):(e=this.renderTo,n2.isUndefined(e.target)||(e=e.target),n2.isString(e)&&(e=(n2.isNull(this._parent)?new n2.ui.DOM(document.body):this._parent.dom).find(e)),(e=n2.isUndefined(e.position)?e:this._parent.dom).rawDOM?e:new n2.ui.DOM(e))}},{key:"_getTemplateData",value:function(){return{id:this.domId,cls:this._cls,componentCls:this._componentCls,title:this._title,hideCls:n2.ui.enum.CSS.HIDE,hiddenCls:n2.ui.enum.CSS.HIDDEN,showCls:n2.ui.enum.CSS.SHOW,assistiveTextCls:n2.ui.enum.CSS.ASSISTIVE_TEXT,hidden:this._hidden}}},{key:"_getTemplatePartials",value:function(){return{}}},{key:"_renderChildren",value:function(e){this.forEach({fcn:function(e){this._renderChild(e)},includeDestroyed:!1})}},{key:"_renderChild",value:function(e){e.render()}},{key:"_afterRender",value:function(){}},{key:"_bindTooltip",value:function(e){var t={trigger:this._dom,target:this._dom,refreshConfig:!1},i=n2.merge({},t,e),t=i.trigger,e=i.refreshConfig;delete i.trigger,delete i.refreshConfig,e||(t.listen("mouseenter",function(){n2.ui.Tooltip.getInstance().show(i)}),t.listen("mouseleave",function(){n2.ui.Tooltip.getInstance().hide()}))}},{key:"focus",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).silent,e=void 0!==e&&e;this._focused||(this._focused=!0,this._makeFocused(!0),!e&&this._isObservable()&&this.fire("focus",this),this._rendered&&this._onFocus())}},{key:"blur",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).silent,e=void 0!==e&&e;this._focused&&(this._focused=!1,this._makeFocused(!1),!e&&this._isObservable()&&this.fire("blur",this),this._rendered)&&this._onBlur()}},{key:"_makeFocused",value:function(e){this._rendered&&(e?this.focusTarget.focus():this.focusTarget.blur())}},{key:"_onFocus",value:function(){}},{key:"_onBlur",value:function(){}},{key:"_setDraggable",value:function(e){(this._draggable=e)&&!this.hasMixin(n2.ui.mixin.Draggable)&&this.addMixin(n2.ui.mixin.Draggable),this._makeDraggable()}},{key:"_setReorderable",value:function(e){(this._reorderable=e)&&!this.hasMixin(n2.ui.mixin.Reorderable)&&this.addMixin(n2.ui.mixin.Reorderable),this.hasMixin(n2.ui.mixin.Reorderable)&&this._makeReorderable()}},{key:"removeCls",value:function(e){e=e.split(" ");var t=this._cls;e.forEach(function(e){t=t.replace(e,"").replace("  "," ").trim()}),this.cls=t}},{key:"addCls",value:function(e){e=e.split(" ");var t=this._cls,i=this._cls.split(" ");e.forEach(function(e){-1===i.indexOf(e)&&(t+=" ".concat(e))}),this.cls=t.trim()}},{key:"show",value:function(){this._hidden&&(this._hidden=!1,this._lazyRender&&!this._rendered?this.render():this._rendered&&this._showElement())}},{key:"_showElement",value:function(){this._dom.show()}},{key:"hide",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).reserveSpace,e=void 0!==e&&e;this._hidden||(this._hidden=!0,this._rendered&&this._hideElement({reserveSpace:e}))}},{key:"_hideElement",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).reserveSpace;this._dom.hide({reserveSpace:void 0!==e&&e})}},{key:"_makeFocusable",value:function(e){this._focusable===n2.ui.enum.Focusable.DEFAULT?this.focusTarget.removeAttribute("tabindex"):(e=e===n2.ui.enum.Focusable.ACTIVE,this.focusTarget.attribute("tabindex",e?0:-1))}},{key:"element",value:function(e){var t=this._elementCache[e];if(!(1<arguments.length&&void 0!==arguments[1]&&arguments[1])&&t&&!t.destroyed&&!n2.isNull(t.attribute("parentElement")))return this._elementCache[e];if(n2.isUndefined(this.SELECTORS[e]))throw new Error('"'.concat(e,'" is not defined on SELECTORS, it may have been overridden'));t=n2.ui.Template.render(this.SELECTORS[e],{id:this.domId}),t=this._dom.find(t);return this._elementCache[e]=t}},{key:"getNextComponent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).cycle,t=void 0===t||t,e=(n2.isNull(e)?-1:this.getComponentIndex(e))+1,e=t&&e===this._componentIds.length?0:e;return this._components[this._componentIds[e]]||null}},{key:"getPreviousComponent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).cycle,t=void 0===t||t,e=(n2.isNull(e)?this._componentIds.length:this.getComponentIndex(e))-1,e=t&&-1==e?this._componentIds.length-1:e;return this._components[this._componentIds[e]]||null}},{key:"getComponentIndex",value:function(e){return n2.isString(e)||(e=e.id),this._componentIds.indexOf(e)}},{key:"spinner",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=!1!==e;this._spinning=t,this.spinnerMessage=n2.isString(e)?e:null,this._rendered&&(t?this._showSpinner():this._hideSpinner())}},{key:"_showSpinner",value:function(){var e=this.element("spinner");n2.isNull(e)&&(this._insertSpinner(),e=this.element("spinner")),e.show()}},{key:"_insertSpinner",value:function(){this._dom.insert(this.spinnerTemplate)}},{key:"_hideSpinner",value:function(){var e=this.element("spinner");n2.isNull(e)||e.hide()}},{key:"isFocusable",value:function(){return!this.hidden&&(this._focusable===n2.ui.enum.Focusable.ACTIVE||this._focusable===n2.ui.enum.Focusable.INACTIVE)}},{key:"forEach",value:function(i){var n,s=this,o=(i=n2.isObject(i)?i:{fcn:i},i=n2.merge({includeDestroyed:!0,type:null},i),null),l=0;return!this._componentIds.slice().some(function(e,t){if(o=s._components[e],n=i.includeDestroyed||!o.destroyed,(n2.isNull(i.type)||o.typeOf(i.type))&&n)return n=i.fcn.call(s,s._components[e],t-l),!n2.isUndefined(n)&&!n;l+=1})}},{key:"destroy",value:function(){n2.ui.ComponentManager.getInstance().unregister(this.id),this._destroyDOM(),this.destroyComponents(this.components),this._parent=null,this._focusable=n2.ui.enum.Focusable.DEFAULT,this._focused=!1,_get4(_getPrototypeOf(i.prototype),"destroy",this).call(this)}},{key:"_destroyDOM",value:function(){this._rendered&&(this.focusTarget.purgeListeners(),this._dom.destroy(),this._dom=null,this._rendered=!1,this.domId=null)}},{key:"destroyComponents",value:function(){var t=this;n2.forEach(this.components,function(e){t._destroyComponent(e)}),this._components={},this._componentIds=[]}},{key:"_destroyComponent",value:function(e){e.destroy()}}]),i}(),n2.ui.ComponentManager=function(){_inherits(i,n2.Object);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return _createClass(i,[{key:"_define",value:function(){_get4(_getPrototypeOf(i.prototype),"_define",this).call(this),this._mixins=[n2.mixin.Singleton],this._registeredRootComponents={}}},{key:"register",value:function(e){this._registeredRootComponents[e.id]=e}},{key:"unregister",value:function(e){delete this._registeredRootComponents[e]}},{key:"destroyAll",value:function(){n2.forEach(this._registeredRootComponents,function(e){e.destroyed||e.destroy()})}},{key:"destroy",value:function(){var t=this;_get4(_getPrototypeOf(i.prototype),"destroy",this).call(this),n2.forEach(this._registeredRootComponents,function(e){return t.unregister(e.id)})}},{key:"get",value:function(e){var t=e.split("."),i=this._registeredRootComponents[t[0]]||null;if(!n2.isNull(i)&&1<t.length)for(var n=1;!n2.isUndefined(t[n]);){if(i=i.components[t[n]],n2.isUndefined(i))return null;n+=1}return i}}]),i}(),n2.ui.DOM=function(){function t(e){_classCallCheck(this,t),this._rawDOM=n2.isString(e)?this._parseHTML(e):e,this._showAnimationCls=null,this._handlers={},this._scrollAnimationId=null,this._destroyed=!1}return _createClass(t,[{key:"rawDOM",get:function(){return this._rawDOM}},{key:"parent",get:function(){return n2.isNull(this._rawDOM.parentElement)?this._rawDOM.parentElement:new n2.ui.DOM(this._rawDOM.parentElement)}},{key:"destroyed",get:function(){return this._destroyed}},{key:"_parseHTML",value:function(e){return n2j$(e).get(0)}},{key:"insert",value:function(e){var t,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"beforeend";n2.isNull(e)||(n2.isString(e)?(t=n2.stripNewLines(e),this._rawDOM.insertAdjacentHTML(i,t)):"beforeend"===i?this._rawDOM.appendChild(e.rawDOM):this._rawDOM.insertAdjacentElement(i,e.rawDOM))}},{key:"remove",value:function(){this._rawDOM.parentNode&&this._rawDOM.parentNode.removeChild(this._rawDOM)}},{key:"removeChild",value:function(e){this._rawDOM.removeChild(e.rawDOM)}},{key:"hasChild",value:function(e){return!!this.hasChildren()&&-1!==Array.prototype.indexOf.call(this._rawDOM.childNodes,e.rawDOM)}},{key:"hasChildren",value:function(){return this._rawDOM.hasChildNodes()}},{key:"clear",value:function(){if(this.hasChildren())for(;this._rawDOM.firstChild;)this._rawDOM.removeChild(this._rawDOM.firstChild)}},{key:"clearText",value:function(){if(this.hasChildren())for(var e=this._rawDOM.childNodes,t=0,i=0,n=e.length;i<n;i+=1){var s=e[t];s.nodeType===Node.TEXT_NODE?this._rawDOM.removeChild(s):t+=1}}},{key:"find",value:function(e){e=this._rawDOM.querySelector(e);return e?new n2.ui.DOM(e):null}},{key:"findAll",value:function(e){var e=this._rawDOM.querySelectorAll(e),t=[];return Array.prototype.forEach.call(e,function(e){t.push(new n2.ui.DOM(e))}),t}},{key:"scroll",value:function(t){var i=this;if("up"===t){if(this._isScrollTop())return void this.stopScroll();this._scrollUp(1)}if("down"===t){if(this._isScrollBottom())return void this.stopScroll();this._scrollDown(1)}this._scrollAnimationId=window.requestAnimationFrame(function(e){return i.scroll(t)})}},{key:"_isScrollTop",value:function(){return 0===this.attribute("scrollTop")}},{key:"_isScrollBottom",value:function(){return this.attribute("scrollHeight")-this.attribute("scrollTop")===this.attribute("clientHeight")}},{key:"_scrollUp",value:function(e){var t=this.attribute("scrollTop");this.attribute("scrollTop",t-e)}},{key:"_scrollDown",value:function(e){var t=this.attribute("scrollTop");this.attribute("scrollTop",t+e)}},{key:"stopScroll",value:function(){window.cancelAnimationFrame(this._scrollAnimationId),this._scrollAnimationId=null}},{key:"scrollIntoView",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=t.recursive,i=void 0===i||i,t=t.behaviour,t=void 0===t?null:t,n=this.getScrollableParent();n2.isNull(n)||(n2.isNull(t)||n.style({"scroll-behavior":t}),e=this.offset(n).top,this._isAboveScrollableParent(e,n)?(n.attribute("scrollTop",e),n2.isNull(t)||n.style({"scroll-behavior":null})):(this._isBelowScrollableParent(e,n)&&(e=e-n.rawDOM.clientHeight+this._rawDOM.offsetHeight,n.attribute("scrollTop",e)),n2.isNull(t)||n.style({"scroll-behavior":null}),i&&n.rawDOM!==document.documentElement&&n.scrollIntoView({behaviour:t})))}},{key:"_isAboveScrollableParent",value:function(e,t){return e<t.rawDOM.scrollTop}},{key:"_isBelowScrollableParent",value:function(e,t){t=t.rawDOM.scrollTop+t.rawDOM.clientHeight;return e+this._rawDOM.offsetHeight>t}},{key:"offset",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=this._rawDOM.offsetTop,i=this._rawDOM.offsetLeft;if(!n2.isNull(e))for(var e=e.rawDOM||e,n=this._rawDOM.offsetParent;!n2.isNull(n)&&n!==e;)t+=n.offsetTop,i+=n.offsetLeft,n=n.offsetParent;return{top:t,left:i}}},{key:"getScrollableParent",value:function(){for(var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).node,t=(void 0===e?this._rawDOM:e).parentNode;!(n2.isNull(t)||t===document||t instanceof DocumentFragment);){if(this.isScrollable({node:t}))return new n2.ui.DOM(t);t=t.parentNode}return this.needsScrollBar(document.documentElement)?new n2.ui.DOM(document.documentElement):null}},{key:"isScrollable",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).node,e=void 0===e?this._rawDOM:e;return this.needsScrollBar(e)&&this.canScroll(e)}},{key:"canScroll",value:function(e){return e===document.scrollingElement?this.needsScrollBar(e):"visible"!==(e=window.getComputedStyle(e).overflowY)&&"hidden"!==e}},{key:"needsScrollBar",value:function(e){return e.scrollHeight>e.clientHeight}},{key:"addClass",value:function(e){var t=this;(e=e.includes(" ")?e.split(" "):[e]).forEach(function(e){return t._rawDOM.classList.add(e)})}},{key:"removeClass",value:function(e){var t=this;(e=e.includes(" ")?e.split(" "):[e]).forEach(function(e){return t._rawDOM.classList.remove(e)})}},{key:"toggleClass",value:function(e){this._rawDOM.classList.toggle(e)}},{key:"hasClass",value:function(e){return this._rawDOM.classList.contains(e)}},{key:"attribute",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return n2.isNull(t)?n2.isUndefined(this._rawDOM[e])?this._rawDOM.getAttribute(e):this._rawDOM[e]:(n2.isUndefined(this._rawDOM[e])?this._rawDOM.setAttribute(e,t):this._rawDOM[e]=t,t)}},{key:"removeAttribute",value:function(e){this._rawDOM.removeAttribute(e)}},{key:"style",value:function(e){var i=this;if(n2.isString(e))return this._rawDOM.style.getPropertyValue(e);n2.forEach(e,function(e,t){n2.isNull(e)?i._rawDOM.style.removeProperty(t):i._rawDOM.style.setProperty(t,e)})}},{key:"show",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.removeClass(n2.ui.enum.CSS.HIDE),this.removeClass(n2.ui.enum.CSS.HIDDEN),n2.isNull(e)||(this._showAnimationCls=e,this.addClass(e))}},{key:"hide",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).reserveSpace,e=void 0!==e&&e;this.removeClass(n2.ui.enum.CSS.SHOW),n2.isNull(this._showAnimationCls)||this.removeClass(this._showAnimationCls),e?this.addClass(n2.ui.enum.CSS.HIDDEN):this.addClass(n2.ui.enum.CSS.HIDE)}},{key:"text",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return n2.isNull(e)||(this._rawDOM.textContent=e),this._rawDOM.textContent}},{key:"focus",value:function(){this._rawDOM.focus()}},{key:"blur",value:function(){this._rawDOM.blur()}},{key:"hasFocus",value:function(){return document.activeElement===this._rawDOM}},{key:"listen",value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=i.selector,n=void 0===n?null:n,i=i.scope,s=void 0===i?null:i;if(n2.isNull(n)){s=s||this,i=function(e){return t.apply(s,[e])};this._handlers[e]=this._handlers[e]||[],this._handlers[e].push({fcn:t,scopedFcn:i,scope:s}),this._rawDOM.addEventListener(e,i)}else{i=this.find(n);if(!n2.isNull(i))return i.listen(e,t,{scope:s})}return t}},{key:"fire",value:function(e,t){var i=document.createEvent("Event");i.initEvent(e,!0,!0),t&&Object.assign(i,t),this._rawDOM.dispatchEvent(i)}},{key:"removeListeners",value:function(){var t=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,e=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).scope,s=void 0===e?null:e;!n2.isNull(this._handlers)&&this._handlers[i]&&this._handlers[i].filter(function(e){var t=!n||e.fcn===n,e=!s||e.scope===s;return t&&e}).forEach(function(e){t._rawDOM.removeEventListener(i,e.scopedFcn)})}},{key:"purgeListeners",value:function(){var i=this;n2.isEmpty(this._handlers)||n2.forEach(this._handlers,function(e,t){return i.removeListeners(t)})}},{key:"destroy",value:function(){this.remove(),this.purgeListeners(),this._rawDOM=null,this._destroyed=!0}}]),t}(),n2.ui.Icon={getLink:function(e){var t=window.n2__sldsIconsPrefix||"/assets/icons",t=Object.assign({pathPrefix:t.split("/")},e);return n2.ui.Template.render("{{#pathPrefix}}{{.}}/{{/pathPrefix}}{{sprite}}-sprite/svg/symbols.svg#{{icon}}",t)},getSVG:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.iconCls,t=t.cls,t=void 0===t?"":t;return n2.stripIndent('<svg class="'.concat(void 0===i?"slds-icon":i," ").concat(t,'" aria-hidden="true">\n            <use xlink:href="').concat(this.getLink(e),'"></use>\n        </svg>'))}},n2.ui.enum.Key={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",SHIFT:"Shift",CTRL:"Ctrl",ALT:"Alt",PAUSE_BREAK:"PauseBreak",CAPS_LOCK:"CapsLock",ESCAPE:"Escape",SPACE_BAR:" ",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",END:"End",HOME:"Home",ARROW_LEFT:"ArrowLeft",ARROW_UP:"ArrowUp",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",INSERT:"Insert",DELETE:"Delete",ZERO:"Zero",CLOSED_PAREN:"ClosedParen",ONE:"One",EXCLAMATION_MARK:"ExclamationMark",TWO:"Two",AT_SIGN:"AtSign",THREE:"Three",POUND_SIGN:"PoundSign",HASH:"Hash",FOUR:"Four",DOLLAR_SIGN:"DollarSign",FIVE:"Five",PERCENT_SIGN:"PercentSign",SIX:"Six",CARET:"Caret",HAT:"Hat",SEVEN:"Seven",AMPERSAND:"Ampersand",EIGHT:"Eight",STAR:"Star",ASTERISK:"Asterisk",NINE:"Nine",OPEN_PAREN:"OpenParen",A:"A",B:"B",C:"C",D:"D",E:"E",F:"F",G:"G",H:"H",I:"I",J:"J",K:"K",L:"L",M:"M",N:"N",O:"O",P:"P",Q:"Q",R:"R",S:"S",T:"T",U:"U",V:"V",W:"W",X:"X",Y:"Y",Z:"Z",LEFT_WINDOW_KEY:"LeftWindowKey",RIGHT_WINDOW_KEY:"RightWindowKey",SELECT_KEY:"SelectKey",NUMPAD_0:"Numpad0",NUMPAD_1:"Numpad1",NUMPAD_2:"Numpad2",NUMPAD_3:"Numpad3",NUMPAD_4:"Numpad4",NUMPAD_5:"Numpad5",NUMPAD_6:"Numpad6",NUMPAD_7:"Numpad7",NUMPAD_8:"Numpad8",NUMPAD_9:"Numpad9",MULTIPLY:"Multiply",ADD:"Add",SUBTRACT:"Subtract",DECIMAL_POINT:"DecimalPoint",DIVIDE:"Divide",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",NUM_LOCK:"NumLock",SCROLL_LOCK:"ScrollLock",SEMI_COLON:";",EQUALS:"Equals",COMMA:",",DASH:"Dash",PERIOD:"Period",UNDERSCORE:"UnderScore",PLUS_SIGN:"PlusSign",FORWARD_SLASH:"ForwardSlash",TILDE:"Tilde",GRAVE_ACCENT:"GraveAccent",OPEN_BRACKET:"OpenBracket",CLOSED_BRACKET:"ClosedBracket",QUOTE:"Quote"},n2.ui.Key={OLDER_KEY_MAPPING:{Up:n2.ui.enum.Key.ARROW_UP,Down:n2.ui.enum.Key.ARROW_DOWN,Left:n2.ui.enum.Key.ARROW_LEFT,Right:n2.ui.enum.Key.ARROW_RIGHT,Spacebar:n2.ui.enum.Key.SPACE_BAR,Del:n2.ui.enum.Key.DELETE},get:function(e){return this.OLDER_KEY_MAPPING[e]||e}},n2.ui.Page=function(){_inherits(t,n2.ui.Component);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this._template='<div id="{{id}}" class="n2-component{{#hidden}} {{hideCls}}{{/hidden}}{{^hidden}} {{showCls}}{{/hidden}} {{cls}}"{{#title}} title="{{title}}"{{/title}}>{{> layout}}</div>',this.layout=null}},{key:"spinnerTemplate",get:function(){return'<div id="'.concat(this.domId,'_spinner" class="slds-spinner_container">\n            <div class="slds-spinner slds-spinner_large" role="status">\n                <span class="slds-assistive-text">Loading</span>\n                <div class="slds-spinner__dot-a"></div>\n                <div class="slds-spinner__dot-b"></div>\n            </div>\n        </div>')}},{key:"_onDefined",value:function(){var i=this;_get4(_getPrototypeOf(t.prototype),"_onDefined",this).call(this),n2.DataProviderManager.getInstance().listen("error",function(e,t){return i._onServerError(e,t)},this)}},{key:"_onServerError",value:function(e,t){this.spinner(!1);var i={header:"Server Error",message:e,theme:n2.ui.enum.Theme.ERROR,buttons:n2.ui.enum.Button.OK};n2.ui.component.MessageBox.getInstance().show(n2.merge(i,this._getServerErrorConfig(e)))}},{key:"_getServerErrorConfig",value:function(e){return{}}},{key:"_getTemplatePartials",value:function(){return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplatePartials",this).call(this),{layout:this.layout})}},{key:"_afterRender",value:function(){_get4(_getPrototypeOf(t.prototype),"_afterRender",this).call(this),n2.ui.component.MessageBox.getInstance({renderTo:this._dom}),n2.ui.component.Toast.getInstance({renderTo:this._dom})}},{key:"destroy",value:function(){_get4(_getPrototypeOf(t.prototype),"destroy",this).call(this),n2.DataProviderManager.getInstance().destroy(),n2.ui.component.MessageBox.getInstance().destroy(),n2.ui.component.Toast.getInstance().destroy()}}]),t}(),n2.ui.SalesforcePage=function(){_inherits(t,n2.ui.Page);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this.sandbox=!1,this.inTrial=!1,this.salesforceAdmin=!1}},{key:"render",value:function(e){e=this._getSalesForceContainer()||e,_get4(_getPrototypeOf(t.prototype),"render",this).call(this,e)}},{key:"_getSalesForceContainer",value:function(){var e;return!n2.ui.SalesforcePage.isClassic()||(e=document.querySelector("table#bodyTable tbody tr td"),n2.isNull(e))?null:new n2.ui.DOM(e)}}],[{key:"isClassic",value:function(){return"undefined"==typeof sforce||void 0===sforce.one}}]),t}(),n2.ui.Template={render:function(e,t,i){e=n2.stripIndent(e);return n2.isNull(i)||n2.forEach(i,function(e,t){i[t]=n2.stripIndent(e)}),Mustache.render(e,t,i||null)}},n2.ui.Tooltip=function(){_inherits(i,n2.ui.Component);var t,e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return _createClass(i,[{key:"_define",value:function(){_get4(_getPrototypeOf(i.prototype),"_define",this).call(this),this.id="tooltip",this._mixins=[n2.mixin.Singleton],this.SELECTORS=n2.merge(this.SELECTORS,{content:".n2__tooltip-content"}),this.renderTo=n2.ui.dom.Scope.getInstance().root,this._template='<div class="slds-popover slds-popover_tooltip slds-nubbin_bottom-left slds-fall-into-ground" id="{{id}}" role="tooltip" style="position:absolute;top:0;left:0;z-index:9002;">\n            <div class="slds-popover__body slds-text-longform n2__tooltip-content">\n                {{> tooltipTemplate }}     \n            </div>\n        </div>',this._config={},this._DEFAULT_CONFIG={position:n2.ui.enum.Position.ABOVE,duration:0,showDelay:150,template:"<p>{{text}}</p>"},this._hideTask=null,this._showTask=null,this._nubbinHeight=10,this._nubbinPadding=5,this._rootBoundingClientRect=this._getRootBoundingClientRect()}},{key:"displayed",get:function(){return!!this.rendered&&this._dom.hasClass(n2.ui.enum.CSS.RISE_FROM_GROUND)}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(i.prototype),"_getTemplateData",this).call(this),{text:this._config.text,data:this._config.data})}},{key:"_getTemplatePartials",value:function(){return n2.merge(_get4(_getPrototypeOf(i.prototype),"_getTemplatePartials",this).call(this),{tooltipTemplate:this._config.template})}},{key:"_prepareDOM",value:function(){var e=this;_get4(_getPrototypeOf(i.prototype),"_prepareDOM",this).call(this),this._dom.listen("mouseenter",function(){e._hideTask&&e._hideTask.stop(),e._showElement()}),this._dom.listen("mouseleave",function(){e.hide()})}},{key:"show",value:(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var i=this;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._hideTask&&this._hideTask.stop(),this.rendered&&this.hide(),this._config=n2.merge({},this._DEFAULT_CONFIG,t),this.rendered||this.render(),this._showTask=new n2.util.DelayedTask(function(){return i._show()},this._config.showDelay),e.next=7,this._showTask.start();case 7:0<this._config.duration&&(this._hideTask=new n2.util.DelayedTask(function(){return i.hide()},this._config.duration),this._hideTask.start());case 8:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_show",value:function(){var e;this.rendered&&(this.element("content").clear(),e=n2.ui.Template.render(this._config.template,this._getTemplateData()),this.element("content").insert(e)),this._setToolTipPosition(),this._showElement()}},{key:"_showElement",value:function(){this._dom.removeClass(n2.ui.enum.CSS.FALL_TO_GROUND),this._dom.addClass(n2.ui.enum.CSS.RISE_FROM_GROUND)}},{key:"hide",value:function(){this._dom.removeClass(n2.ui.enum.CSS.RISE_FROM_GROUND),this._dom.addClass(n2.ui.enum.CSS.FALL_TO_GROUND),this._hideTask&&(this._hideTask.stop(),this._hideTask=null),this._showTask&&(this._showTask.stop(),this._showTask=null)}},{key:"_getRootBoundingClientRect",value:function(){var e=n2.ui.dom.Scope.getInstance().root;return(e instanceof n2.ui.DOM?e.rawDOM:e).getBoundingClientRect()}},{key:"_setToolTipPosition",value:function(){var e=this._config.target.rawDOM.getBoundingClientRect();this._setHorizontalPosition(e.left),this._setVerticalPosition(e.top),this._setNubbinPosition()}},{key:"_setVerticalPosition",value:function(e){e-=this._rootBoundingClientRect.top,e=this._config.position===n2.ui.enum.Position.ABOVE?this._getAbovePosition(e):this._getBelowPosition(e);this._dom.style({top:e+"px"})}},{key:"_setHorizontalPosition",value:function(e){e-=this._rootBoundingClientRect.left;this._dom.style({left:e-15+"px"})}},{key:"_setNubbinPosition",value:function(){this._dom.removeClass("slds-nubbin_bottom-left"),this._dom.removeClass("slds-nubbin_top-left"),this._config.position===n2.ui.enum.Position.ABOVE?this._dom.addClass("slds-nubbin_bottom-left"):this._dom.addClass("slds-nubbin_top-left")}},{key:"_getAbovePosition",value:function(e){return e-this._dom.attribute("offsetHeight")-this._nubbinHeight-this._nubbinPadding+this._getTargetPadding("padding-top")}},{key:"_getBelowPosition",value:function(e){return e+this._config.target.attribute("offsetHeight")+this._nubbinHeight+this._nubbinPadding-this._getTargetPadding("padding-bottom")}},{key:"_getTargetPadding",value:function(e){var t=window.getComputedStyle(this._config.target.rawDOM);return parseFloat(t.getPropertyValue(e))}},{key:"destroy",value:function(){this._hideTask&&(this._hideTask.stop(),this._hideTask=null),this._showTask&&(this._showTask.stop(),this._showTask=null),this.displayed&&this.hide(),_get4(_getPrototypeOf(i.prototype),"destroy",this).apply(this,arguments)}}]),i}(),n2.util.Array={sort:function(e){var i=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.property,s=void 0===n?null:n,n=t.adapter,o=void 0===n?null:n,n=t.ascending,l=void 0===n||n;e.sort(function(e,t){n2.isNull(s)||!n2.isObject(e)&&!n2.isArray(e)||(e=n2.resolvePath(e,s)),n2.isNull(s)||!n2.isObject(t)&&!n2.isArray(t)||(t=n2.resolvePath(t,s)),n2.isNull(o)||(e=o.call(i,e),t=o.call(i,t));t=n2.isString(e)||n2.isString(t)?e.toString().localeCompare(t.toString()):e<t?-1:t<e?1:0;return!1!==l?t:-t})}},n2.Util.register(n2.util.Array),delete n2.util.Array,n2.util.Date={_locale:null,_timeZone:null,getLocale:function(){var e,t;return n2.isNull(n2._locale)&&(e=window.n2__locale,t=(e=(e=n2.isUndefined(e)?navigator.language||navigator.browserLanguage:e).replace(/_/g,"-")).indexOf("-",3),n2._locale=-1===t?e:e.substring(0,t)),n2._locale},getTimeZone:function(){var e;return n2.isNull(n2._timeZone)&&((e=Intl.DateTimeFormat().resolvedOptions().timeZone)?n2.isUndefined(window.n2__timeZone)?n2._timeZone=e:n2._timeZone=window.n2__timeZone:n2._timeZone="UTC"),n2._timeZone},extractDateTimeParts:function(e,t){var i;return n2.isUndefined(e.formatToParts)?null:(i={},e.formatToParts(t).forEach(function(e){"literal"!==e.type&&(i[e.type]=e.value)}),i)},getDay:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).short,t=void 0!==t&&t;return e.toLocaleString(n2.getLocale(),{weekday:t?"short":"long"})},getMonth:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).short,t=void 0!==t&&t;return e.toLocaleString(n2.getLocale(),{month:t?"short":"long"})},isToday:function(e){var t=new Date;return n2.isDateEqual(e,t)},modifyDate:function(e,t){e=new Date(e.getTime());return e.setDate(e.getDate()+t),e},isLaterThan:function(e,t){return t<e},isEarlierThan:function(e,t){return e<t},isDateObject:function(e){return"[object Date]"===Object.prototype.toString.call(e)},isDateEqual:function(e,t){return!(!n2.isDateObject(e)||!n2.isDateObject(t))&&e.toDateString()===t.toDateString()},isDateTimeEqual:function(e,t){return!(!n2.isDateObject(e)||!n2.isDateObject(t))&&e.getTime()===t.getTime()}},n2.Util.register(n2.util.Date),delete n2.util.Date,n2.util.DelayedTask=function(){function n(e,t,i){_classCallCheck(this,n),this._define(e,t),i&&this.start()}return _createClass(n,[{key:"_define",value:function(e,t){this._task=e,this._delay=t,this._id=null,this._promise=null}},{key:"start",value:function(){var i=this;if(n2.isNull(this._task))throw new Error("You are trying to start a destroyed task.");return this._promise=new Promise(function(t){i._id=window.setTimeout(function(){var e=i._task();t(e)},i._delay)}),this._promise}},{key:"stop",value:function(){n2.isNull(this._id)||window.clearTimeout(this._id)}},{key:"destroy",value:function(){this.stop(),this._task=null,this._delay=null,this._id=null}}]),n}(),n2.util.Number={isFiniteNumber:function(e){return"number"==typeof(e=n2.isString(e)?Number(e):e)&&isFinite(e)&&!isNaN(e)}},n2.Util.register(n2.util.Number),delete n2.util.Number,n2.util.Object={merge:function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);return n2.isArray(e[0])?Array.prototype.concat.apply([],e):(e.unshift({}),Object.assign.apply(this,e))},clone:function(e){return n2.isArray(e)?_toConsumableArray(e):n2.merge(e)},isNull:function(e){return null===e},isUndefined:function(e){return void 0===e},isString:function(e){return"string"==typeof e},isFunction:function(e){return"function"==typeof e},isObject:function(e){return!n2.isUndefined(e)&&!n2.isNull(e)&&"object"==_typeof(e)&&e.constructor===Object},isArray:function(e){return Array.isArray(e)},compare:function(e,i){if(e===i)return!0;if(n2.isDateObject(e))return n2.isDateTimeEqual(e,i);var n=!1;if(n2.isObject(e)||n2.isArray(e)){if(n2.isEmpty(e))return!!n2.isEmpty(i)&&(n2.isObject(e)&&n2.isObject(i)||n2.isArray(e)&&n2.isArray(i));if(n2.isEmpty(i))return!1;if(Object.keys(e).length!==Object.keys(i).length)return!1;n2.forEach(e,function(e,t){if(!i.hasOwnProperty(t)||!n2.compare(e,i[t]))return n=!1;n=!0})}return n},isEmpty:function(e){return!(!n2.isNull(e)&&!n2.isUndefined(e))||(n2.isArray(e)||n2.isObject(e)?0===Object.keys(e).length:0===e||!1===e||0===e.length)},forEach:function(e,t){if(n2.isArray(e))for(var i=e.length,n=0;n<i&&!1!==t.apply(this,[e[n],String(n)]);n++);else for(var s in e)if(!1===t.apply(this,[e[s],s]))break},map:function(e,i){var n=this,s=[];return n2.forEach(e,function(e,t){s.push(i.apply(n,[e,t]))}),s},includes:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=i.deepCompare,s=void 0!==n&&n,n=i.caseSensitive,o=void 0===n||n,n=i.trimmed,l=void 0!==n&&n;if(n2.isArray(e)&&!s)throw new Error("Please use the native array.includes method.  This library function is reserved for Object collections and to perform deep equal arrays");var a=!1;return n2.forEach(e,function(e){return o||(e=n2.toLowerCase(e),t=n2.toLowerCase(t)),l&&(e=n2.trim(e),t=n2.trim(t)),!(a=s?n2.compare(e,t):e===t)}),a},toLowerCase:function(e){var i;return n2.isString(e)?e.toLowerCase():n2.isObject(e)||n2.isArray(e)?(i=n2.isObject(e)?{}:[],n2.forEach(e,function(e,t){i[t]=n2.toLowerCase(e)}),i):e},trim:function(e){var i;return n2.isString(e)?e.trim():n2.isObject(e)||n2.isArray(e)?(i=n2.isObject(e)?{}:[],n2.forEach(e,function(e,t){i[t]=n2.trim(e)}),i):e},resolvePath:function(e,t){t=t.split(/\.|\[|\]/g);for(var i=0,n=e;!n2.isUndefined(t[i]);)0<t[i].length&&(n=n[t[i]]),i+=1;return n2.isUndefined(n)?null:n}},n2.Util.register(n2.util.Object),delete n2.util.Object,n2.util.Server={fetch:function(i){function e(e,t){return i.apply(this,arguments)}return e.toString=function(){return i.toString()},e}(function(e,t){return fetch(e,t)})},n2.Util.register(n2.util.Server),delete n2.util.Server,n2.util.String={split:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.separator,i=void 0===i?null:i,t=t.splitInsideQuotes,n=void 0!==t&&t;return(n2.isNull(i)?this._detectedSplit(e,n):n?e.split(i):this._splitQuoted(e,i)).map(function(e){return n?e.trim():e.trim().replace(/"/g,"")})},_detectedSplit:function(t,i){var n,s=this,o=(t=t.replace(/([\r]?\n)/g,"\n"),[]);return[",",";","\n","\t"].forEach(function(e){n=i?t.split(e):s._splitQuoted(t,e),o=n.length>o.length?n:o}),o},_splitQuoted:function(e,i){var n=[],s=e.split(i),o=!1,l="";return s.forEach(function(e,t){e.includes('"')&&(o=o?e.split('"').length%2!=0:e.split('"').length%2==0),l+=o?e+i:e,o&&t!==s.length-1||(n.push(l),l="")}),n},stripIndent:function(e){return n2.isEmpty(e)?e:e.split(/(?:\r\n|\n|\r)/).join("").replace(/\s\s/g,"")},stripNewLines:function(e){return e.split(/(?:\r\n|\n|\r)/).map(function(e){return e.trim()}).join("")},htmlEncode:function(e){var t=document.createElement("span");return t.textContent=e,t.innerHTML.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/`/g,"&#96;")},htmlDecode:function(e){var t=document.createElement("span");return t.insertAdjacentElement(e),t.textContent},template:function(s){for(var o=this,e=arguments.length,t=new Array(1<e?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return function(i,n){var e=t.map(function(e,t){return"".concat(o._getTemplateOutput(e,i,n)).concat(s[t+1])});return e.unshift(o._getTemplateOutput(s[0],i,n)),n2.stripIndent(e.join(""))}},_getTemplateOutput:function(e,t,i){return(e=n2.isString(e)?e:e.toString()).startsWith(">")?i[e.replace(">","")].call(this,t,i):e.startsWith("{")?this._resolveCondition(e.replace(/{|}/g,""),t,i):n2.isEmpty(e)?"":(i=e.split(/\.|\[|\]/g),n2.isUndefined(t[i[0]])?e:(i=n2.resolvePath(t,e),n2.isNull(i)?"":n2.htmlEncode(i)))},_resolveCondition:function(e,t,i){var n="";if((e=e.split(" ? "))[1].includes(" : ")&&(e=e.concat(e[1].split(" : "))).splice(1,1),n2.resolvePath(t,e[0]))n=e[1];else{if(!e[2])return"";n=e[2]}return this._getTemplateOutput(n,t,i)},splitBindPath:function(e){e=e.replace(/\[/g,".").replace(/\]/g,"");return(e=e.startsWith(".")?e.slice(1):e).split(/\./g)},isPathMatch:function(e,t){var i,n;return e===t||(n=n2.splitBindPath(e.replace(/\[\*]/g,"")),i=n2.splitBindPath(t),n=n[n.length-1],!!i.includes(n)&&(e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\*/g,"\\d*"),new RegExp(e).test(t)))}},n2.Util.register(n2.util.String),delete n2.util.String,n2.dataProvider.model.Collection=function(){_inherits(t,n2.Object);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this.REQUIRED_MEMBERS=["value"],this.EVENTS={change:function(e){}},this._mixins=[n2.mixin.Observable],this._parent=null,this._value=null,this._items=[],this._dirty=!1,this._lazyLoad=!0}},{key:"value",set:function(e){this.set(e)}},{key:"json",get:function(){return this._items.map(function(e){return e.json})}},{key:"items",get:function(){return this._items}},{key:"dirty",get:function(){return this._dirty}},{key:"_applyConfig",value:function(e){n2.isUndefined(e.parent)||(this._parent=e.parent,delete e.parent),_get4(_getPrototypeOf(t.prototype),"_applyConfig",this).apply(this,arguments)}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(t.prototype),"_onDefined",this).apply(this,arguments),this._validateRawData(this._value),this._parseRawData()}},{key:"_validateRawData",value:function(e){if(!n2.isArray(e))throw new Error("The raw data should be an array for a collection")}},{key:"_parseRawData",value:function(){var t=this;this._items=this._value.map(function(e){return t._createItem(e)})}},{key:"_createItem",value:function(e){var t=this,i={parent:this,value:e,listeners:{change:function(e){return t._handleChangeEventBubble(e)}}};return new(n2.isObject(e)?n2.dataProvider.Model:n2.isArray(e)?n2.dataProvider.model.Collection:n2.dataProvider.model.Property)(i)}},{key:"insert",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.key,i=void 0===i?null:i,t=t.silent,t=void 0!==t&&t,n=n2.dataProvider.Model.isModeled(e),e=n?e:this._createItem(e);return this._dirty=!0,e._parent=this,n&&e.listen("change",this._handleChangeEventBubble,this),n2.isNull(i)?(i=this._items.length,this._items.push(e)):this._items.splice(i,0,e),this._handleChange(n2.dataProvider.model.enum.Change.INSERT,{changeItem:e,key:i,silent:t}),e}},{key:"remove",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).silent,t=void 0!==t&&t,e=n2.isFiniteNumber(e)?e:this.items.indexOf(e),i=this._items[e];return this._items.splice(e,1),this._dirty=!0,i._parent=null,i.removeListeners("change",{caller:this}),this._handleChange(n2.dataProvider.model.enum.Change.REMOVE,{changeItem:i,key:e,silent:t}),i}},{key:"set",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.key,i=void 0===i?null:i,t=t.silent,t=void 0!==t&&t;if(n2.isNull(i))return this._setValue(e,{silent:t});this.getProperty(i).set(e,{silent:t})}},{key:"_setValue",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).silent,t=void 0!==t&&t;this._validateRawData(e),n2.compare(this._value,e)||(this._value=e,this._dirty=!0,this._parseRawData(),e=null,this.hasParent()&&(e=this._parent.findChild(this).key),this._handleChange(n2.dataProvider.model.enum.Change.SET,{key:e,silent:t}))}},{key:"_handleChange",value:function(e){var t,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=i.changeItem,n=void 0===n?this:n,s=i.key,s=void 0===s?null:s,i=i.silent,i=void 0!==i&&i;this._onChange(e),i||(i=this._getBindPathKeyNotation(s),s=e===n2.dataProvider.model.enum.Change.INSERT,t=e===n2.dataProvider.model.enum.Change.REMOVE,this.hasParent()&&!n2.isEmpty(i)&&(s||t)&&(i="".concat(this._getBindPathKeyNotation(this._parent.findChild(this).key)).concat(i)),this.fire("change",{target:this,currentTarget:this,change:{type:e,item:n,bindPath:i,bindPathMatch:function(e){return n2.isPathMatch(e,this.bindPath)}}}))}},{key:"_onChange",value:function(e){(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).changeItem}},{key:"_handleChangeEventBubble",value:function(e){var t,i=e.change.bindPath;this.hasParent()&&(t=this._parent.findChild(this),n2.isNull(t.key)||(i="".concat(this._getBindPathKeyNotation(t.key)).concat(i))),e.currentTarget=this,e.change.bindPath=i,this._dirty=!0,this.fire("change",e)}},{key:"findChild",value:function(e){var t=this._items.indexOf(e);return{item:e,key:-1===t?null:t}}},{key:"getProperty",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).defaultValue;return this.hasProperty(e)||n2.isUndefined(t)?this._items[e]:this.insert(t,{key:e,silent:!0})}},{key:"get",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).defaultValue,e=this.getProperty(e,{defaultValue:t});if(!n2.isUndefined(e))return e.json}},{key:"_getBindPathKeyNotation",value:function(e){return n2.isNull(e)?"":n2.isFiniteNumber(e)?"[".concat(e,"]"):this.hasParent()?".".concat(e):e}},{key:"hasParent",value:function(){return!n2.isNull(this._parent)}},{key:"hasProperty",value:function(e){return!n2.isUndefined(this._items[e])}},{key:"map",value:function(e){return this._items.map(e)}},{key:"indexOf",value:function(e){return this._items.indexOf(e)}}]),t}(),n2.dataProvider.model.Property=function(){_inherits(t,n2.Object);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this.REQUIRED_MEMBERS=["value"],this.EVENTS={change:function(e){}},this._mixins=[n2.mixin.Observable],this._parent=null,this._value=null,this._dirty=!1,this._lazyLoad=!0}},{key:"value",set:function(e){this.set(e)}},{key:"json",get:function(){return this._value}},{key:"dirty",get:function(){return this._dirty}},{key:"_applyConfig",value:function(e){n2.isUndefined(e.parent)||(this._parent=e.parent,delete e.parent),_get4(_getPrototypeOf(t.prototype),"_applyConfig",this).apply(this,arguments)}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(t.prototype),"_onDefined",this).apply(this,arguments),this._validateRawData(this._value)}},{key:"_validateRawData",value:function(e){if(n2.isObject(e)||n2.isArray(e))throw new Error("Property values can't be objects or arrays as these should be models or collections")}},{key:"set",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).silent,t=void 0!==t&&t;this._validateRawData(e),this._value!==e&&(this._value=e,this._dirty=!0,e=null,this.hasParent()&&(e=this._parent.findChild(this).key),this._handleChange(n2.dataProvider.model.enum.Change.SET,{key:e,silent:t}))}},{key:"_handleChange",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.changeItem,i=void 0===i?this:i,n=t.key,n=void 0===n?null:n,t=t.silent,t=void 0!==t&&t;this._onChange(e),t||this.fire("change",{target:this,currentTarget:this,change:{type:e,item:i,bindPath:this._getBindPathKeyNotation(n),bindPathMatch:function(e){return n2.isPathMatch(e,this.bindPath)}}})}},{key:"_onChange",value:function(e){(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).changeItem}},{key:"hasParent",value:function(){return!n2.isNull(this._parent)}},{key:"_getBindPathKeyNotation",value:function(e){return n2.isNull(e)?"":n2.isFiniteNumber(e)?"[".concat(e,"]"):this.hasParent()?".".concat(e):e}}]),t}(),n2.ui.component.Avatar=function(){_inherits(t,n2.ui.Component);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this.REQUIRED_MEMBERS=n2.merge(this.REQUIRED_MEMBERS,["displayName"]),this.SELECTORS=n2.merge(this.SELECTORS,{image:"img",initials:"abbr"}),this._template='<span id="{{id}}" class="slds-avatar slds-avatar_circle n2-avatar {{cls}}">{{> avatarTemplate}}</span>',this._avatarTemplate='<img alt="{{displayName}}" src="{{avatar}}" title="{{displayName}}" />',this._defaultTemplate='<abbr style="background-color: {{colour}}" class="slds-avatar__initials slds-icon-standard-user" title="{{displayName}}">{{initials}}</abbr>',this._groupTemplate='<span style="background-color: {{colour}}" class="slds-icon_container slds-icon-standard-user" title="{{displayName}}"><svg class="slds-icon n2_group" aria-hidden="true"><use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#groups"></use></svg><span class="slds-assistive-text">{{displayName}}</span></span>',this._avatar=null,this._displayName=null,this._showAsGroup=!1}},{key:"avatar",set:function(e){this._avatar!==e&&(this._avatar=e,this.rendered)&&this._updateTemplateOutput()}},{key:"displayName",set:function(e){var t;this._displayName!==e&&(this._displayName=e,this.rendered)&&(n2.isEmpty(this._avatar)?((t=this.element("initials")).style({"background-color":this._generateDisplayNameColour()}),t.attribute("title",e),t.text(this._generateDisplayNameInitials())):((t=this.element("image")).attribute("alt",e),t.attribute("title",e)))}},{key:"showAsGroup",set:function(e){this._showAsGroup!==e&&(this._showAsGroup=e,this.rendered)&&this._updateTemplateOutput()}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplateData",this).call(this),{avatar:this._avatar,displayName:this._displayName,colour:this._generateDisplayNameColour(),initials:this._generateDisplayNameInitials(),showAsGroup:this._showAsGroup})}},{key:"_getTemplatePartials",value:function(){return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplatePartials",this).call(this),{avatarTemplate:this._getAvatarTemplate()})}},{key:"_updateTemplateOutput",value:function(){var e=this._getAvatarTemplate(),e=n2.ui.Template.render(e,this._getTemplateData(),this._getTemplatePartials());this._dom.clear(),this._dom.insert(e)}},{key:"_getAvatarTemplate",value:function(){return n2.isNull(this._avatar)?this._showAsGroup?this._groupTemplate:this._defaultTemplate:this._avatarTemplate}},{key:"_generateDisplayNameColour",value:function(){var i=this,n=0;return n2.forEach(this._displayName,function(e,t){n=i._displayName.charCodeAt(t)+((n<<5)-n)}),"hsl(".concat(n%=360,", 80%, 30%)")}},{key:"_generateDisplayNameInitials",value:function(){var e=this._displayName.split(" "),t=e[0].toUpperCase();return 1===e.length?"".concat(t[0]):(e=e[e.length-1].toUpperCase(),"".concat(t[0]).concat(e[0]))}}]),t}(),n2.ui.component.Button=function(){_inherits(i,n2.ui.Component);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return _createClass(i,[{key:"_define",value:function(){_get4(_getPrototypeOf(i.prototype),"_define",this).call(this),this.EVENTS=n2.merge(this.EVENTS||{},{click:function(e,t){}}),this.SELECTORS=n2.merge(this.SELECTORS,{buttonIcon:".slds-button__icon",buttonText:".n2_text"}),this._mixins=[n2.mixin.Observable],this._template='<button id="{{id}}" role="button" type="button" class="n2-button slds-button n2-component{{buttonCls}}{{selectedCls}}{{#hidden}} {{hideCls}}{{/hidden}} {{cls}}"{{#title}} title="{{title}}"{{/title}} aria-pressed="{{selected}}"{{#disabled}} disabled="disabled"{{/disabled}}>{{#icon}}{{>iconTemplate}}{{/icon}}{{#text}}{{>textTemplate}}{{/text}}{{^text}}{{#title}}{{>textTemplate}}{{/title}}{{/text}}</button>',this._textTemplate='<span id="{{id}}_label" class="n2_text{{^text}} {{assistiveTextCls}}{{/text}}">{{#text}}{{text}}{{/text}}{{^text}}{{title}}{{/text}}</span>',this._iconTemplate='<svg class="slds-button__icon {{#text}}slds-button__icon_left {{/text}}{{iconCls}}" aria-hidden="true" focusable="false"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{{icon}}" /></svg>',this._text=null,this._icon=null,this.iconCls=null,this.disabled=!1,this._theme=n2.ui.component.button.Theme.NEUTRAL,this.toggle=!1,this.selected=!1,this._buttonCls=""}},{key:"text",get:function(){return this._text},set:function(e){this._text!==e&&(this._title===this._text&&(this.title=e),this._text=e,this._refresh())}},{key:"icon",set:function(e){this._icon=e,this._refresh()}},{key:"theme",set:function(e){this._theme=e,this._refresh()}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(i.prototype),"_onDefined",this).call(this),this.toggle&&n2.isNull(this._title)&&(this._title=this._text),this._buttonCls=this._generateButtonCls({iconOnly:n2.isNull(this._text)})}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(i.prototype),"_getTemplateData",this).call(this),{buttonCls:this._buttonCls,text:this._text,selected:this.selected,disabled:this.disabled,icon:n2.isNull(this._icon)?null:n2.ui.Icon.getLink(this._icon),iconCls:this.iconCls||"",selectedCls:this.selected?" ".concat(n2.ui.enum.CSS.SELECTED):null,title:this.disabled?null:this._title})}},{key:"_getTemplatePartials",value:function(){return n2.merge(_get4(_getPrototypeOf(i.prototype),"_getTemplatePartials",this).call(this),{iconTemplate:this._iconTemplate,textTemplate:this._textTemplate})}},{key:"_generateButtonCls",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.theme,t=void 0===t?this._theme:t,e=e.iconOnly;return void 0!==e&&e?n2.isEmpty(t)?" slds-button_icon":" slds-button_icon slds-button_icon-".concat(t):n2.isEmpty(t)?"":" slds-button_".concat(t)}},{key:"_bindEvents",value:function(){var t=this;_get4(_getPrototypeOf(i.prototype),"_bindEvents",this).call(this),this.dom.listen("click",function(e){t.toggle&&t.toggleSelected(),t.fire("click",t,e),t._onClick()})}},{key:"_onClick",value:function(){}},{key:"_showSpinner",value:function(){this._dom.addClass("n2_spinning"),this.disable(),_get4(_getPrototypeOf(i.prototype),"_showSpinner",this).call(this)}},{key:"_hideSpinner",value:function(){_get4(_getPrototypeOf(i.prototype),"_hideSpinner",this).call(this),this.enable(),this._dom.removeClass("n2_spinning")}},{key:"enable",value:function(){this.disabled&&(this.disabled=!1,this.rendered)&&(this.dom.attribute("disabled",!1),n2.isNull(this._title)||this.dom.attribute("title",this._title))}},{key:"disable",value:function(){this.disabled||(this.disabled=!0,this.rendered&&(this.dom.attribute("disabled",!0),this.dom.removeAttribute("title")))}},{key:"toggleSelected",value:function(){this.selected?this.deselect():this.select()}},{key:"success",value:function(){this._dom.style({width:"".concat(this._dom.attribute("offsetWidth"),"px")}),this._refresh({text:null,icon:n2.ui.enum.Icon.CHECK,theme:n2.ui.enum.Theme.SUCCESS})}},{key:"error",value:function(){this._dom.style({width:"".concat(this._dom.attribute("offsetWidth"),"px")}),this._refresh({text:null,icon:n2.ui.enum.Icon.ERROR,theme:"destructive"})}},{key:"reset",value:function(){this._rendered&&this._dom.style({width:null}),this._refresh()}},{key:"_refresh",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.text,t=void 0===t?this._text:t,i=e.icon,i=void 0===i?this._icon:i,e=e.theme,e=void 0===e?this._theme:e,n=this._generateButtonCls({theme:e,iconOnly:n2.isNull(t)});this._setButtonCls(n),this._rendered&&(this._dom.clear(),n=n2.merge(this._getTemplateData(),{text:t,icon:n2.ui.Icon.getLink(i),theme:e}),n2.isNull(i)||this._dom.insert(n2.ui.Template.render(this._iconTemplate,n,this._getTemplatePartials())),n2.isNull(t)&&n2.isNull(this._title)||this._dom.insert(n2.ui.Template.render(this._textTemplate,n,this._getTemplatePartials())),this._elementCache={})}},{key:"_setButtonCls",value:function(e){this._buttonCls!==e&&(this._rendered&&(this._dom.removeClass(this._buttonCls.trim()),n2.isEmpty(e.trim())||this._dom.addClass(e.trim())),this._buttonCls=e)}},{key:"select",value:function(){this.selected||(this.selected=!0,this.rendered&&(this.dom.addClass(n2.ui.enum.CSS.SELECTED),this.dom.attribute("aria-pressed",this.selected)))}},{key:"deselect",value:function(){this.selected&&(this.selected=!1,this.rendered)&&(this.dom.removeClass(n2.ui.enum.CSS.SELECTED),this.dom.attribute("aria-pressed",this.selected))}}]),i}(),n2.ui.component.DataTable=function(){_inherits(t,n2.ui.Component);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this.EVENTS=n2.merge(this.EVENTS||{},{click:function(e,t,i,n){},selectionChange:function(e){},change:function(e){}}),this.SELECTORS=n2.merge(this.SELECTORS,{tableHeader:"thead",colgroup:"colgroup",body:"tbody",footer:"tfoot"}),this._mixins=[n2.mixin.Observable],this._template='<table id="{{id}}" class="n2-data-table slds-table slds-table_header-fixed slds-table_fixed-layout {{#cls}}{{cls}}{{/cls}}{{#hidden}} {{hideCls}}{{/hidden}}"{{#selectable}} aria-multiselectable="true"{{/selectable}}{{#description}} aria-label="{{description}}"{{/description}}>\n            {{>colgroupTemplate}}\n            <thead></thead>\n            <tbody></tbody>\n            {{#footer.displayFooter}}<tfoot>{{> footerTemplate}}</tfoot>{{/footer.displayFooter}}\n        </table>',this._colgroupTemplate='<colgroup>\n            {{#columns}}<col {{#cls}}class="{{cls}}"{{/cls}}/>{{/columns}}\n        </colgroup>',this._footerTemplate='<tr class="n2_footer-row">\n            <td class="n2_footer-cell" colspan="{{columns.length}}">{{#footer.displayFilteredCount}}Showing {{footer.unfilteredCount}} {{footer.rowName}} ({{footer.filteredCount}} hidden by filters){{/footer.displayFilteredCount}}</td>\n        </tr>',this.columns=[],this._data=null,this._editable=!1,this._disabled=!1,this._focusedCell=null,this.mergeCells=!1,this._selectable=!1,this._filters={},this._sortBy=null,this._emptyState=null,this._emptyFilteredState=null,this._rowClass=n2.ui.component.dataTable.Row,this._SELECTION_STATE={ALL:"all",NONE:"none",SOME:"some"},this.displayFooter=!1,this._hideHeaderRow=!1,this._description=null}},{key:"data",get:function(){var t=[];return this.forEachRow(function(e){t.push(e.data)}),t},set:function(e){this._data=e,n2.isNull(this._sortBy)||this._sort(this.columns[this._sortBy.column],{direction:this.sortBy.direction}),this._refreshData()}},{key:"editable",set:function(e){this._editable=e,this._refreshEditable()}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=e,this._refreshDisabled()}},{key:"headerRow",get:function(){return this._components["th-row"]}},{key:"selectable",set:function(e){this._selectable!==e&&(this._selectable=e,this._refreshColgroup(),this._refreshSelectable())}},{key:"selection",get:function(){return this._getSelectionData()}},{key:"sortBy",get:function(){return this._sortBy},set:function(e){this._sortBy!==e&&(this._sortBy=e,this._applySortBy(e))}},{key:"emptyState",set:function(e){n2.compare(this._emptyState,e)||(this._emptyState=e,this._refreshEmptyState(e))}},{key:"emptyFilteredState",set:function(e){n2.compare(this._emptyFilteredState,e)||(this._emptyFilteredState=e,this._refreshEmptyState(e))}},{key:"rows",get:function(){var t=this;return this.componentList.filter(function(e){return e.typeOf(t._rowClass)&&!e.headerRow&&!e.destroyed})}},{key:"hideHeaderRow",set:function(e){this._hideHeaderRow!==e&&(this._hideHeaderRow=e,this.headerRow.hidden=e)}},{key:"description",set:function(e){this._description!==e&&(this._description=e,this._refreshDescription())}},{key:"tableDOM",get:function(){return this.dom}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(t.prototype),"_onDefined",this).call(this),this.columns=this.columns.map(function(e){return n2.merge({cls:null},e)}),this._emptyState=n2.merge({heading:"There are no results to display",content:"No results exist to display, you can add new items to populate the results.",button:null},this._emptyState||{}),this._emptyFilteredState=n2.merge({heading:"There are no results that match your filter",content:"We have searched {{recordCount}} results, but none of them match your filters.",button:null},this._emptyFilteredState||{}),this._addHeaderRow(),n2.isEmpty(this._data)?this._isDataDriven()||this._showEmptyState(this._emptyState,{hideHeaderRow:!0}):this._refreshData(),n2.isNull(this._sortBy)||this._applySortBy(this._sortBy)}},{key:"_addHeaderRow",value:function(){var i=this;this.insert(new n2.ui.component.dataTable.Row({id:"th-row",headerRow:!0,columns:this.columns,renderTo:this.SELECTORS.tableHeader,selectable:this._selectable,hidden:this._hideHeaderRow,listeners:{selectionChange:function(e){return i._onHeaderRowSelectionChange(e)},sort:function(e){var t=e.target;i.headerRow.forEachCell(function(e){e!==t&&(e.sortDirection=null)}),i._sort(e.target.column,{direction:e.data.sortDirection}),i._refreshData(),i._sortBy={column:i.columns.indexOf(e.target.column),direction:e.data.sortDirection}}}}))}},{key:"_onHeaderRowSelectionChange",value:function(t){this.rows.forEach(function(e){e.disabled||e.hidden&&t.target.selected||e.select(t.target.selected,{silent:!0})})}},{key:"removeRow",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).silent;this._doRemoveRow(e,{silent:void 0!==t&&t})}},{key:"_doRemoveRow",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.target,i=void 0===i?null:i,t=t.silent,t=void 0!==t&&t,n=this._getRowIndex(e);-1<n&&(this._removeRowData(n),this._removeRow(e),this._applyRowIndexAttributes(),this._hasVisibleRows()||(n2.isEmpty(this.data)?this._showEmptyState(this._emptyState,{hideHeaderRow:!0}):this._showEmptyState(this._emptyFilteredState)),this._updateFooterCount()),this._callRemoveRowEventHandlers(e,{target:i,silent:t})}},{key:"_callRemoveRowEventHandlers",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.target,t=t.silent,t=void 0!==t&&t,i=this._createChangeEvent(void 0===i?null:i,[{property:"rows",type:"remove"}],{relatedTarget:e});t||this.fire("change",i),this._onRemoveRow(i)}},{key:"_onRemoveRow",value:function(e){}},{key:"_removeRowData",value:function(e){var t;if(this._isDataDriven())return t=this._getDataBinding("data").dataItem,t=n2.dataProvider.Model.isModeled(t)?t.getProperty(e):t[e],this._updateDataBinding("data",null,{type:"remove",key:e}),t}},{key:"_removeRow",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).destroy,t=void 0===t||t;this.remove(e.id),t&&e.destroy()}},{key:"_addRows",value:function(){var e,t,i=this;n2.isNull(this._data)||(e=this._data,this._isDataDriven()&&(t=this._getDataBinding("data"),e=n2.isNull(t)?e:t.dataItem),t=e.map(function(e,t){return i._createRow({id:"tr-".concat(t),data:e})}),this.insert(t))}},{key:"insertRow",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.index,t=t.silent;return this._doInsertRow(e,{index:void 0===i?null:i,silent:void 0!==t&&t})}},{key:"_doInsertRow",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.index,i=void 0===i?null:i,n=t.target,n=void 0===n?null:n,t=t.silent,t=void 0!==t&&t,i=this._insertRow(e,{index:n2.isNull(i)?null:i+1});return this._insertRowData(e.data,this._getRowIndex(i)),this._applyRowIndexAttributes(),this._hideEmptyState(),this._updateFooterCount(),this._callInsertRowEventHandlers(i,{target:n,silent:t}),i}},{key:"_callInsertRowEventHandlers",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.target,t=t.silent,t=void 0!==t&&t,i=this._createChangeEvent(void 0===i?null:i,[{property:"rows",type:"insert"}],{relatedTarget:e});t||this.fire("change",i),this._onInsertRow(i)}},{key:"_onInsertRow",value:function(e){}},{key:"_insertRow",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).index,t=void 0===t?null:t,t=n2.isNull(t)?this._componentIds.length:t,e=e instanceof n2.ui.component.dataTable.Row?e:this._createRow(e);return this._insert(e,t)}},{key:"_insertRowData",value:function(e,t){this._isDataDriven()&&this._updateDataBinding("data",e,{type:"insert",key:t})}},{key:"_createRow",value:function(e){var n=this,t=Math.max.apply(null,this._componentIds.map(function(e){return e.startsWith("tr-")?parseInt(e.replace("tr-",""),10):-1})),t=new this._rowClass(n2.merge({id:"tr-".concat(t+1),columns:this.columns,editable:this._editable,disabled:this._disabled,mergeCells:this.mergeCells,selectable:this._selectable},e));return t.listen("keydown",function(e,t,i){return n._onRowKeyDown(e,t,i)},this),t.listen("focusin",function(e,t,i){return n._onRowFocusIn(e,t,i)},this),t.listen("click",function(e,t,i){n.fire("click",n,e,t,i),n._onRowClick(e,t,i)},this),t.listen("selectionChange",function(e){return n._onRowSelectionChange(e)},this),t.listen("change",function(e){return n.fire("change",e)},this),t}},{key:"_getRowIndex",value:function(t){var i=-1,n=!1;return this.forEachRow(function(e){return i+=1,!(n=e===t)}),n?i:-1}},{key:"_onRowKeyDown",value:function(e,t,i){var n=null;switch(n2.ui.Key.get(i.key)){case n2.ui.enum.Key.ARROW_UP:n=this._getPreviousRow(e);break;case n2.ui.enum.Key.ARROW_DOWN:n=this._getNextRow(e)}n2.isNull(n)||(e.clearFocus({focusable:n2.ui.enum.Focusable.INACTIVE}),n.applyFocus(n.components[t.id]))}},{key:"_getPreviousRow",value:function(e){for(;(e=this.getPreviousComponent(e.id)).headerRow||!(e instanceof n2.ui.component.dataTable.Row););return e}},{key:"_getNextRow",value:function(e){for(;(e=this.getNextComponent(e.id)).headerRow||!(e instanceof n2.ui.component.dataTable.Row););return e}},{key:"_onRowFocusIn",value:function(e,t,i){this._focusedCell!==t&&(n2.isNull(this._focusedCell)||(this._focusedCell.focusable=n2.ui.enum.Focusable.INACTIVE),this._focusedCell=t)}},{key:"_onRowClick",value:function(e,t,i){}},{key:"_applySortBy",value:function(e){this.headerRow.components["th-".concat(e.column)].sortDirection=e.direction}},{key:"_getTemplatePartials",value:function(){return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplatePartials",this).call(this),{footerTemplate:this._footerTemplate,colgroupTemplate:this._colgroupTemplate})}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplateData",this).call(this),{columns:this._getTotalColumns(),footer:this._getFooterData(),selectable:this._selectable,description:this._description})}},{key:"_getFooterData",value:function(){var e,t;return this.displayFooter?(e=this.getFilteredRows(),t=this.data.length-e.length,{displayFooter:this.displayFooter,filteredCount:e.length,displayFilteredCount:0!==e.length&&e.length!==this.data.length,unfilteredCount:t,rowName:1==t?"row":"rows"}):{displayFooter:!1}}},{key:"_afterRender",value:function(){_get4(_getPrototypeOf(t.prototype),"_afterRender",this).call(this),this._selectable&&this._refreshSelectable(),this._applyRowIndexAttributes()}},{key:"_refreshSelectable",value:function(){this._rendered&&(this._makeSelectable(this._selectable),this._selectable?this.tableDOM.attribute("aria-multiselectable",this._selectable):this.tableDOM.removeAttribute("aria-multiselectable"))}},{key:"_makeSelectable",value:function(t){this.forEachRow(function(e){e.selectable=t},{includeHeaderRow:!0})}},{key:"_onRowSelectionChange",value:function(e){this._refreshHeaderRowSelection(),this.fire("selectionChange",e)}},{key:"_refreshHeaderRowSelection",value:function(){switch(this._getSelectionState()){case this._SELECTION_STATE.ALL:this.headerRow.select(!0,{silent:!0});break;case this._SELECTION_STATE.SOME:this.headerRow.select(null,{silent:!0});break;case this._SELECTION_STATE.NONE:this.headerRow.select(!1,{silent:!0})}}},{key:"_getSelectionState",value:function(){var e,t=this.rows.filter(function(e){return!e.hidden&&!e.disabled});return n2.isEmpty(t)||(e=t.filter(function(e){return e.selected}),n2.isEmpty(e))?this._SELECTION_STATE.NONE:e.length===t.length?this._SELECTION_STATE.ALL:this._SELECTION_STATE.SOME}},{key:"_getSelectionData",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).includeHidden,t=void 0===e||e,i=[];return this.forEachRow(function(e){!e.selected||!t&&e.hidden||i.push(e.data)}),i}},{key:"_canReorder",value:function(e,t){return!e.headerRow}},{key:"_revealDropZone",value:function(e,t,i){var n=1;t.forEachCell(function(e){n+=1}),this._dropZone=new n2.ui.DOM('<tr class="n2_drop-zone" style="height: '.concat(t.dom.style("height"),'"><td colspan="').concat(n,'"></td></tr>')),"before"!==i?"after"===i&&e.dom.insert(this._dropZone,"afterend"):e.dom.insert(this._dropZone,"beforebegin")}},{key:"_hideDropZone",value:function(){this._dropZone&&this._dropZone.remove()}},{key:"_onReorder",value:function(e){e.targetComponent,e.reorderIndex;this._applyRowIndexAttributes()}},{key:"_sort",value:function(e){var t,i,n,s=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).direction,s=void 0===s?"asc":s;n2.isEmpty(this._data)||(t=e.bindPath,i=null,n2.isObject(e.sort)&&(t=e.sort.bindPath,i=e.sort.adapter||null),n=(e=n2.dataProvider.Model.isModeled(this._data))?this._data.json:n2.clone(this._data),n2.sort(n,{property:t,ascending:"asc"===s,adapter:i}),e?this._data.set(n,{silent:!0}):this._data=n)}},{key:"_refreshColgroup",value:function(){this._rendered&&(this._removeColgroup(),this._insertColgroup())}},{key:"_removeColgroup",value:function(){this.element("colgroup").destroy()}},{key:"_insertColgroup",value:function(){this._dom.insert(n2.ui.Template.render(this._colgroupTemplate,{columns:this._getTotalColumns()}),"afterbegin")}},{key:"_refreshData",value:function(){var i=this,e=(this.forEachRow(function(e){e.destroy()}),n2.dataProvider.Model.isModeled(this._data)?this._data.json:n2.clone(this._data));n2.isEmpty(e)?this._showEmptyState(this._emptyState,{hideHeaderRow:!0}):(this._hideEmptyState(),this._addRows(),n2.isEmpty(this._filters)||n2.forEach(this._filters,function(e,t){i.addFilter(t,e)}),this._applyRowIndexAttributes())}},{key:"addFilter",value:function(e,t){var i=t.dataBindings,i=void 0===i?null:i,n=t.value,n=void 0===n?null:n,s=t.fcn,s=void 0===s?null:s;n2.isUndefined(this._filters[e])||this.removeFilters([e]),this._applyFilter({dataBindings:i,value:n,fcn:s,maintainPreviousFilters:!0}),this._filters[e]=t}},{key:"filter",value:function(e){e.dataBindings,e.value,e.fcn;this._applyFilter.apply(this,arguments)}},{key:"_applyFilter",value:function(e){var i=this,t=e.dataBindings,n=void 0===t?null:t,t=e.value,s=void 0===t?null:t,t=e.fcn,o=void 0===t?null:t,t=e.maintainPreviousFilters,l=void 0!==t&&t,a=!0;this.forEachRow(function(e){var t;l&&e.hidden||(t=n2.isNull(o)?!e.isMatch(s,n):!o.call(i,e),e.hidden=t,e.isFiltered=t),e.hidden||(a=!1)}),this._applyRowIndexAttributes(),this._refreshHeaderRowSelection(),this._updateFooterCount(),a?this._showEmptyState(this._emptyFilteredState):this._hideEmptyState()}},{key:"_updateFooterCount",value:function(){this._refresh({footer:!0})}},{key:"_refresh",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.rendered&&(e=void 0!==(e=t.footer)&&e,t=n2.isEmpty(t),e||t)&&this.displayFooter&&this._refreshFooter()}},{key:"_refreshFooter",value:function(){if(n2.isNull(this.element("footer")))throw new Error("The table is trying to display a footer for which there is no element, missing property `displayFooter = false`?");this.element("footer").clear();var e=n2.ui.Template.render(this._footerTemplate,this._getTemplateData());this.element("footer").insert(e)}},{key:"removeFilters",value:function(){var i=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this._showAllRows(),n2.isNull(e)?(this._filters={},this._updateFooterCount()):(e.forEach(function(e){return delete i._filters[e]}),n2.forEach(this._filters,function(e,t){i.addFilter(t,e)}),n2.isEmpty(this._filters)&&this._updateFooterCount()),this._applyRowIndexAttributes(),this._refreshHeaderRowSelection(),n2.isEmpty(this._filters)&&this._hideEmptyState()}},{key:"_showAllRows",value:function(){this.forEachRow(function(e){e.hidden=!1,e.isFiltered=!1})}},{key:"_hideEmptyState",value:function(){this.headerRow.hidden=this._hideHeaderRow,n2.isUndefined(this._components["empty-state"])||(this._components["empty-state"].hidden=!0)}},{key:"_showEmptyState",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).hideHeaderRow,t=void 0===t?this._hideHeaderRow:t;this._refreshEmptyState(e),this.headerRow.hidden=t,this._components["empty-state"].hidden=!1}},{key:"_refreshEmptyState",value:function(e){this._components["empty-state"]&&this._components["empty-state"].destroy(),this._insertEmptyState(e)}},{key:"_insertEmptyState",value:function(e){var e=n2.clone(e),t=e.button,i=(delete e.button,e.content=n2.ui.Template.render(e.content,{recordCount:this.data.length}),{id:"empty-state",hidden:!0,colspan:this._getTotalColumns().length}),i=this.insert(new n2.ui.component.dataTable.EmptyState(n2.merge(i,e)));n2.isNull(t)||i.insert(this._createEmptyStateButton(t))}},{key:"_getTotalColumns",value:function(){var e=n2.clone(this.columns);return this._selectable&&(e=n2.merge([{cls:"n2_selectable"}],e)),e=this._reorderable?n2.merge([{cls:"n2_reorderable"}],e):e}},{key:"_createEmptyStateButton",value:function(e){return new n2.ui.component.Button(n2.merge({id:"empty-state-button"},e||{}))}},{key:"reset",value:function(){this.forEachRow(function(e){e.reset()})}},{key:"validate",value:function(){var t=!0;return this.forEachRow(function(e){e=e.validate();e||(t=e)}),t}},{key:"forEachRow",value:function(i){var n=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=e.includeHeaderRow,s=void 0!==t&&t,t=e.includeDestroyed;return this.forEach({fcn:function(e,t){if(e instanceof n2.ui.component.dataTable.Row&&(!e.headerRow||s))return i.call(n,e,t)},includeDestroyed:void 0!==t&&t})}},{key:"getFilteredRows",value:function(){var t=[];return this.forEachRow(function(e){e.isFiltered&&t.push(e)}),t}},{key:"_hasVisibleRows",value:function(){var t=!1;return this.forEachRow(function(e){return!(t=!e.hidden)}),t}},{key:"_refreshDescription",value:function(){this._rendered&&(n2.isNull(this._description)?this.tableDOM.removeAttribute("aria-label"):this.tableDOM.attribute("aria-label",this._description))}},{key:"_refreshDisabled",value:function(){var t=this;this.forEachRow(function(e){e.disabled=t._disabled},{includeHeaderRow:!0})}},{key:"_refreshEditable",value:function(){var t=this;this.forEachRow(function(e){e.editable=t._editable})}},{key:"_applyRowIndexAttributes",value:function(){var t;this._rendered&&(t=0,this.forEachRow(function(e){e.hidden?e.dom.removeAttribute("data-visible-row-index"):e.dom.attribute("data-visible-row-index",t++)}))}}]),t}(),n2.ui.component.EditableDataTable=function(){_inherits(i,n2.ui.component.DataTable);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return _createClass(i,[{key:"_define",value:function(){_get4(_getPrototypeOf(i.prototype),"_define",this).apply(this,arguments),this.SELECTORS=n2.merge(this.SELECTORS,{addRow:".n2_add-row",table:"table"}),this._template='<div id="{{id}}" class="n2-component n2-editable-data-table{{#componentCls}} {{componentCls}}{{/componentCls}}{{#cls}} {{cls}}{{/cls}}{{#hidden}} {{hideCls}}{{/hidden}}">\n            <table class="slds-table"{{#selectable}} aria-multiselectable="true"{{/selectable}}>\n                <colgroup>\n                {{#columns}}<col {{#cls}}class="{{cls}}"{{/cls}}/>{{/columns}}\n                </colgroup>\n                <thead></thead>\n                <tbody{{#isEditable}} class="n2_editable"{{/isEditable}}></tbody>\n                {{#footer.displayFooter}}<tfoot>{{> footerTemplate}}</tfoot>{{/footer.displayFooter}}\n            </table>\n            <div class="n2_add-row"></div>\n        </div>',this._editable=!0,this._max=null,this._min=null,this._newRowData=null,this._addRowButtonConfig=null}},{key:"max",get:function(){return this._max},set:function(e){this._max!==e&&(this._max=e,this._enforceMaxRows())}},{key:"min",get:function(){return this._min},set:function(e){this._min!==e&&(this._min=e,this._enforceMinRows({correctMissingRows:!0}))}},{key:"newRowData",get:function(){return this._newRowData},set:function(e){this._newRowData=e}},{key:"addRowButtonConfig",get:function(){return this._addRowButtonConfig},set:function(e){n2.compare(this._addRowButtonConfig,e)||(this._addRowButtonConfig=e,e=this._components["add-row-button"],n2.isUndefined(e)||e.destroy(),this._insertAddRowButton())}},{key:"tableDOM",get:function(){return this.element("table")}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(i.prototype),"_onDefined",this).apply(this,arguments),this._insertAddRowButton()}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(i.prototype),"_getTemplateData",this).call(this),{isEditable:this._editable})}},{key:"_insertAddRowButton",value:function(){var t=this;this._insert(new n2.ui.component.Button(n2.merge({id:"add-row-button",renderTo:this.SELECTORS.addRow,text:"Add Row",theme:n2.ui.component.button.Theme.LINK,icon:n2.ui.enum.Icon.ADD,cls:"slds-m-vertical_x-small",disabled:this._disabled||this._isMaxRows(),hidden:!this._editable||this._isMaxRows()},this._addRowButtonConfig||{}))).listen("click",function(e){return t._onAddRowClick(e)},{caller:this})}},{key:"_onAddRowClick",value:function(e){this._doInsertRow({data:this._createNewRowData()},{target:e})}},{key:"addRow",value:function(e){e=e.silent,e=void 0!==e&&e;return this.insertRow({data:this._createNewRowData()},{silent:e})}},{key:"_doInsertRow",value:function(e){(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).index;var t=_get4(_getPrototypeOf(i.prototype),"_doInsertRow",this).apply(this,arguments);return this._enforceMaxRows(),this._enforceMinRows(),t}},{key:"_createNewRowData",value:function(){return n2.isObject(this._newRowData)&&!n2.isUndefined(this._newRowData.type)?new this._newRowData.type({value:this._newRowData.value}):n2.clone(this._newRowData)}},{key:"_createRow",value:function(e){var t=_get4(_getPrototypeOf(i.prototype),"_createRow",this).apply(this,arguments);return t.insert(this._createRemoveCell(t)),t}},{key:"_createRemoveCell",value:function(e){return new n2.ui.component.dataTable.Cell({id:"remove-row-cell",column:{},cls:"n2_remove-cell",components:[this._createRemoveButton(e)]})}},{key:"_createRemoveButton",value:function(t){var i=this;return new n2.ui.component.Button({id:"remove-row-button",icon:n2.ui.enum.Icon.CLOSE,disabled:this._disabled||this._isMinRows(),cls:"n2_remove-button",listeners:{click:function(e){return i._onRemoveRowClick({target:e,relatedTarget:t})}}})}},{key:"_onRemoveRowClick",value:function(e){this._doRemoveRow(e.relatedTarget,{target:e.target})}},{key:"_doRemoveRow",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.target,t.silent;this.data.length>this._min&&(_get4(_getPrototypeOf(i.prototype),"_doRemoveRow",this).apply(this,arguments),this._enforceMaxRows(),this._enforceMinRows())}},{key:"_refreshData",value:function(){_get4(_getPrototypeOf(i.prototype),"_refreshData",this).apply(this,arguments),this._enforceMaxRows(),this._enforceMinRows({correctMissingRows:!0})}},{key:"_getTotalColumns",value:function(){var e=_get4(_getPrototypeOf(i.prototype),"_getTotalColumns",this).apply(this,arguments);return this._editable&&e.push({cls:"n2_remove"}),e}},{key:"_enforceMaxRows",value:function(){n2.isNull(this._max)||(this._disableAddRowButton({disabled:this._disabled||this._isMaxRows()}),this._components["add-row-button"].hidden=!this._editable||this._isMaxRows())}},{key:"_enforceMinRows",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).correctMissingRows,e=void 0!==e&&e;if(!n2.isNull(this._min)){var t=this._min-this.data.length;if(e)for(var i=0;i<t;i++)this.insertRow({data:this._createNewRowData()});this._disableRemoveRowButtons({disabled:0<=t})}}},{key:"_refreshEditable",value:function(){_get4(_getPrototypeOf(i.prototype),"_refreshEditable",this).apply(this,arguments),this._components["add-row-button"].hidden=!this._editable||this._isMaxRows(),this.rendered&&(this._editable?this.element("body").addClass("n2_editable"):this.element("body").removeClass("n2_editable"))}},{key:"_refreshDisabled",value:function(){_get4(_getPrototypeOf(i.prototype),"_refreshDisabled",this).apply(this,arguments),this._disableAddRowButton({disabled:this._disabled||this._isMaxRows()}),this._disableRemoveRowButtons({disabled:this._disabled||this._isMinRows()})}},{key:"_disableAddRowButton",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).disabled,t=this._components["add-row-button"];void 0===e||e?t.disable():t.enable()}},{key:"_disableRemoveRowButtons",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).disabled,t=void 0===e||e;this.forEachRow(function(e){e=e.components["remove-row-cell"].components["remove-row-button"];t?e.disable():e.enable()})}},{key:"_isMaxRows",value:function(){return!n2.isNull(this._max)&&this.data.length>=this._max}},{key:"_isMinRows",value:function(){return!n2.isNull(this._min)&&this.data.length<=this._min}}]),i}(),n2.ui.component.Field=function(){_inherits(i,n2.ui.Component);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return _createClass(i,[{key:"_define",value:function(){_get4(_getPrototypeOf(i.prototype),"_define",this).call(this),this.EVENTS=n2.merge(this.EVENTS||{},{change:function(e){},keydown:function(e,t){}}),this.REQUIRED_MEMBERS=n2.merge(this.REQUIRED_MEMBERS,["label"]),this.SELECTORS=n2.merge(this.SELECTORS,{label:".slds-form-element__label",field:".slds-form-element__control",fieldContainer:".slds-form-element__control",tooltipTarget:".n2__tooltip-trigger",error:"#{{id}}_error"}),this._mixins=[n2.mixin.Observable],this._template='<div class="slds-form-element n2-component{{#hidden}} {{hideCls}}{{/hidden}}{{#cls}} {{cls}}{{/cls}}" id="{{id}}"{{#title}} title="{{title}}"{{/title}}>{{> labelTemplate}}{{> helpIconTemplate}}<div class="slds-form-element__control{{#iconContainerCls}} {{iconContainerCls}}{{/iconContainerCls}}">{{> fieldTemplate}}</div>{{> errorTemplate}}</div>',this._value=null,this._defaultValue=null,this._initialValue=null,this._lastValue=null,this.label=null,this._labelTemplate='<label class="slds-form-element__label{{#label.hidden}} {{assistiveTextCls}}{{/label.hidden}}{{#label.cls}} {{label.cls}}{{/label.cls}}" for="{{id}}_field">{{#required}}<abbr title="Required" class="slds-required">*</abbr> {{/required}}{{label.text}}</label>',this.required=!1,this._fieldTemplate="",this.requiredErrorMessage="This field is required",this.validator=null,this.errorMessage="Please enter a valid value for this field",this._errorTemplate='{{#hasValidation}}<div class="slds-form-element__help n2__field-error{{#hideCls}} {{hideCls}}{{/hideCls}}" id="{{id}}_error"></div>{{/hasValidation}}',this._isValid=!0,this._helpIconTemplate='<div class="slds-form-element__icon n2__tooltip-trigger"><button class="slds-button slds-button_icon" id="{{id}}_help-button" aria-describedby="{{id}}_help"><svg class="slds-icon slds-icon_x-small slds-icon-text-default" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{{helpIcon}}" /></svg><span class="slds-assistive-text">Help</span></button></div>',this._helpText=null,this._disabled=!1}},{key:"disabled",get:function(){return this._disabled},set:function(e){(this._disabled=e)?this._disable():this._enable()}},{key:"value",get:function(){return this._getValue()},set:function(e){e=n2.isObject(e)?e:{value:e};this._setValue(e)}},{key:"isValid",get:function(){return this._isValid}},{key:"lastValue",get:function(){return this._lastValue}},{key:"helpText",set:function(e){var t={};n2.compare(this._helpText,e)||(n2.isString(e)&&(t.text=e),this._helpText=n2.merge(this._helpText,t),this.rendered&&this._refreshHelpText())}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(i.prototype),"_onDefined",this).call(this),n2.isNull(this._value)?n2.isNull(this._defaultValue)||(this._value=this._defaultValue):this._initialValue=this._value,n2.isString(this.label)&&(this.label={text:this.label}),n2.isString(this._helpText)&&(this._helpText={text:this._helpText})}},{key:"_onLoading",value:function(){_get4(_getPrototypeOf(i.prototype),"_onLoading",this).call(this),this._disable()}},{key:"_onLoaded",value:function(e,t){_get4(_getPrototypeOf(i.prototype),"_onLoaded",this).apply(this,arguments),n2.isNull(this._value)||(this._initialValue=this._value),this.disabled||this._enable()}},{key:"_onSaving",value:function(){_get4(_getPrototypeOf(i.prototype),"_onSaving",this).call(this),this._disable()}},{key:"_onSaved",value:function(e){_get4(_getPrototypeOf(i.prototype),"_onSaved",this).call(this,e),this._initialValue=this.value,this.disabled||this._enable()}},{key:"_onError",value:function(){_get4(_getPrototypeOf(i.prototype),"_onError",this).call(this),this.disabled||this._enable()}},{key:"_resolveDataBinding",value:function(e,t){"value"===e?this._resolveValueDataBinding(t):_get4(_getPrototypeOf(i.prototype),"_resolveDataBinding",this).call(this,e,t)}},{key:"_resolveValueDataBinding",value:function(e){e=n2.isUndefined(e.value)?e.defaultValue:e.value,e=n2.isUndefined(e)?this._defaultValue:e;this._setValue({value:e,silent:!0,sync:!1,validate:!1})}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(i.prototype),"_getTemplateData",this).call(this),{label:this.label,required:this.required,hasValidation:this._hasValidation(),disabled:this.disabled,helpIcon:n2.ui.Icon.getLink(n2.ui.enum.Icon.INFO),helpText:this._helpText,value:this._value})}},{key:"_hasValidation",value:function(){return this.required||n2.isFunction(this.validator)}},{key:"_getTemplatePartials",value:function(){return n2.merge(_get4(_getPrototypeOf(i.prototype),"_getTemplatePartials",this).call(this),{labelTemplate:this._labelTemplate,fieldTemplate:this._fieldTemplate,errorTemplate:this._errorTemplate,helpIconTemplate:n2.isNull(this._helpText)?null:this._helpIconTemplate})}},{key:"_prepareDOM",value:function(){var t=this;_get4(_getPrototypeOf(i.prototype),"_prepareDOM",this).call(this),this._helpText&&this._bindHelpText(),this.element("field").listen("keydown",function(e){t._onKeyDown(e),t.fire("keydown",t,e)})}},{key:"_bindHelpText",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._bindTooltip({text:this._helpText.text,target:this.element("tooltipTarget"),trigger:this.element("tooltipTarget"),position:this._helpText.position||n2.ui.enum.Position.ABOVE,refreshConfig:e})}},{key:"_onKeyDown",value:function(e){}},{key:"_onBlur",value:function(e){this.validate(),this._updateDataBinding("value",this.value)}},{key:"_onChange",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.silent,t=void 0!==t&&t,e=e.sync;void 0!==e&&!e||this._updateDataBinding("value",this.value),t||this.fire("change",this)}},{key:"_getValue",value:function(){return this._rendered?this._getRawValue():this._value}},{key:"_getRawValue",value:function(){return null}},{key:"getValidValue",value:function(){return this.validate()?this.value:null}},{key:"_setValue",value:function(e){var t=e.value,t=void 0===t?"":t,i=e.validate,i=void 0===i||i,n=e.silent,n=void 0!==n&&n,e=e.sync,e=void 0===e||e;this._hasValueChanged(t)&&(this._lastValue=this._value,this._value=t,this._setFieldValue(t,{silent:n,sync:e,validate:i}),i&&this.validate(),this._onChange({silent:n,sync:e,validate:i}))}},{key:"_hasValueChanged",value:function(e){return!n2.compare(this.value,e)}},{key:"_setFieldValue",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.silent,t.sync,t.validate;this._rendered&&this._setRawValue(e)}},{key:"_setRawValue",value:function(e){throw new Error("Calling _setRawValue in the abstract class n2.ui.component.Field, this should be overridden in the specific class.")}},{key:"reset",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.validate,t=void 0!==t&&t,i=e.silent,i=void 0!==i&&i,e=e.sync,e=void 0===e||e;n2.isNull(this._initialValue)?this.clear({silent:i,validate:t,sync:e}):(t||this._isValid||this.clearInvalid(),this._setValue({value:this._initialValue,silent:i,validate:t,sync:e}))}},{key:"clear",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.validate,t=void 0!==t&&t,i=e.silent,i=void 0!==i&&i,e=e.sync,e=void 0===e||e;t||this._isValid||this.clearInvalid(),this._setValue({value:this._defaultValue,silent:i,validate:t,sync:e})}},{key:"validate",value:function(){var e;return this.required&&!this._validateRequired()?(this.markInvalid(this.requiredErrorMessage),!1):!0!==(e=this._validateCustom())?(e=n2.isString(e)?e:this.errorMessage,this.markInvalid(e),!1):!0!==(e=!!n2.isNull(this.validator)||this.validator(this))?(e=n2.isString(e)?e:this.errorMessage,this.markInvalid(e),!1):(this.clearInvalid(),!0)}},{key:"_validateRequired",value:function(){return!0}},{key:"_validateCustom",value:function(){return!0}},{key:"markInvalid",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.errorMessage;this._isValid=!1,this._showError(e)}},{key:"_showError",value:function(e){var t;this._rendered&&(t=this.element("error"),this._applyContainerErrorClass(),t.text(e),t.show())}},{key:"_applyContainerErrorClass",value:function(){this._dom.addClass(n2.ui.enum.CSS.HAS_ERROR)}},{key:"clearInvalid",value:function(){this._isValid||(this._isValid=!0,this._hideError())}},{key:"_hideError",value:function(){var e;this._rendered&&(e=this.element("error"),this._removeContainerErrorClass(),e)&&(e.text(""),e.hide())}},{key:"_removeContainerErrorClass",value:function(){this._dom.removeClass(n2.ui.enum.CSS.HAS_ERROR)}},{key:"_insertSpinner",value:function(){this.element("fieldContainer").addClass("slds-is-relative"),this.element("fieldContainer").insert(this.spinnerTemplate)}},{key:"_enable",value:function(){this.rendered&&this._enableField(),this._enableChildren()}},{key:"_enableField",value:function(){this.element("field").attribute("disabled",!1)}},{key:"_enableChildren",value:function(){}},{key:"_disable",value:function(){this.rendered&&this._disableField(),this._disableChildren()}},{key:"_disableField",value:function(){this.element("field").attribute("disabled",!0)}},{key:"_disableChildren",value:function(){}},{key:"_refreshHelpText",value:function(){var e;n2.isNull(this.element("tooltipTarget"))&&!n2.isNull(this._helpText)?(e=n2.ui.Template.render(this._helpIconTemplate,this._getTemplateData(),this._getTemplatePartials()),this.element("field").insert(e,"beforebegin"),this._bindHelpText()):this._bindHelpText(!0)}}]),i}(),n2.ui.component.Footer=function(){_inherits(t,n2.ui.Component);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this.REQUIRED_MEMBERS=n2.merge(this.REQUIRED_MEMBERS,["buttons"]),this.EVENTS=n2.merge(this.EVENTS||{},{submit:function(e){},cancel:function(e){}}),this._mixins=[n2.mixin.Observable],this.SELECTORS=n2.merge(this.SELECTORS,{message:".n2_message",buttons:".n2_buttons"}),this._mixins=[n2.mixin.Observable],this._message=null,this._buttons=null,this._disabled=!1}},{key:"message",set:function(e){this._message=e,this.rendered&&(n2.isNull(this.element("message"))||this.element("message").remove(),this.element("buttons").insert(this.messageTemplate(this._getTemplateData(),this._getTemplatePartials()),"afterbegin"))}},{key:"buttons",set:function(e){this._buttons=e}},{key:"disabled",set:function(e){this._disabled=e,this._disable(e)}},{key:"template",get:function(){return n2.template(_templateObject=_templateObject||_taggedTemplateLiteral(['<footer id="','" class="n2-footer ',"",'">\n            <div class="slds-text-align_right n2_buttons">\n                ',"\n            </div>\n        </footer>"]),"id","cls","{hidden ? ".concat(n2.ui.enum.CSS.HIDE,"}"),"{message ? >messageTemplate}")}},{key:"messageTemplate",get:function(){return n2.template(_templateObject2=_templateObject2||_taggedTemplateLiteral(['<p class="n2_message slds-text-align_right slds-p-top_x-small">',"</p>"]),"message")}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(t.prototype),"_onDefined",this).call(this),n2.isNull(this._buttons)||this._addButtons(this._buttons),this._disabled&&this._disable(this._disabled)}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplateData",this).call(this),{message:this._message})}},{key:"_getTemplatePartials",value:function(){return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplatePartials",this).call(this),{messageTemplate:this.messageTemplate})}},{key:"_addButtons",value:function(e){switch(e){case n2.ui.enum.Button.YES_NO:this._addCancelButton({text:"No"}),this._addSubmitButton({text:"Yes"});break;case n2.ui.enum.Button.OK_CANCEL:this._addCancelButton(),this._addSubmitButton({text:"OK"});break;case n2.ui.enum.Button.SAVE_CANCEL:this._addCancelButton(),this._addSubmitButton({text:"Save"});break;case n2.ui.enum.Button.OK:this._addSubmitButton({text:"OK"})}}},{key:"_addSubmitButton",value:function(){var e=this,t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).text;this._addButton({id:"submit-button",text:void 0===t?"Submit":t,theme:n2.ui.component.button.Theme.BRAND,listeners:{click:function(){e.fire("submit",e)}}})}},{key:"_addCancelButton",value:function(){var e=this,t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).text;this._addButton({id:"cancel-button",text:void 0===t?"Cancel":t,listeners:{click:function(){e.fire("cancel",e)}}})}},{key:"_addButton",value:function(e){this.insert(new n2.ui.component.Button(n2.merge(e,{renderTo:this.SELECTORS.buttons})))}},{key:"_disable",value:function(t){this.forEach(function(e){e.instanceOf(n2.ui.component.Button)&&(t?e.disable():e.enable())})}}]),t}(),n2.ui.component.Form=function(){_inherits(t,n2.ui.Component);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this.EVENTS=n2.merge(this.EVENTS||{},{submit:function(e){},cancel:function(e){}}),this._mixins=[n2.mixin.Observable],this._template='<div id="{{id}}" class="slds-form slds-form_compound n2-component{{#hidden}} {{hideCls}}{{/hidden}}{{^hidden}} {{showCls}}{{/hidden}} {{cls}}"{{#title}} title="{{title}}"{{/title}}><div class="slds-form-element">{{> layout}}</div></div>',this.layout=null,this._isValid=!0,this._disabled=!1,this._focused=!0}},{key:"isValid",get:function(){return this._isValid}},{key:"values",get:function(){var t={};return this.forEach(function(e){e.instanceOf(n2.ui.component.Field)&&(t[e.id]=e.value)}),t}},{key:"disabled",set:function(e){this._disabled=e,this._disable(e)}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(t.prototype),"_onDefined",this).call(this),this._disabled&&this._disable(this._disabled)}},{key:"_getTemplatePartials",value:function(){return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplatePartials",this).call(this),{layout:this.layout})}},{key:"_makeFocused",value:function(t){var i=this;this.forEachField(function(e){return e.focused=t,e.listen("blur",i._onFocusFieldBlur,i),!1})}},{key:"_onFocusFieldBlur",value:function(e){this._focused=!1,e.removeListeners("blur",{handler:this._onFocusFieldBlur,caller:this})}},{key:"submit",value:function(){!this._disabled&&this.validate()&&this.fire("submit",this)}},{key:"cancel",value:function(){this.fire("cancel",this)}},{key:"_disable",value:function(t){this.forEachField(function(e){e.disabled=t})}},{key:"reset",value:function(){this.forEachField(function(e){e.reset()})}},{key:"clear",value:function(){this.forEachField(function(e){e.clear()})}},{key:"forEachField",value:function(t){var i=this;return this.forEach(function(e){if(e.instanceOf(n2.ui.component.Field))return t.call(i,e)})}},{key:"validate",value:function(){var t=this;return this._isValid=!0,this.forEach(function(e){!e.instanceOf(n2.ui.component.Field)||e.hidden||e.disabled||e.validate()||(t._isValid=!1)}),this._isValid}}]),t}(),n2.ui.component.HTML=function(){_inherits(i,n2.ui.Component);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return _createClass(i,[{key:"_define",value:function(){_get4(_getPrototypeOf(i.prototype),"_define",this).call(this),this._template='<div id="{{id}}" class="n2-component {{cls}}">{{model}}</div>'}},{key:"template",set:function(e){this._template!==e&&(this._template=e,this._refresh())}},{key:"_getTemplateData",value:function(){return this.hasMixin(n2.mixin.DataDriven)?n2.merge(_get4(_getPrototypeOf(i.prototype),"_getTemplateData",this).call(this),{model:n2.dataProvider.Model.isModeled(this._model)?this._model.json:this._model}):_get4(_getPrototypeOf(i.prototype),"_getTemplateData",this).call(this)}},{key:"_onLoaded",value:function(e,t){_get4(_getPrototypeOf(i.prototype),"_onLoaded",this).apply(this,arguments),this._refresh()}},{key:"_refresh",value:function(){var e;this._rendered&&((e=this._dom).hide(),this._dom=new n2.ui.DOM(n2.ui.Template.render(this._template,this._getTemplateData(),this._getTemplatePartials())),e.insert(this._dom,"afterEnd"),e.remove())}}]),i}(),n2.ui.component.Illustration=function(){_inherits(t,n2.ui.Component);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).apply(this,arguments),this.SELECTORS=n2.merge(this.SELECTORS,{svg:"svg",body:".slds-text-longform",heading:".slds-text-longform h3",content:".slds-text-longform p"}),this._template='<div id="{{id}}" class="n2-illustration slds-illustration{{#sizeCls}} {{sizeCls}}{{/sizeCls}}{{#hidden}} {{hideCls}}{{/hidden}} {{cls}}">{{>illustration}}<div class="slds-text-longform">{{#heading}}{{>headingTemplate}}{{/heading}}{{#content}}{{>contentTemplate}}{{/content}}</div></div>',this._illustration=null,this._headingTemplate='<h3 class="slds-text-heading_medium">{{heading}}</h3>',this._contentTemplate='<p class="slds-text-body_regular">{{content}}</p>',this._heading=null,this._content=null,this._sizeCls="slds-illustration_small"}},{key:"illustration",set:function(e){this._illustration!==e&&(this._illustration=e,this._rendered)&&this._refreshIllustration()}},{key:"heading",set:function(e){this._heading!==e&&(this._heading=e,this._rendered)&&this._refreshHeading()}},{key:"content",set:function(e){this._content!==e&&(this._content=e,this._rendered)&&this._refreshContent()}},{key:"sizeCls",set:function(e){var t;this._sizeCls!==e&&(t=this._sizeCls,this._sizeCls=e,this._rendered)&&this._refreshSizeCls(t)}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplateData",this).call(this),{heading:this._heading,content:this._content,sizeCls:this._sizeCls})}},{key:"_getTemplatePartials",value:function(){return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplatePartials",this).call(this),{illustration:this._illustration,headingTemplate:this._headingTemplate,contentTemplate:this._contentTemplate,linkTemplate:this._linkTemplate})}},{key:"_refreshIllustration",value:function(){n2.isNull(this.element("svg"))||this.element("svg").remove(),this._dom.insert(this._illustration,"afterbegin")}},{key:"_refreshHeading",value:function(){n2.isNull(this.element("heading"))||this.element("heading").remove();var e=n2.ui.Template.render(this._headingTemplate,this._getTemplateData());this.element("body").insert(e,"afterbegin")}},{key:"_refreshContent",value:function(){n2.isNull(this.element("content"))||this.element("content").remove();var e=n2.ui.Template.render(this._contentTemplate,this._getTemplateData());this.element("body").insert(e)}},{key:"_refreshSizeCls",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;n2.isNull(e)||this._dom.removeClass(e),n2.isNull(this._sizeCls)||this._dom.addClass(this._sizeCls)}}]),t}(),n2.ui.component.ListBox=function(){_inherits(i,n2.ui.Component);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return _createClass(i,[{key:"_define",value:function(){_get4(_getPrototypeOf(i.prototype),"_define",this).apply(this,arguments),this.EVENTS=n2.merge(this.EVENTS||{},{mousedown:function(e){},click:function(e){},change:function(e){}}),this.SELECTORS=n2.merge(this.SELECTORS,{optionContainer:".slds-listbox"}),this._mixins=[n2.mixin.Observable,n2.ui.mixin.Focus],this._template='<div id="{{id}}" class="n2-list-box slds-dropdown{{#hidden}} {{hideCls}}{{/hidden}} {{cls}}" role="listbox"><ul class="slds-listbox slds-listbox_vertical slds-dropdown_length-5 slds-is-relative" role="presentation"></ul></div>',this._placeholder=null,this._options=null,this._sort=!0,this._multiple=!1,this._selection=null,this._placeholderOption=null}},{key:"placeholder",set:function(e){n2.compare(this._placeholder,e)||(this._placeholder=e,this._refreshOptions())}},{key:"options",set:function(e){n2.compare(this._options,e)||(this._options=e,this._refreshOptions(),this._refreshDuplicateLabels())}},{key:"sort",set:function(e){this._sort!==e&&(this._sort=e,this._refreshOptions())}},{key:"multiple",set:function(e){n2.compare(this._multiple,e)||(this._multiple=e)}},{key:"selection",get:function(){return n2.isEmpty(this._options)?this._selection:this._getSelection()},set:function(e){this._selection=e,this._refreshSelection()}},{key:"focusedOption",get:function(){return this._getFocusedOption()}},{key:"selectedOptions",get:function(){return this._getSelectedOptions()}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(i.prototype),"_onDefined",this).apply(this,arguments),n2.isNull(this._options)||(this._refreshOptions(),this._refreshDuplicateLabels())}},{key:"_refreshOptions",value:function(){var t=this;this.forEachOption(function(e){t.remove(e),e.destroy()},{includePlaceholder:!0}),n2.isNull(this._placeholder)||this.insertPlaceholderOption(this._createPlaceholderOption(this._placeholder)),this.insertOptions(this._createOptions(this._options))}},{key:"_refreshSelection",value:function(){var i=this;this._multiple||this.clear({silent:!0}),this.forEachOption(function(e){var t=n2.isArray(i._selection)?i._selection.includes(e.value):i._selection===e.value;if(e.select(t,{silent:!0}),t&&!i._multiple)return!1})}},{key:"_createOptions",value:function(e){var i=this,t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).sort,t=void 0===t?this._sort:t;return e=e.map(function(e){return n2.isObject(e)?e:{label:e,value:e}}),t&&n2.sort(e,{property:"label"}),e.map(function(e,t){return i._createOption(n2.merge({id:"option-".concat(t)},e))})}},{key:"_createPlaceholderOption",value:function(e){return e=n2.isObject(e)?e:{label:e,value:e},this._createOption(n2.merge(e,{id:"placeholder"}))}},{key:"_createOption",value:function(e){return new n2.ui.component.listBox.Option(e)}},{key:"insertPlaceholderOption",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).insertAt,t=void 0===t?0:t;return e.placeholder=!0,this._placeholderOption=this.insertOption(e,{insertAt:t}),this._placeholderOption}},{key:"insertOptions",value:function(e){var t=this;(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).insertAt;return e.forEach(function(e){return t.insertOption(e)}),e}},{key:"insertOption",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).insertAt,t=void 0===t?null:t;return e.renderTo=this.SELECTORS.optionContainer,e.selected=this._multiple?this._selection.includes(e.value):this._selection===e.value,e.listen("click",this._onOptionClick,this),e.listen("change",this._onOptionChange,this),e.listen("focus",this._onOptionFocus,this),this._insert(e,t)}},{key:"_onOptionClick",value:function(e){e.target.placeholder?this._onPlaceholderClick(e):this._multiple?this._onMultipleOptionClick(e):this._onSingleOptionClick(e),this.fire("click",e),e.event.stopPropagation()}},{key:"_onPlaceholderClick",value:function(e){e=e.target;e.selected||(this.clear({silent:!0}),e.select(!0))}},{key:"_onMultipleOptionClick",value:function(e){!n2.isNull(this._placeholderOption)&&this._placeholderOption.selected&&this._placeholderOption.select(!1,{silent:!0}),e.target.select(!e.target.selected)}},{key:"_onSingleOptionClick",value:function(e){e=e.target;e.selected||(this.clear({silent:!0}),e.select(!0))}},{key:"_onOptionChange",value:function(e){this._selection=this.selection,this.fire("change",e)}},{key:"_onOptionFocus",value:function(e){this._rendered&&this._dom.find("ul").isScrollable()&&e.dom.scrollIntoView({recursive:!1})}},{key:"_bindEvents",value:function(){var t=this;_get4(_getPrototypeOf(i.prototype),"_bindEvents",this).apply(this,arguments),this._dom.listen("mouseover",this._onMouseOver,{scope:this}),this._dom.listen("mousedown",function(e){e={target:t,currentTarget:t,event:e};t.fire("mousedown",e),t._onMouseDown(e)},{scope:this})}},{key:"_onMouseOver",value:function(e){this.clearFocus()}},{key:"_onMouseDown",value:function(e){}},{key:"_afterRender",value:function(){_get4(_getPrototypeOf(i.prototype),"_afterRender",this).apply(this,arguments),this._hidden||this._focusSelectedOption()}},{key:"show",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).focusSelectedOption,e=void 0===e||e;_get4(_getPrototypeOf(i.prototype),"show",this).apply(this,arguments),e&&this._focusSelectedOption()}},{key:"_focusSelectedOption",value:function(){var e=this._getSelectedOptions();n2.isEmpty(e)||(this.clearFocus(),e[0].focused=!0)}},{key:"_hideElement",value:function(e){_get4(_getPrototypeOf(i.prototype),"_hideElement",this).apply(this,arguments),this.clearFocus()}},{key:"clear",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).silent,t=void 0!==e&&e;this.forEachOption(function(e){e.select(!1,{silent:t})},{includePlaceholder:!0})}},{key:"_refreshDuplicateLabels",value:function(e){var t=this;this.forEachOption(function(e){t._hasDuplicateLabel(e)&&(e.label="".concat(e.label," (").concat(e.value,")"))})}},{key:"_hasDuplicateLabel",value:function(t){if(1<this._options.filter(function(e){e=n2.isUndefined(e.label)?e:e.label;return t.label===e}).length)return!0}},{key:"getOptionsByValue",value:function(t){var i=[];return this.forEachOption(function(e){e.value===t&&i.push(e)}),i}},{key:"_getSelectedOptions",value:function(){var t=[];return this.forEachOption(function(e){e.selected&&t.push(e)}),t}},{key:"_getSelection",value:function(){var e,t=[];return this.forEachOption(function(e){e.selected&&t.push(e.value)}),this._multiple?t:(e=t[0],n2.isUndefined(e)?"":e)}},{key:"_getFocusedOption",value:function(){var t=null;return this.forEachOption(function(e){if(e.focused)return t=e,!1},{includePlaceholder:!0}),t}},{key:"forEachOption",value:function(i){var n=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=e.includeDestroyed,e=e.includePlaceholder,s=void 0!==e&&e;return this.forEach({includeDestroyed:void 0!==t&&t,fcn:function(e,t){if(e instanceof n2.ui.component.listBox.Option&&(s||!e.placeholder))return i.apply(n,[e,t])}})}}]),i}(),n2.ui.component.Menu=function(){_inherits(n,n2.ui.Component);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"_define",value:function(){_get4(_getPrototypeOf(n.prototype),"_define",this).call(this),this.EVENTS=n2.merge(this.EVENTS,{select:function(e){},change:function(e){}}),this.SELECTORS=n2.merge(this.SELECTORS,{body:".slds-dropdown__list",dropdownContainer:".slds-dropdown"}),this._mixins=[n2.mixin.Observable,n2.ui.mixin.Focus],this._template='<div id="{{id}}" class="n2-component n2-menu slds-dropdown-trigger slds-dropdown-trigger_click{{#hidden}} {{hideCls}}{{/hidden}}{{^hidden}} {{showCls}}{{/hidden}}{{#cls}} {{cls}}{{/cls}}{{#openedCls}} {{openedCls}}{{/openedCls}}"{{#title}} title="{{title}}"{{/title}}><div class="slds-dropdown {{positionCls}}"><ul class="slds-dropdown__list" role="menu" aria-label="Show More"></ul></div></div>',this._options=[],this._opened=!1,this._disabled=!1,this._icon=n2.ui.enum.Icon.THREE_DOTS,this._position=n2.ui.enum.Position.RIGHT}},{key:"options",get:function(){return this.componentList.filter(function(e){return e instanceof n2.ui.component.menu.Option})},set:function(e){n2.compare(this._options,e)||(this._options=e,this._refreshOptions())}},{key:"icon",get:function(){return this._icon},set:function(e){this._icon!==e&&(this._icon=e,this._refreshIcon())}},{key:"opened",get:function(){return this._opened},set:function(e){this._opened!==e&&(this._opened=e,this._refreshOpened())}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled!==e&&(this._disabled=e,this._disabled?this.menuButton.disable():this.menuButton.enable())}},{key:"position",set:function(e){this._position!==e&&(this._position=e,this.rendered)&&this._refreshPosition()}},{key:"menuButton",get:function(){return this._components["menu-button"]}},{key:"_onDefined",value:function(){var e=this;_get4(_getPrototypeOf(n.prototype),"_onDefined",this).call(this),this.insert(new n2.ui.component.Button({id:"menu-button",icon:this._icon,cls:"slds-button_icon-border-filled",title:"Show More",disabled:this._disabled,renderTo:{target:".slds-dropdown",position:"beforebegin"},listeners:{click:function(){return e._toggleOpen()}}})),this._insertOptions()}},{key:"_toggleOpen",value:function(){this.opened=!this._opened}},{key:"_insertOptions",value:function(){var t=this;this._options.forEach(function(e){t.insert(new n2.ui.component.menu.Option(n2.merge(e,{listeners:{select:t._onOptionSelect,change:t._onOptionChange,scope:t}})))})}},{key:"_onOptionSelect",value:function(e){this.fire("select",e,this),this.opened=!1,this.menuButton.focus()}},{key:"_refreshOptions",value:function(){this._destroyOptions(),this._insertOptions()}},{key:"_destroyOptions",value:function(){this.forEach({type:n2.ui.component.menu.Option,fcn:function(e){this._destroyComponent(e)}})}},{key:"_onOptionChange",value:function(e){e=this._createChangeEvent(e.target,[{property:"options",type:"set"}]);this.fire("change",e)}},{key:"_refreshIcon",value:function(){this.menuButton.icon=this._icon}},{key:"_refreshPosition",value:function(){this._position===n2.ui.enum.Position.RIGHT?(this.element("dropdownContainer").removeClass(n2.ui.enum.CSS.DROPDOWN_LEFT),this.element("dropdownContainer").addClass(n2.ui.enum.CSS.DROPDOWN_RIGHT)):(this.element("dropdownContainer").removeClass(n2.ui.enum.CSS.DROPDOWN_RIGHT),this.element("dropdownContainer").addClass(n2.ui.enum.CSS.DROPDOWN_LEFT))}},{key:"_refreshOpened",value:function(){this._rendered&&(this._opened?(this._dom.addClass(n2.ui.enum.CSS.OPEN),this.menuButton.dom.addClass("n2_active")):(this._dom.removeClass(n2.ui.enum.CSS.OPEN),this.menuButton.dom.removeClass("n2_active")),this.menuButton.dom.attribute("aria-expanded",this._opened)),this._opened?this.focusFirst({focusable:n2.ui.enum.Focusable.INACTIVE}):this.clearFocus({focusable:n2.ui.enum.Focusable.INACTIVE})}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(n.prototype),"_getTemplateData",this).call(this),{positionCls:this._getPositionCls(),openedCls:this._opened?n2.ui.enum.CSS.OPEN:""})}},{key:"_getPositionCls",value:function(){return this._position===n2.ui.enum.Position.LEFT?n2.ui.enum.CSS.DROPDOWN_LEFT:n2.ui.enum.CSS.DROPDOWN_RIGHT}},{key:"_afterRender",value:function(){_get4(_getPrototypeOf(n.prototype),"_afterRender",this).apply(this,arguments),this._refreshOpened()}},{key:"_bindEvents",value:function(){var t=this,i=(_get4(_getPrototypeOf(n.prototype),"_bindEvents",this).call(this),this.dom.listen("keydown",function(e){return t._onKeyDown(e)}),new n2.util.DelayedTask(function(){t.destroyed||(t.opened=!1)},50));this.dom.listen("focusout",function(e){i.start()}),this.dom.listen("focusin",function(e){i.stop()})}},{key:"_onKeyDown",value:function(e){if(e.stopPropagation(),!this._disabled)switch(n2.ui.Key.get(e.key)){case n2.ui.enum.Key.ARROW_DOWN:this._opened?this.focusNext({focusable:n2.ui.enum.Focusable.INACTIVE}):this.opened=!0,e.preventDefault();break;case n2.ui.enum.Key.ARROW_UP:this._opened?this.focusPrevious({focusable:n2.ui.enum.Focusable.INACTIVE}):(this.opened=!0,this.focusLast({focusable:n2.ui.enum.Focusable.INACTIVE})),e.preventDefault();break;case n2.ui.enum.Key.ESCAPE:this.opened=!1,this.menuButton.focus()}}}]),n}(),n2.ui.component.Modal=function(){_inherits(i,n2.ui.Component);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return _createClass(i,[{key:"_define",value:function(){_get4(_getPrototypeOf(i.prototype),"_define",this).call(this),this.EVENTS=n2.merge(this.EVENTS||{},{submit:function(e){},cancel:function(e){}}),this.SELECTORS=n2.merge(this.SELECTORS,{header:".slds-modal__header",content:".slds-modal__content",footer:".slds-modal__footer"}),this._mixins=[n2.mixin.Observable],this._template='<section class="slds-modal n2-component {{hideCls}}{{#size}} slds-modal_{{size}}{{/size}}{{#cls}} {{cls}}{{/cls}}" role="{{role}}" id="{{id}}" aria-describedby="{{id}}_content"{{#heading}} aria-labelledby="{{id}}_heading"{{/heading}} aria-modal="true">\n            {{> bodyTemplate}}\n        </section>',this._bodyTemplate='<div class="slds-modal__container">\n            <div class="slds-modal__header{{#theme}} slds-theme_{{theme}} slds-theme_alert-texture{{/theme}}{{^header}} slds-modal__header_empty{{/header}}">\n                {{> headerTemplate}}\n            </div>\n            <div class="slds-modal__content slds-p-around_medium slds-is-relative" id="{{id}}_content"></div>\n            <div id="{{id}}_footer" class="slds-modal__footer slds-is-relative"></div>\n        </div>',this._headerTemplate='{{#header}}\n            <div class="slds-media slds-media_center slds-has-flexi-truncate">\n                {{#header.icon}}\n                <div class="slds-media__figure" id="{{id}}_heading-icon">\n                    <svg class="slds-icon{{#header.iconCls}} {{header.iconCls}}{{/header.iconCls}}" aria-hidden="true">\n                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{{header.icon}}" />\n                    </svg>\n                </div>\n                {{/header.icon}}\n                <div class="slds-media__body">\n                    <h1 class="slds-text-heading_medium slds-hyphenate" id="{{id}}_heading">{{header.text}}</h1>\n                    {{#header.description}}<p class="slds-m-top_x-small" id="{{id}}_heading-description">{{header.description}}</p>{{/header.description}}\n                </div>\n            </div>\n        {{/header}}',this._hidden=!0,this._header=null,this._buttons=null,this._role="dialog",this._size=null,this._theme=null,this._backdrop=null,this._focusable=n2.ui.enum.Focusable.INACTIVE,this._submitButton=null,this._lazyRender=!0}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(i.prototype),"_onDefined",this).call(this),this._addCloseButton(),n2.isNull(this._buttons)||this._addFooterButtons(this._buttons),this._backdrop=new n2.ui.component.modal.Backdrop({id:this.id+"_backdrop",hidden:this.hidden,renderTo:this.renderTo})}},{key:"parent",get:function(){return this._parent},set:function(e){(this._parent=e).insert(this._backdrop)}},{key:"header",set:function(e){this._header=e,this.rendered&&(e=n2.ui.Template.render(this._headerTemplate,this._getTemplateData()),this.element("header").clear(),this.components["close-button"].destroy(),this._addCloseButton(),this.element("header").insert(e),n2.isNull(this._header)?this.element("header").addClass("slds-modal__header_empty"):this.element("header").removeClass("slds-modal__header_empty"))}},{key:"buttons",set:function(e){this._buttons=e,this.forEach({fcn:function(e){return e.destroy()},type:n2.ui.component.Button}),this._addFooterButtons(this._buttons)}},{key:"size",set:function(e){var t=this._size;this._size=e,this.rendered&&(n2.isNull(t)||this._dom.removeClass("slds-modal_"+t),n2.isNull(this._size)||this._dom.addClass("slds-modal_"+this._size))}},{key:"theme",set:function(e){var t=this._theme;this._theme=e,this.rendered&&(n2.isNull(t)||(this.element("header").removeClass("slds-theme_alert-texture"),this.element("header").removeClass("slds-theme_"+t)),n2.isNull(this._theme)||(this.element("header").addClass("slds-theme_alert-texture"),this.element("header").addClass("slds-theme_"+this._theme)))}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(i.prototype),"_getTemplateData",this).call(this),{role:this._role,header:this._getHeaderData(),size:this._size,theme:this._theme})}},{key:"_getHeaderData",value:function(){return n2.isNull(this._header)?null:n2.isString(this._header)?{text:this._header}:(n2.isUndefined(this._header.icon)||(this._header.icon=n2.ui.Icon.getLink(this._header.icon)),this._header)}},{key:"_getTemplatePartials",value:function(){return n2.merge(_get4(_getPrototypeOf(i.prototype),"_getTemplatePartials",this).call(this),{headerTemplate:this._headerTemplate,bodyTemplate:this._bodyTemplate})}},{key:"_addCloseButton",value:function(){var e=this;this.insert(new n2.ui.component.Button({id:"close-button",renderTo:{target:this.SELECTORS.header,position:"afterbegin"},cls:"slds-modal__close",icon:n2.ui.enum.Icon.CLOSE,iconCls:"slds-button__icon_large",theme:n2.ui.component.button.Theme.INVERSE,listeners:{click:function(){e._onCancel()}}}))}},{key:"_addFooterButtons",value:function(e){switch(e){case n2.ui.enum.Button.YES_NO:this._addYesNoButtons(),this._submitButton=this.components["yes-button"];break;case n2.ui.enum.Button.OK_CANCEL:this._addOkCancelButtons(),this._submitButton=this.components["ok-button"];break;case n2.ui.enum.Button.OK:this._addOkButton(),this._submitButton=this.components["ok-button"]}}},{key:"_addYesNoButtons",value:function(){var e=this;this._addButton({id:"no-button",text:"No",listeners:{click:function(){return e._onCancel()}}}),this._addButton({id:"yes-button",text:"Yes",theme:n2.ui.component.button.Theme.BRAND,listeners:{click:function(){return e._onSubmit()}}})}},{key:"_addOkCancelButtons",value:function(){var e=this;this._addButton({id:"cancel-button",text:"Cancel",listeners:{click:function(){return e._onCancel()}}}),this._addOkButton(n2.ui.component.button.Theme.BRAND)}},{key:"_addOkButton",value:function(e){var t=this;this._addButton({id:"ok-button",text:"OK",theme:e||n2.ui.component.button.Theme.NEUTRAL,listeners:{click:function(){return t._onSubmit()}}})}},{key:"_addButton",value:function(e){this.insert(new n2.ui.component.Button(n2.merge(e,{renderTo:this.SELECTORS.footer})))}},{key:"_afterRender",value:function(){_get4(_getPrototypeOf(i.prototype),"_afterRender",this).call(this),this._backdrop.render(),this._hidden||this._showElement()}},{key:"_bindEvents",value:function(){var t=this;_get4(_getPrototypeOf(i.prototype),"_bindEvents",this).call(this),this._dom.listen("keyup",function(e){return t._onKeyUp(e)})}},{key:"_onKeyUp",value:function(e){if("button"!==e.target.tagName.toLowerCase())switch(n2.ui.Key.get(e.key)){case n2.ui.enum.Key.ENTER:n2.isNull(this._submitButton)||n2.isUndefined(this._submitButton)||this._submitButton.disabled||(document.activeElement.blur(),this._onSubmit());break;case n2.ui.enum.Key.ESCAPE:this._onCancel()}}},{key:"_onSubmit",value:function(){this.fire("submit",this)}},{key:"_onCancel",value:function(){this.fire("cancel",this),this.hidden=!0}},{key:"show",value:function(){this._backdrop.hidden=!1,_get4(_getPrototypeOf(i.prototype),"show",this).apply(this,arguments)}},{key:"_showElement",value:function(){var e=this;this._dom.show(n2.ui.enum.AnimationType.FADE_IN),setTimeout(function(){e._dom.focus()},100)}},{key:"hide",value:function(){_get4(_getPrototypeOf(i.prototype),"hide",this).call(this),this._backdrop.hidden=!0}},{key:"_hideElement",value:function(){_get4(_getPrototypeOf(i.prototype),"_hideElement",this).call(this),this._dom.blur()}},{key:"destroy",value:function(){_get4(_getPrototypeOf(i.prototype),"destroy",this).call(this),this._backdrop.destroy()}}]),i}(),n2.ui.component.MessageBox=function(){_inherits(a,n2.ui.component.Modal);var e=_createSuper(a);function a(){return _classCallCheck(this,a),e.apply(this,arguments)}return _createClass(a,[{key:"_define",value:function(){_get4(_getPrototypeOf(a.prototype),"_define",this).call(this),this.id="message-box",this._role="alertdialog",this._mixins=n2.merge(this._mixins,[n2.mixin.Singleton]),this._bodyTemplate='<div tabindex="0" class="slds-modal__container">\n            <header id="{{id}}_header" class="slds-modal__header{{#theme}} slds-theme_{{theme}} slds-theme_alert-texture{{/theme}}{{^header}} slds-modal__header_empty{{/header}}">\n                {{> headerTemplate}}\n            </header>\n            <div class="slds-modal__content slds-p-around_medium n2_content" id="{{id}}_content">\n                {{#allowHTML}}{{{message}}}{{/allowHTML}}\n                {{^allowHTML}}{{message}}{{/allowHTML}}\n            </div>\n            <footer id="{{id}}_footer" class="slds-modal__footer slds-theme_default"></footer>\n        </div>',this._headerTemplate='{{#header}}<h2 class="slds-text-heading_medium" id="{{id}}_heading">{{header.text}}</h2>{{/header}}',this._message=null,this.allowHTML=!1,this._hideOnSubmit=!0}},{key:"message",set:function(e){this._message=e,this.rendered&&(n2.isNull(this._message)?this.element("content").clear():this.allowHTML?this.element("content").insert(e):this.element("content").text(e))}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(a.prototype),"_getTemplateData",this).call(this),{message:this._message,allowHTML:this.allowHTML,cls:"n2-message_box slds-modal_prompt".concat(this._cls?" ".concat(this._cls):"")})}},{key:"show",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.message,t=void 0===t?null:t,i=e.header,i=void 0===i?null:i,n=e.buttons,n=void 0===n?null:n,s=e.theme,s=void 0===s?null:s,o=e.size,o=void 0===o?null:o,l=e.allowHTML,e=e.listeners,e=void 0===e?null:e;this.allowHTML=void 0!==l&&l,this.message=t,this.header=i,this.buttons=n,this.theme=s,this.size=o,n2.isNull(e)||this._applyListeners(e),_get4(_getPrototypeOf(a.prototype),"show",this).call(this)}},{key:"hide",value:function(){_get4(_getPrototypeOf(a.prototype),"hide",this).apply(this,arguments),this.message=null,this.header=null,this.buttons=null,this.theme=null,this.size=null,this.allowHTML=!1,this.purgeListeners()}},{key:"_onSubmit",value:function(){_get4(_getPrototypeOf(a.prototype),"_onSubmit",this).call(this),this._hideOnSubmit&&(this.hidden=!0)}}]),a}(),n2.ui.component.PillList=function(){_inherits(i,n2.ui.Component);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return _createClass(i,[{key:"_define",value:function(){_get4(_getPrototypeOf(i.prototype),"_define",this).call(this),this.EVENTS=n2.merge(this.EVENTS||{},{remove:function(e,t){},add:function(e,t){}}),this._mixins=[n2.mixin.Observable,n2.ui.mixin.Focus],this._template='<div id="{{id}}" class="{{#hidden}} {{hideCls}}{{/hidden}}{{^hidden}} {{showCls}}{{/hidden}}{{#cls}} {{cls}}{{/cls}}"><ul class="slds-listbox slds-listbox_horizontal" role="listbox" aria-label="Selected Options:" aria-orientation="horizontal"></ul></div>',this.pills=[],this.min=0,this._disabled=!1}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled!==e&&(this._disabled=e,this._refreshDisabled())}},{key:"pillComponents",get:function(){return this.componentList.filter(function(e){return e instanceof n2.ui.component.pillList.Pill})}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(i.prototype),"_onDefined",this).call(this),n2.isEmpty(this.pills)||this.insertPills(this.pills,{silent:!0}),this.pills.length<this.min&&(this.hidden=!0)}},{key:"insertPills",value:function(e){var t=this,i=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).silent,n=void 0!==i&&i;(e=n2.isArray(e)?e:[e]).forEach(function(e){n2.isObject(e)||(e={text:e}),t._insertPill(e,{silent:n})})}},{key:"_insertPill",value:function(e){var t,i=this,n=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).silent,n=void 0!==n&&n;n2.isEmpty(e.text)||((t=this._createPill(e.text,e.value)).listen("remove",function(e){return i.removePills({values:e.value,hideAtMinimum:!1})},this),t.listen("focus",function(e){return i._onPillFocus(e)},this),this.insert(t,e.index),this._componentIds.length>=this.min&&(this.hidden=!1),n)||this.fire("add",this,t)}},{key:"_createPill",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return new n2.ui.component.pillList.Pill({id:this._getUniquePillId(),text:e,value:n2.isNull(t)?e:t,renderTo:".slds-listbox",focusable:n2.isEmpty(this._components)&&!this._disabled?n2.ui.enum.Focusable.ACTIVE:n2.ui.enum.Focusable.INACTIVE,disabled:this._disabled})}},{key:"_onPillFocus",value:function(t){this.forEachPill(function(e){e.id!==t.id&&(e.focusable=n2.ui.enum.Focusable.INACTIVE)})}},{key:"_getUniquePillId",value:function(){for(var e=0;!n2.isUndefined(this._components["pill-"+e]);)e+=1;return"pill-"+e}},{key:"removePills",value:function(){var t,i=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=e.values,n=void 0===n?null:n,s=e.hideAtMinimum,o=void 0===s||s,s=e.silent,l=void 0!==s&&s;n2.isNull(n)?this.forEachPill(function(e){return i._removePill(e,{hideAtMinimum:o,silent:l})},!0):(n2.isArray(n)||(n=[n]),t=null,n.forEach(function(e){t=i._getPillByValue(e),n2.isNull(t)||i._removePill(t,{hideAtMinimum:o,silent:l})}))}},{key:"_removePill",value:function(e,t){var i=t.hideAtMinimum,i=void 0===i||i,t=t.silent,t=void 0!==t&&t;e.focused&&(this._componentIds[0]===e.id?this.focusNext({focusable:n2.ui.enum.Focusable.INACTIVE}):this.focusPrevious({focusable:n2.ui.enum.Focusable.INACTIVE})),this.remove(e),this._destroyComponent(e),t||this.fire("remove",this,e),this._componentIds.length<this.min&&(i||0===this._componentIds.length)&&(this.hidden=!0)}},{key:"_getPillByValue",value:function(t){var i=null;return this.forEachPill(function(e){if(e.value===t)return i=e,!1}),i}},{key:"_bindEvents",value:function(){var t=this;_get4(_getPrototypeOf(i.prototype),"_bindEvents",this).call(this),this._dom.listen("keydown",function(e){return t._onKeyDown(e)})}},{key:"_onKeyDown",value:function(e){switch(n2.ui.Key.get(e.key)){case n2.ui.enum.Key.ARROW_RIGHT:this.focusNext({focusable:n2.ui.enum.Focusable.INACTIVE}),e.preventDefault();break;case n2.ui.enum.Key.ARROW_LEFT:this.focusPrevious({focusable:n2.ui.enum.Focusable.INACTIVE}),e.preventDefault()}}},{key:"_refreshDisabled",value:function(){var i=this;this.forEachPill(function(e,t){e.disabled=i._disabled,e.focusable=0===t?n2.ui.enum.Focusable.ACTIVE:n2.ui.enum.Focusable.INACTIVE})}},{key:"forEachPill",value:function(i){var n=this;return this.forEach({fcn:function(e,t){return i.call(n,e,t)},type:n2.ui.component.pillList.Pill})}}]),i}(),n2.ui.component.SplitButton=function(){_inherits(t,n2.ui.Component);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).apply(this,arguments),this.REQUIRED_MEMBERS=n2.merge(this.REQUIRED_MEMBERS,["buttonText"]),this.EVENTS=n2.merge(this.EVENTS||{},{click:function(e){},select:function(e){}}),this.SELECTORS=n2.merge(this.SELECTORS,{menuContainer:".slds-button_last"}),this._mixins=[n2.mixin.Observable],this._template='<div id="{{id}}" class="n2-split-button slds-button-group{{#hidden}} {{hideCls}}{{/hidden}}{{#cls}} {{cls}}{{/cls}}" role="group">\n            {{#hasMenuOptions}}{{>menuTemplate}}{{/hasMenuOptions}}\n        </div>',this._menuTemplate='<div class="slds-button_last"></div>',this._buttonText=null,this._menuOptions=[],this._disabled=!1}},{key:"button",get:function(){return this._components["split-button-button"]}},{key:"menu",get:function(){return this._components["split-button-menu"]}},{key:"buttonText",get:function(){return this._buttonText},set:function(e){this._buttonText!==e&&(this._buttonText=e,this._refreshButtonText())}},{key:"menuOptions",set:function(e){n2.compare(this._menuOptions,e)||(this._menuOptions=e,this._refreshMenuOptions())}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled!==e&&((this._disabled=e)?this.button.disable():this.button.enable(),this.menu.disabled=this._disabled)}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(t.prototype),"_onDefined",this).call(this),this._insertButton(),this._hasMenuOptions()&&this._insertMenu()}},{key:"_afterRender",value:function(){_get4(_getPrototypeOf(t.prototype),"_afterRender",this).call(this),this._refreshMenuButton()}},{key:"_insertButton",value:function(){var i=this;return this.insert(new n2.ui.component.Button({id:"split-button-button",cls:"slds-button slds-button_brand",text:this._buttonText,disabled:this._disabled,renderTo:{position:"afterbegin"},listeners:{click:function(e,t){return i._onButtonClick(e,t)}}}))}},{key:"_onButtonClick",value:function(e,t){this.fire("click",{target:e,event:t})}},{key:"_insertMenu",value:function(){return this.insert(new n2.ui.component.Menu({id:"split-button-menu",cls:"n2_menu slds-button",icon:n2.ui.enum.Icon.DOWN,disabled:this._disabled,options:this._menuOptions,renderTo:this.SELECTORS.menuContainer,listeners:{select:this._onMenuSelect,change:this._onMenuChange,scope:this}}))}},{key:"_onMenuSelect",value:function(e,t){this.fire("select",{target:e,relatedTarget:t})}},{key:"_onMenuChange",value:function(e){e.data.changes.some(function(e){return"set"===e.type&&"options"===e.property})&&this._refreshMenuButton()}},{key:"_refreshButtonText",value:function(){this.button.text=this._buttonText}},{key:"_refreshMenuOptions",value:function(){this._rendered?this._refreshMenuOptionsAfterRender():this._refreshMenuOptionsBeforeRender(),this._refreshMenuButton()}},{key:"_refreshMenuOptionsBeforeRender",value:function(){var e=!n2.isUndefined(this.menu);!this._hasMenuOptions()||e?(this._hasMenuOptions()&&e&&(this.menu.options=this._menuOptions),!this._hasMenuOptions()&&e&&this.remove("split-button-menu")):this._insertMenu()}},{key:"_refreshMenuOptionsAfterRender",value:function(){n2.isNull(this.element("menuContainer"))?(this._insertMenuTemplate(),this._insertMenu()):this._hasMenuOptions()?this.menu.options=this._menuOptions:this.element("menuContainer").destroy()}},{key:"_refreshMenuButton",value:function(){!n2.isUndefined(this.menu)&&this.rendered&&(this._hasVisibleMenuOptions()?(this.menu.hidden=!1,this.button.dom.removeClass("n2_no-options")):(this.menu.hidden=!0,this.button.dom.addClass("n2_no-options")))}},{key:"_hasMenuOptions",value:function(){return!n2.isEmpty(this._menuOptions)}},{key:"_hasVisibleMenuOptions",value:function(){return this.menu.options.some(function(e){return!e.hidden})}},{key:"_insertMenuTemplate",value:function(){var e=n2.ui.Template.render(this._menuTemplate,{menu:this._menuOptions});this._dom.insert(e)}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplateData",this).call(this),{hasMenuOptions:this._hasMenuOptions()})}},{key:"_getTemplatePartials",value:function(){return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplatePartials",this).call(this),{menuTemplate:this._menuTemplate})}}]),t}(),n2.ui.component.Tabs=function(){_inherits(i,n2.ui.Component);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return _createClass(i,[{key:"_define",value:function(){_get4(_getPrototypeOf(i.prototype),"_define",this).call(this),this._EVENTS=n2.merge(this._EVENTS,[n2.event.EventType.CLICK,n2.event.EventType.CHANGE]),this.SELECTORS=n2.merge(this.SELECTORS,{tabs:".slds-tabs_default__nav"}),this._mixins=[n2.ui.mixin.Focus,n2.mixin.Observable],this._template='<div id="{{id}}" class="n2-component slds-tabs_default n2-tabs{{#hidden}} {{hideCls}}{{/hidden}} {{cls}}">\n            {{> tabsTemplate}}\n        </div>',this._tabsTemplate='<ul class="slds-tabs_default__nav" role="tablist"></ul>',this._tabs=[],this._selectedTabId=null,this._REFRESH=n2.merge(this._REFRESH,{tabs:["config"],selectedTabId:["tabs"]})}},{key:"tabs",set:function(e){this._setProperty("tabs",e)}},{key:"selectedTabId",get:function(){return this._selectedTabId},set:function(e){this._setProperty("selectedTabId",e,{silent:!1})}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(i.prototype),"_onDefined",this).call(this),this._createTabs()}},{key:"_createTabs",value:function(){var i=this;this._tabs.forEach(function(e,t){i._createTab({id:e.id,label:e.label,disabled:e.disabled})})}},{key:"_createTab",value:function(e){var t=this,i=e.id===this._selectedTabId;this.insert(new n2.ui.component.tabs.Tab(n2.merge(e,{selected:i,focusable:i?n2.ui.enum.Focusable.ACTIVE:n2.ui.enum.Focusable.INACTIVE,renderTo:this.SELECTORS.tabs,listeners:{click:function(e){return t._onClick(e)}}})))}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(i.prototype),"_getTemplateData",this).call(this),{id:this.domId,tabs:[]})}},{key:"_getTemplatePartials",value:function(){return n2.merge(_get4(_getPrototypeOf(i.prototype),"_getTemplatePartials",this).call(this),{tabsTemplate:this._tabsTemplate})}},{key:"_bindEvents",value:function(){var t=this;_get4(_getPrototypeOf(i.prototype),"_bindEvents",this).call(this),this.element("tabs").listen("keydown",function(e){return t._onTabsKeyDown(e)})}},{key:"_onTabsKeyDown",value:function(e){e=n2.ui.Key.get(e.key);e===n2.ui.enum.Key.ARROW_LEFT?this.focusPrevious({focusable:n2.ui.enum.Focusable.INACTIVE}):e===n2.ui.enum.Key.ARROW_RIGHT&&this.focusNext({focusable:n2.ui.enum.Focusable.INACTIVE})}},{key:"_onClick",value:function(e){var t=this;this._selectedTabId!==e.target.id&&this.fire(n2.event.EventType.CLICK,this._createEventObject({relatedTarget:e.target,event:e.event,defaultMethod:function(e){t.selectedTabId=e.relatedTarget.id}}))}},{key:"_deselectTabs",value:function(){this.forEach({type:n2.ui.component.tabs.Tab,includeDestroyed:!1,fcn:function(e){this._deselectTab(e)}})}},{key:"_deselectTab",value:function(e){n2.isUndefined(e)||(e.selected=!1)}},{key:"_selectTab",value:function(e){n2.isUndefined(e)||(e.selected=!0)}},{key:"_refreshTabs",value:function(){this._deselectTabs(),this._selectTab(this._components[this._selectedTabId])}},{key:"_refreshConfig",value:function(){this.destroyComponents(),this._createTabs()}}]),i}(),n2.ui.component.Toast=function(){_inherits(o,n2.ui.Component);var t=_createSuper(o);function o(e){return _classCallCheck(this,o),(e=t.call(this,e))._addCloseButton(),e}return _createClass(o,[{key:"_define",value:function(){_get4(_getPrototypeOf(o.prototype),"_define",this).call(this),this.id="toast",this._mixins=[n2.mixin.Singleton],this.SELECTORS=n2.merge(this.SELECTORS,{content:".n2__toast-content",closeButtonContainer:".slds-notify__close"}),this._template='<div class="slds-notify_container n2__toast{{#hidden}} n2__toast-hidden{{/hidden}}" id="{{id}}">{{> bodyTemplate }}</div>',this._bodyTemplate='<div class="slds-notify slds-notify_toast slds-theme_{{theme}}" role="status" id="{{id}}_toast"><span class="slds-assistive-text">{{theme}}</span><span class="slds-icon_container slds-icon-utility-{{theme}} slds-m-right_small slds-no-flex slds-align-center" id="{{id}}_icon"><svg class="slds-icon slds-icon_small" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{{themeIcon}}" /></svg></span><div class="slds-notify__content"><h2 class="slds-text-heading_small n2__toast-content" id="{{id}}_content">{{#allowHTML}}{{{message}}}{{/allowHTML}}{{^allowHTML}}{{message}}{{/allowHTML}}</h2></div><div class="slds-notify__close"></div></div>',this._hidden=!0,this._message=null,this._theme=n2.ui.enum.Theme.SUCCESS,this.allowHTML=null,this.delay=3e3,this._delayTask=null,this._lazyRender=!0}},{key:"message",set:function(e){this._message=e}},{key:"theme",set:function(e){this._theme=e}},{key:"_addCloseButton",value:function(){var e=this;this.insert(new n2.ui.component.Button({id:"close-button",icon:n2.ui.enum.Icon.CLOSE,renderTo:this.SELECTORS.closeButtonContainer,theme:n2.ui.component.button.Theme.INVERSE,iconCls:"slds-button__icon_large",title:"Close",listeners:{click:function(){e.hidden=!0}}}))}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(o.prototype),"_getTemplateData",this).call(this),{message:this._message,allowHTML:this.allowHTML,theme:this._theme,themeIcon:n2.ui.Icon.getLink({sprite:"utility",icon:this._theme})})}},{key:"_getTemplatePartials",value:function(){return n2.merge(_get4(_getPrototypeOf(o.prototype),"_getTemplatePartials",this).call(this),{bodyTemplate:this._bodyTemplate})}},{key:"show",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=t.message,i=void 0===i?null:i,n=t.theme,n=void 0===n?null:n,s=t.allowHTML,t=t.delay,t=void 0===t?3e3:t;this.allowHTML=void 0!==s&&s,this.message=i,this.theme=n||n2.ui.enum.Theme.SUCCESS,this.delay=t,n2.isNull(this._delayTask)||this._delayTask.stop(),n2.isEmpty(this.delay)?this._delayTask=null:this._delayTask=new n2.util.DelayedTask(function(){e.hidden=!0},this.delay),this._rendered&&(this._dom.clear(),this._components["close-button"].destroy(),this._dom.insert(n2.ui.Template.render(this._bodyTemplate,this._getTemplateData())),this._addCloseButton()),_get4(_getPrototypeOf(o.prototype),"show",this).apply(this,arguments),n2.isNull(this._delayTask)||this._delayTask.start()}},{key:"_showElement",value:function(){this._dom.removeClass("n2__toast-hidden")}},{key:"hide",value:function(){_get4(_getPrototypeOf(o.prototype),"hide",this).apply(this,arguments),n2.isNull(this._delayTask)||this._delayTask.stop()}},{key:"_hideElement",value:function(){this._dom.addClass("n2__toast-hidden")}}]),o}(),n2.ui.component.VerticalNavigation=function(){_inherits(t,n2.ui.Component);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this.EVENTS=n2.merge(this.EVENTS,{click:function(e){}}),this._mixins=[n2.mixin.Observable],this._template='<nav id="{{id}}" class="slds-nav-vertical n2-vertical-navigation{{#hidden}} {{hideCls}}{{/hidden}} {{cls}}"></nav>',this._sections=[],this._activeLink=null}},{key:"sections",set:function(e){n2.compare(this._sections,e)||(this._sections=e,this._destroyAllSections(),this._insertSections())}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(t.prototype),"_onDefined",this).call(this),this._insertSections()}},{key:"_insertSections",value:function(){var i=this;this._sections.forEach(function(e,t){t=i._insert(new n2.ui.component.verticalNavigation.Section(n2.merge({id:"section-".concat(t)},e))),e=e.links.find(function(e){return!0===e.active});e&&i._setActiveLink(t.components[e.id])})}},{key:"_insert",value:function(e){return e instanceof n2.ui.component.verticalNavigation.Section&&e.listen("click",this._onClick,this),_get4(_getPrototypeOf(t.prototype),"_insert",this).apply(this,arguments)}},{key:"_onClick",value:function(e){var t=this._activeLink;this._setActiveLink(e.target),e.relatedTarget=t,this.fire("click",e)}},{key:"_setActiveLink",value:function(e){this._activeLink=e}},{key:"_destroyAllSections",value:function(){this.forEach({type:n2.ui.component.verticalNavigation.Section,includeDestroyed:!1,fcn:function(e){e.destroy()}})}}]),t}(),n2.ui.dom.Scope=function(){_inherits(t,n2.Object);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).apply(this,arguments),this._mixins=[n2.mixin.Singleton],this._root=document.body}},{key:"root",get:function(){return this._root},set:function(e){this._root!==e&&(this._root=e)}}]),t}(),n2.ui.enum.AnimationType={FADE_IN:"slds-fade-in-open"},n2.ui.enum.Button={OK:0,YES_NO:1,OK_CANCEL:2,SAVE_CANCEL:3},n2.ui.enum.CSS={HIDDEN:"slds-hidden",HIDE:"slds-hide",ASSISTIVE_TEXT:"slds-assistive-text",SHOW:"slds-show",HAS_ERROR:"slds-has-error",RISE_FROM_GROUND:"slds-rise-from-ground",FALL_TO_GROUND:"slds-fall-into-ground",SELECTED:"slds-is-selected",OPEN:"slds-is-open",HAS_FOCUS:"slds-has-focus",ACTIVE:"slds-is-active",DROPDOWN_LEFT:"slds-dropdown_left",DROPDOWN_RIGHT:"slds-dropdown_right"},n2.ui.enum.Focusable={ACTIVE:"active",INACTIVE:"inactive",DEFAULT:"default"},n2.ui.enum.Icon={SEARCH:{sprite:"utility",icon:"search"},CLEAR:{sprite:"utility",icon:"clear"},CLOSE:{sprite:"utility",icon:"close"},INFO:{sprite:"utility",icon:"info"},DOWN:{sprite:"utility",icon:"down"},UP:{sprite:"utility",icon:"up"},CHECK:{sprite:"utility",icon:"check"},EDIT:{sprite:"utility",icon:"edit"},MAP:{sprite:"action",icon:"map"},ERROR:{sprite:"utility",icon:"error"},DRAG:{sprite:"utility",icon:"drag_and_drop"},ADD:{sprite:"utility",icon:"add"},THREE_DOTS:{sprite:"utility",icon:"threedots"},EVENT:{sprite:"utility",icon:"event"},CLOCK:{sprite:"utility",icon:"clock"},UPLOAD:{sprite:"utility",icon:"upload"}},n2.ui.enum.Position={ABOVE:"above",BELOW:"below",LEFT:"left",RIGHT:"right"},n2.ui.enum.Theme={SUCCESS:"success",INFO:"info",WARNING:"warning",ERROR:"error"},n2.ui.mixin.Draggable={_dragTask:null,_dragOffsetX:0,_dragOffsetY:0,_startDragHandler:null,_stopDragHandler:null,_dragHandler:null,_dropHandler:null,_dragging:!1,_documentDOM:null,_scrollableParent:null,_scrolling:!1,_scrollingDelayedTask:null,_makeDraggable:function(){var t=this;this._draggable?(this._startDragHandler=function(e){t.startDrag({clientX:e.clientX,clientY:e.clientY})},this._dom.listen("mousedown",this._startDragHandler)):this._dom.removeListeners("mousedown",this._startDragHandler)},startDrag:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=e.delay,i=void 0===i?100:i,n=e.clientX,s=void 0===n?0:n,n=e.clientY,o=void 0===n?0:n;return this._purgeDragEvents(),this._documentDOM=new n2.ui.DOM(document),this._dropHandler=this._documentDOM.listen("mouseup",function(e){t.drop()}),0<i?(this._dragTask=new n2.util.DelayedTask(function(){return t._startDrag({clientX:s,clientY:o})},i),this._dragTask.start()):this._startDrag({clientX:s,clientY:o})},_startDrag:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=e.clientX,i=void 0===i?0:i,e=e.clientY,e=void 0===e?0:e,n=(this._onBeforeDragStart(),this._dragging=!0,this._dom.rawDOM.getBoundingClientRect()),n=(this._dragOffsetX=i-n.left,this._dragOffsetY=e-n.top,this._applyDragStyles({clientX:i,clientY:e}),this._stopDragHandler=this._documentDOM.listen("keyup",function(e){n2.ui.Key.get(e.key)===n2.ui.enum.Key.ESCAPE&&t.stopDrag()}),this._scrollingDelayedTask=new n2.util.DelayedTask(function(){return t._scroll()},50),this._dragHandler=this._documentDOM.listen("mousemove",function(e){t._detectScroll(e),t._dom.style({top:"".concat(e.clientY-t._dragOffsetY,"px"),left:"".concat(e.clientX-t._dragOffsetX,"px")})}),this._onDragStart(),n2.isString(this._draggable)?this._draggable:null);n2.EventBus.getInstance().fire("dragStart",{targetComponent:this,data:{dragId:n}})},_detectScroll:function(e){var t=e.target,e=e.clientY,t=new n2.ui.DOM(t);t.isScrollable()||(t=t.getScrollableParent()),this._hasScrollableParentChanged(t)&&(this._stopScroll(),this._scrollableParent=t),n2.isNull(t)||(e>(t=t.rawDOM.getBoundingClientRect()).top&&e<t.top+40?this._startScroll("up"):e<t.bottom&&e>t.bottom-40?this._startScroll("down"):this._stopScroll())},_hasScrollableParentChanged:function(e){return e!==this._scrollableParent&&(n2.isNull(e)?!n2.isNull(this._scrollableParent):n2.isNull(this._scrollableParent)?!n2.isNull(e):this._scrollableParent.rawDOM!==e.rawDOM)},_startScroll:function(e){this._scrolling!==e&&(this._scrolling=e,this._scrollingDelayedTask.stop(),this._scrollingDelayedTask.start())},_scroll:function(){this._scrollableParent.scroll(this._scrolling)},_stopScroll:function(){n2.isNull(this._scrollableParent)||(this._scrolling=!1,this._scrollableParent.stopScroll(),this._scrollingDelayedTask.stop())},_applyDragStyles:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.clientX,t=void 0===t?0:t,e=e.clientY,e=void 0===e?0:e;document.body.style.setProperty("user-select","none"),document.body.style.setProperty("cursor","move"),this._dom.addClass("n2_dragging"),this._dom.style({position:"fixed",height:"".concat(this._dom.attribute("offsetHeight"),"px"),width:"".concat(this._dom.attribute("offsetWidth"),"px"),"z-index":9051,"pointer-events":"none",top:"".concat(e-this._dragOffsetY,"px"),left:"".concat(t-this._dragOffsetX,"px")})},_onBeforeDragStart:function(){},_onDragStart:function(){},drop:function(){var e;this.stopDrag(),this._dragging&&(e=n2.isString(this._draggable)?this._draggable:null,n2.EventBus.getInstance().fire("drop",{targetComponent:this,data:{dragId:e}}),this._dragging=!1)},stopDrag:function(){this._stopScroll(),this._scrollableParent=null,n2.isNull(this._dragTask)||(this._dragTask.stop(),this._dragTask=null),this._removeDragStyles(),this._purgeDragEvents();var e=n2.isString(this._draggable)?this._draggable:null;n2.EventBus.getInstance().fire("dragStop",{targetComponent:this,data:{dragId:e}})},_removeDragStyles:function(){document.body.style.removeProperty("user-select"),document.body.style.removeProperty("cursor"),this._dom.removeClass("n2_dragging"),this._dom.style({position:null,height:null,width:null,"z-index":null,top:null,left:null,"pointer-events":null})},_purgeDragEvents:function(){n2.isNull(this._documentDOM)||(this._documentDOM.removeListeners("mouseup",this._dropHandler),this._documentDOM.removeListeners("mousemove",this._dragHandler),this._documentDOM.removeListeners("keyup",this._stopDragHandler))}},n2.ui.mixin.Focus={focusFirst:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).focusable,e=void 0===e?null:e,t=null;return this._forEachFocusableComponent(function(e){return t=e,!1}),this.clearFocus({focusable:e}),n2.isNull(t)||this.applyFocus(t),t},focusLast:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).focusable,e=void 0===e?null:e,t=null;return this._forEachFocusableComponent(function(e){t=e}),this.clearFocus({focusable:e}),n2.isNull(t)||this.applyFocus(t),t},focusPrevious:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.cycle,i=void 0===t||t,t=e.focusable,e=void 0===t?null:t,t=this._getFocusedComponent();if(n2.isNull(t))return this.focusLast({focusable:e});for(var n=this.getPreviousComponent(t.id,{cycle:i});!n2.isNull(n)&&!n.isFocusable();)n=this.getPreviousComponent(n.id,{cycle:i});return n2.isNull(n)?t:(this._clearFocus(t,{focusable:e}),this.applyFocus(n))},focusNext:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.cycle,i=void 0===t||t,t=e.focusable,e=void 0===t?null:t,t=this._getFocusedComponent();if(n2.isNull(t))return this.focusFirst({focusable:e});for(var n=this.getNextComponent(t.id,{cycle:i});!n2.isNull(n)&&!n.isFocusable();)n=this.getNextComponent(n.id,{cycle:i});return n2.isNull(n)?t:(this._clearFocus(t,{focusable:e}),this.applyFocus(n))},applyFocus:function(e){return e.focusable=n2.ui.enum.Focusable.ACTIVE,e.focused=!0,e},clearFocus:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).focusable,e=void 0===e?null:e,t=this._getFocusedComponent();return n2.isNull(t)||this._clearFocus(t,{focusable:e}),t},_clearFocus:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).focusable,t=void 0===t?null:t;n2.isNull(t)||(e.focusable=t),e.focused=!1},_getFocusedComponent:function(){var t=null;return this._forEachFocusableComponent(function(e){if(e.focused)return t=e,!1}),t},_forEachFocusableComponent:function(t){var i=this;this.forEach({includeDestroyed:!1,fcn:function(e){if(e.isFocusable())return t.call(i,e)}})}},n2.ui.mixin.Reorderable={_detectDropZone:!0,_reorderIndex:null,_mouseEnterHandlers:null,_dropZone:null,_reorderableComponents:null,_makeReorderable:function(){var t=this;this._reorderable?(this._reorderableComponents=[],n2.EventBus.getInstance().listen("dragStart",this.startReorder,this),n2.EventBus.getInstance().listen("dragStop",this.stopReorder,this),n2.EventBus.getInstance().listen("drop",this.reorder,this),this._forEachReorderableChild(function(e){return t._makeComponentReorderable(e)})):(n2.EventBus.getInstance().removeListeners("dragStart",{handler:this.startReorder,caller:this}),n2.EventBus.getInstance().removeListeners("drop",{handler:this.reorder,caller:this}),this._reorderableComponents.forEach(function(e){e.destroyed||(e.draggable=!1)}),this._reorderableComponents=[])},_makeComponentReorderable:function(e){this._canReorder(e)&&!e.draggable&&(e.draggable=!0,this._reorderableComponents.push(e))},startReorder:function(e){var t=this,e=e.targetComponent;this._components[e.id]===e&&(this._mouseEnterHandlers={},this._activateReorderTargets(e),this._dom.addClass("n2_reordering"),this._mouseLeaveHandler=this._dom.listen("mouseleave",function(){t._reorderIndex=null,t._hideDropZone()}),this._mouseEnterHandler=this._dom.listen("mouseenter",function(e){t._enteredReorderableComponent=!0}))},_calculateEntryPosition:function(e){e.clientX;var e=e.clientY,t=this._dom.rawDOM.getBoundingClientRect(),i=t.height-e;return e-t.top<20?"top":i<20?"bottom":null},_revealFirstDropZone:function(i){var n=this;this._forEachReorderableChild(function(e,t){if(e!==i)return n._revealDropZone(e,i,"before"),!1},i)},_revealLastDropZone:function(i){var n=null;this._forEachReorderableChild(function(e,t){e!==i&&(n=e)},i),this._revealDropZone(n,i,"after")},_activateReorderTargets:function(n){var s=this,o=null,l=!1;this._forEachReorderableChild(function(t,e){var i=t.dom.listen("mouseenter",function(e){return s._onReorderTargetEnter(t,n,s.getComponentIndex(t.id),e)}),i=(s._mouseEnterHandlers[t.id]=i,t===n);i||(o=t),l&&s._revealDropZone(o,n,"before"),l=i},n),l&&this._revealDropZone(o,n,"after")},_onReorderTargetEnter:function(e,t,i,n){var s,o=this._detectVerticalPosition(e,t,n),l=i;n2.isNull(o)||(o="top"===o?"after":"before",this._enteredReorderableComponent&&(o="after"===o?"before":"after",this._enteredReorderableComponent=!1),s=this.getComponentIndex(t.id),l=this._calculateDropIndex(i,s,o),this._hideDropZone(e,t,{dropPosition:o}),this._revealDropZone(e,t,o)),this._reorderIndex=l,n.stopPropagation()},_detectVerticalPosition:function(e,t,i){var n=e.dom.attribute("clientHeight")/2,e=e.dom.rawDOM.getBoundingClientRect(),i=i.clientY-e.top;return i<n?"top":n<i?"bottom":null},_calculateDropIndex:function(e,t,i){return"before"===i&&t<e?e-1:"after"===i&&e<t?e+1:e},_revealDropZone:function(e,t,i){this._dropZone=e,"before"!==i?"after"===i&&e.dom.style({"margin-bottom":t.dom.style("height")}):e.dom.style({"margin-top":t.dom.style("height")})},_hideDropZone:function(e,t){(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).dropPosition;this._dropZone.dom.style({"margin-top":null,"margin-bottom":null})},reorder:function(e){e=e.targetComponent;this._components[e.id]===e&&(this.stopReorder({targetComponent:e}),n2.isNull(this._reorderIndex)||(this._reorder({targetComponent:e,reorderIndex:this._reorderIndex}),this._onReorder({targetComponent:e,reorderIndex:this._reorderIndex}),this._reorderIndex=null))},_reorder:function(e){var t=e.targetComponent,e=e.reorderIndex;this.remove(t),this.insert(t,e)},_onReorder:function(e){e.targetComponent,e.reorderIndex},stopReorder:function(e){e=e.targetComponent;this._components[e.id]===e&&(this._hideDropZone(),this._deactivateReorderTargets(),this._dom.removeClass("n2_reordering"),this._dom.removeListeners("mouseleave",this._mouseLeaveHandler),this._dom.removeListeners("mouseenter",this._mouseEnterHandler))},_deactivateReorderTargets:function(){var i=this;n2.forEach(this._mouseEnterHandlers,function(e,t){i._components[t].dom.removeListeners("mouseenter",e)}),this._mouseEnterHandlers={}},_canReorder:function(e){return!0},_forEachReorderableChild:function(i){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,s=0;this.forEach({fcn:function(e,t){if(this._canReorder(e,n))return e=i.call(this,e,s),s+=1,e},includeDestroyed:!1})}},n2.ui.salesforcePage.Navigation={open:function(e,t){e="/apex/"+e;t&&(e+="?"+t),n2.ui.SalesforcePage.isClassic()?this.setLocation(e):sforce.one.navigateToURL(e)},openObject:function(e){n2.ui.SalesforcePage.isClassic()?this.setLocation("/"+e):sforce.one.navigateToSObject(e)},setLocation:function(e){(window.parent||window).location.assign(e)}},n2.dataProvider.model.enum.Change={INSERT:0,REMOVE:1,SET:2},n2.ui.component.button.Theme={NEUTRAL:"neutral",BRAND:"brand",OUTLINE_BRAND:"outline-brand",INVERSE:"inverse",DESTRUCTIVE:"destructive",TEXT_DESTRUCTIVE:"text-destructive",SUCCESS:"success",LINK:""},n2.ui.component.dataTable.Cell=function(){_inherits(i,n2.ui.Component);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return _createClass(i,[{key:"_define",value:function(){_get4(_getPrototypeOf(i.prototype),"_define",this).call(this),this.EVENTS=n2.merge(this.EVENTS||{},{keydown:function(e,t){},focusin:function(e,t){},change:function(e){},click:function(e,t){}}),this.REQUIRED_MEMBERS=n2.merge(this.REQUIRED_MEMBERS,["column"]),this._mixins=[n2.mixin.Observable],this._template='<td id="{{id}}"{{#colspan}} colspan="{{colspan}}"{{/colspan}} class="{{#hidden}} {{hiddenCls}}{{/hidden}} {{cls}}"{{#title}} title="{{title}}"{{/title}}>{{^editable}}{{> cellTemplate}}{{/editable}}</td>',this._cellTemplate='{{#content}}<div class="slds-truncate">{{#content.html}}{{& content.html}}{{/content.html}}{{^content.html}}{{content}}{{/content.html}}</div>{{/content}}',this.column=null,this._data=null,this._editable=!1,this._disabled=!1,this._editField=null,this._focusable=n2.ui.enum.Focusable.INACTIVE,this._removedStaticViewComponents=null,this._dataAdapter=null,this._colspan=null}},{key:"data",get:function(){return!this._editable||n2.isObject(this._data)||n2.isArray(this._data)?n2.isNull(this._data)?null:n2.isUndefined(this._data.json)?this._data:this._data.json:this._editField.value},set:function(e){this._data=e,this._refreshData()}},{key:"editable",set:function(e){this._editable!==e&&(this._editable=e,this._editable?this._createEditView():this._createStaticView(),this.rendered)&&this._makeFocusable(this.isFocusable()?this._focusable:n2.ui.enum.Focusable.INACTIVE)}},{key:"disabled",set:function(e){this._disabled=e,this._editable&&(this._editField.disabled=e)}},{key:"cellTemplate",set:function(e){this._cellTemplate!==e&&(this._cellTemplate=e,this.rendered)&&!this._editable&&(this._dom.clear(),this._createStaticView())}},{key:"dataAdapter",set:function(e){this._dataAdapter!==e&&(this._dataAdapter=e)}},{key:"editField",get:function(){return this._editField}},{key:"colspan",set:function(e){this._colspan!==e&&(this._colspan=e,this._refreshColspan())}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(i.prototype),"_onDefined",this).call(this),this._editable&&this._createEditView()}},{key:"_insert",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return e.hasMixin(n2.mixin.DataDriven)&&(e.model=this._data),_get4(_getPrototypeOf(i.prototype),"_insert",this).call(this,e,t)}},{key:"_createStaticView",value:function(){var t=this;n2.isNull(this._editField)||(this.remove(this._editField.id),this._editField.destroy(),this._editField=null),this._rendered&&this._dom.insert(n2.ui.Template.render(this._cellTemplate,this._getTemplateData())),n2.isNull(this._removedStaticViewComponents)||this._removedStaticViewComponents.forEach(function(e){t.insert(e),e.model=t._data})}},{key:"_createEditView",value:function(){this._removedStaticViewComponents=[],this.forEach({fcn:function(e){this.remove(e),this._removedStaticViewComponents.push(e)},includeDestroyed:!1}),this._rendered&&this._dom.clear(),this._editField=this._insertEditField()}},{key:"_insertEditField",value:function(){var i=this,e={id:"edit-field",label:{text:"Edit Field",hidden:!0},value:this._getDataValue(),disabled:this._disabled,focusable:n2.ui.enum.Focusable.INACTIVE},e=this._insert(this._createEditField(e));return e.listen("change",function(e){i._onEditFieldChange(e),i.fire("change",i)},this),e.listen("keydown",function(e,t){return i._onEditFieldKeyDown(t)},this),e}},{key:"_createEditField",value:function(e){var t=n2.ui.component.field.TextBox;return this.column.editField&&(t=this.column.editField,this.column.editField.type)&&(t=this.column.editField.type,delete(e=n2.merge(e,this.column.editField)).type),new t(e)}},{key:"_onEditFieldChange",value:function(e){n2.dataProvider.Model.isModeled(this._data)?this._data.value=e.value:this._data=e.value}},{key:"_onEditFieldKeyDown",value:function(e){n2.ui.Key.get(e.key)===n2.ui.enum.Key.ESCAPE&&this._dom.focus(),e.stopPropagation()}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(i.prototype),"_getTemplateData",this).call(this),{content:n2.isFunction(this._dataAdapter)?this._dataAdapter(this._getDataValue()):this._getDataValueAsString(),editable:this._editable,colspan:this._colspan})}},{key:"_getTemplatePartials",value:function(){return n2.merge(_get4(_getPrototypeOf(i.prototype),"_getTemplatePartials",this).call(this),{cellTemplate:this._cellTemplate})}},{key:"_bindEvents",value:function(){var t=this;_get4(_getPrototypeOf(i.prototype),"_bindEvents",this).call(this),this._dom.listen("keydown",function(e){t._onKeyDown(e),t.fire("keydown",t,e)}),this._dom.listen("focusin",function(e){t.fire("focusin",t,e),t._onFocusIn(e)}),this._dom.listen("click",function(e){t.fire("click",t,e),t._onClick(e)})}},{key:"_onKeyDown",value:function(e){n2.ui.Key.get(e.key)===n2.ui.enum.Key.ENTER&&this._editable&&this._editField.focus()}},{key:"_onFocusIn",value:function(){this._editable&&(this.focusable=n2.ui.enum.Focusable.ACTIVE)}},{key:"_onClick",value:function(e){}},{key:"isFocusable",value:function(){return!!this._editable&&_get4(_getPrototypeOf(i.prototype),"isFocusable",this).call(this)}},{key:"_getDataValueAsString",value:function(){var e,t=this._getDataValue();return n2.isArray(t)||n2.isObject(t)?t:this.column.editField&&this.column.editField.options?(e=this.column.editField.options.find(function(e){return e===t||e.value===t}),n2.isObject(e)?e.label:e):n2.isNull(t)?"":t.toString()}},{key:"_getDataValue",value:function(){return n2.isNull(this._data)||n2.isUndefined(this._data.json)?this._data:this._data.json}},{key:"_refreshData",value:function(){this.forEach({fcn:function(e){e.hasMixin(n2.mixin.DataDriven)&&(e.model=this._data)},includeDestroyed:!1}),this._editable?this._editField.value=this._getDataValue():this.rendered&&(this._dom.clear(),this._createStaticView())}},{key:"_refreshColspan",value:function(){this._rendered&&(n2.isNull(this._colspan)?this.dom.removeAttribute("colspan"):this.dom.attribute("colspan",this._colspan))}},{key:"reset",value:function(){this._editable&&this._editField.reset()}},{key:"validate",value:function(){return!this._editable||this._editField.validate()}}]),i}(),n2.ui.component.dataTable.EmptyState=function(){_inherits(t,n2.ui.component.Illustration);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this.SELECTORS=n2.merge(this.SELECTORS,{cell:"td"}),this._template='<tr id="{{id}}" class="n2-data-table-empty-state{{#hidden}} {{hideCls}}{{/hidden}} {{cls}}"><td id="n2_empty-state-container" colspan="{{colspan}}"><div class="n2-illustration slds-illustration{{#sizeCls}} {{sizeCls}}{{/sizeCls}}">{{>illustration}}<div class="slds-text-longform">{{#heading}}{{>headingTemplate}}{{/heading}}{{#content}}{{>contentTemplate}}{{/content}}</div></div></td></tr>',this._heading="No results",this._content="No results were returned to be displayed.",this._colspan=0}},{key:"colspan",set:function(e){this._colspan!==e&&(this._colspan=e,this._refreshColumnCount())}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplateData",this).call(this),{colspan:this._colspan})}},{key:"_refreshColumnCount",value:function(){this._rendered&&this.element("cell").attribute("colspan",this._colspan)}}]),t}(),n2.ui.component.dataTable.HeaderCell=function(){_inherits(t,n2.ui.component.dataTable.Cell);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this.EVENTS=n2.merge(this.EVENTS,{sort:function(e){e.target,e.event,e.data}}),this.SELECTORS=n2.merge(this.SELECTORS,{sortedOutput:".n2_sorted-output"}),this._template='<th scope="col" id="{{id}}"{{#colspan}} colspan="{{colspan}}"{{/colspan}} class="n2-header-cell{{#hidden}} {{hiddenCls}}{{/hidden}}{{sortableCls}}{{sortedCls}}{{sortCls}} {{cls}}"{{#title}} title="{{title}}"{{/title}}{{#sortable}} aria-label="{{content}}"{{/sortable}}{{#sortValue}} aria-sort="{{sortValue}}"{{/sortValue}}>\n            {{> cellTemplate}}\n            {{> sortedOutputTemplate}}\n        </th>',this._cellTemplate='<div class="slds-th__action">\n            <div class="slds-truncate">{{content}}</div>\n        </div>',this._sortableCellTemplate='<a class="slds-th__action slds-text-link_reset" href="javascript:void(0);" role="button" tabindex="0">\n            <span class="slds-assistive-text">Sort by: </span>\n            <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">\n                <span class="slds-truncate" title="{{content}}">{{content}}</span>\n                <span class="slds-icon_container">\n                    {{> sortIconTemplate}}\n                </span>\n            </div>\n        </a>',this._sortedOutputTemplate='{{#sorted}} <span class="n2_sorted-output slds-assistive-text" aria-live="polite" aria-atomic="true">Sorted {{sortValue}}</span>{{/sorted}}',this._sortDirection=null,this._sortable=!1}},{key:"sortDirection",set:function(e){this._setSortDirection(e,{silent:n2.isNull(e)})}},{key:"_applyConfig",value:function(e){this._sortable=e.column.sortable||null,_get4(_getPrototypeOf(t.prototype),"_applyConfig",this).call(this,e)}},{key:"_getTemplateData",value:function(){return this._sortable?n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplateData",this).call(this),{sortableCls:" slds-is-sortable",sortedCls:n2.isNull(this._sortDirection)?"":" slds-is-sorted",sortCls:"dsc"===this._sortDirection?"":" slds-is-sorted_asc",sortValue:this._getSortValue(),sortable:!0,sorted:!n2.isNull(this._sortDirection)}):_get4(_getPrototypeOf(t.prototype),"_getTemplateData",this).call(this)}},{key:"_getSortValue",value:function(){return n2.isNull(this._sortDirection)?"none":"asc"===this._sortDirection?"ascending":"descending"}},{key:"_getTemplatePartials",value:function(){return this._sortable?n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplatePartials",this).call(this),{cellTemplate:this._sortableCellTemplate,sortIconTemplate:n2.ui.Icon.getSVG(n2.ui.enum.Icon.DOWN,{cls:"slds-icon-text-default slds-is-sortable__icon"}),sortedOutputTemplate:this._sortedOutputTemplate}):_get4(_getPrototypeOf(t.prototype),"_getTemplatePartials",this).call(this)}},{key:"_onClick",value:function(e){var t;this._sortable&&(t="asc"===this._sortDirection?"dsc":"asc",this._setSortDirection(t,{event:e}))}},{key:"_setSortDirection",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.silent,i=void 0!==i&&i,t=t.event,t=void 0===t?null:t;this._sortDirection!==e&&(this._sortDirection=e,this._refreshSortDirection(),i||this.fire("sort",{target:this,event:t,data:{sortDirection:this._sortDirection}}))}},{key:"_refreshSortDirection",value:function(){if(this._rendered){switch(this._sortDirection){case"dsc":this._refreshSortDirectionDsc();break;case"asc":this._refreshSortDirectionAsc();break;default:this._refreshSortDirectionDefault()}this.dom.attribute("aria-sort",this._getSortValue())}}},{key:"_refreshSortDirectionDsc",value:function(){this.dom.removeClass("slds-is-sorted_asc"),this.dom.addClass("slds-is-sorted"),this._refreshSortedOutput()}},{key:"_refreshSortDirectionAsc",value:function(){this.dom.addClass("slds-is-sorted_asc"),this.dom.addClass("slds-is-sorted"),this._refreshSortedOutput()}},{key:"_refreshSortedOutput",value:function(){if(n2.isNull(this.element("sortedOutput")))return this.dom.insert(n2.ui.Template.render(this._sortedOutputTemplate,this._getTemplateData(),this._getTemplatePartials()));this.element("sortedOutput").text("Sorted ".concat(this._getSortValue()))}},{key:"_refreshSortDirectionDefault",value:function(){this.dom.addClass("slds-is-sorted_asc"),this.dom.removeClass("slds-is-sorted"),n2.isNull(this.element("sortedOutput"))||(this.element("sortedOutput").destroy(),this.element("sortedOutput",!0))}},{key:"_getDataValueAsString",value:function(){var e=this._getDataValue();return n2.isNull(e)?this.column.header:e}}]),t}(),n2.ui.component.dataTable.Row=function(){_inherits(i,n2.ui.Component);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return _createClass(i,[{key:"_define",value:function(){_get4(_getPrototypeOf(i.prototype),"_define",this).call(this),this.EVENTS=n2.merge(this.EVENTS||{},{keydown:function(e,t,i){},focusin:function(e,t,i){},click:function(e,t,i){},selectionChange:function(e){},sort:function(e){e.target,e.event,e.data},mouseleave:function(e){e.target,e.event,e.data},mouseenter:function(e){e.target,e.event,e.data},change:function(e){}}),this.REQUIRED_MEMBERS=n2.merge(this.REQUIRED_MEMBERS,["columns"]),this._mixins=[n2.mixin.Observable,n2.ui.mixin.Focus],this._template='<tr id="{{id}}" class="n2-data-table-row{{#hidden}} {{hideCls}}{{/hidden}} {{cls}}"{{#title}} title="{{title}}"{{/title}}></tr>',this.headerRow=!1,this.columns=[],this._data=null,this._editable=!1,this._disabled=!1,this.mergeCells=!1,this._selectable=!1,this._selected=!1,this.isFiltered=!1}},{key:"editable",set:function(t){this._editable=t,this.forEachCell(function(e){e.editable=t})}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=e,this._refreshDisabled()}},{key:"data",get:function(){var s=this,o=this._data;return n2.isNull(o)||(o=n2.isUndefined(this._data.json)?this._data:this._data.json,o=n2.merge(n2.isArray(o)?[]:{},o),this.forEachCell(function(e){if(e.column.bindPath){for(var t=s._splitBindPath(e.column.bindPath),i=0,n=o;i<t.length-1;)n=n[t[i]],i+=1;n[t[i]]=e.data}})),o},set:function(e){this._data=e,this._refreshData()}},{key:"selectable",get:function(){return this._selectable},set:function(e){this._selectable!==e&&(this._selectable=e,this._rendered)&&this._makeSelectable(e)}},{key:"selected",get:function(){return this._selected},set:function(e){this.select(e)}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(i.prototype),"_onDefined",this).call(this),this._selectable&&this._insertSelectableCell(),this._selected&&this._makeSelected(!0,{silent:!0}),this.headerRow?this._addHeaderCells():n2.isNull(this.data)||this._refreshData()}},{key:"_addHeaderCells",value:function(){var i=this,e=this.columns.filter(function(e){return!n2.isUndefined(e.header)}).map(function(e,t){t={id:"th-"+t,column:e,data:e.header,listeners:{sort:function(e){i.fire("sort",e)}}};return n2.isObject(e.header)&&(t=n2.merge(t,e.header)),new n2.ui.component.dataTable.HeaderCell(t)});this.insert(e)}},{key:"_addCells",value:function(){var n=this;this.columns.forEach(function(e,t){var i=n2.isEmpty(e.bindPath)?n._data:n._processBindPath(e.bindPath,{defaultValue:e.defaultValue}),t=n._addCell({id:"td-"+t,column:e,editable:n._editable,disabled:n._disabled,data:i,focusable:"tr-0"===n.id&&e.focusable===n2.ui.enum.Focusable.ACTIVE?n2.ui.enum.Focusable.ACTIVE:n2.ui.enum.Focusable.INACTIVE});t.listen("keydown",function(e,t){n._onCellKeyDown(e,t),n.fire("keydown",n,e,t)},n),t.listen("focusin",function(e,t){n.fire("focusin",n,e,t)},n),t.listen("click",function(e,t){n.fire("click",n,e,t),n._onCellClick(e)},n),t.listen("change",function(e){return n._onCellChange(e)},n)})}},{key:"_makeSelectable",value:function(e){e?this._insertSelectableCell():this._removeSelectableCell()}},{key:"_insertSelectableCell",value:function(){var t=this,e=this.headerRow?n2.ui.component.dataTable.HeaderCell:n2.ui.component.dataTable.Cell;this.insert(new e({id:"td-selectable",cls:"n2_selectable-column",components:[{id:"selectable-checkbox",type:n2.ui.component.field.Checkbox,label:{text:"Select",hidden:!0},renderTo:this.headerRow?".slds-th__action":null,disabled:this._disabled,listeners:{change:function(e){return t._onSelectableCheckboxChange(e)}}}],column:{}}),0)}},{key:"_onSelectableCheckboxChange",value:function(e){this._selected=e.isChecked(),this.fire("selectionChange",{target:this,event:null})}},{key:"_removeSelectableCell",value:function(){this.remove("td-selectable")}},{key:"select",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).silent,t=void 0!==t&&t;this._selected!==e&&(this._selected=e,this._makeSelected(this._selected,{silent:t}))}},{key:"_makeSelected",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).silent;this._selectable&&(this.components["td-selectable"].components["selectable-checkbox"].value={value:e,silent:void 0!==t&&t})}},{key:"_makeDraggable",value:function(){var e,t=this;this._draggable?(n2.isNull(this.parent)||this._addDraggableHeaderCell(),this._addDraggableCell().dom.listen("mousedown",function(e){t._disabled||t.startDrag({delay:0,clientX:e.clientX,clientY:e.clientY})})):(n2.isNull(this.parent)||(e=this.parent.headerRow.components["th-draggable"],n2.isUndefined(e))||this.parent.headerRow.remove(e),this.remove(this._components["td-draggable"]))}},{key:"_addDraggableHeaderCell",value:function(){this.parent.components["th-row"].components["th-draggable"]||this.parent.components["th-row"].insert(new n2.ui.component.dataTable.HeaderCell({id:"th-draggable",cls:"n2_draggable-heading",data:"",column:{}}),0)}},{key:"_addDraggableCell",value:function(){var e=this._createCell({id:"td-draggable",cls:this._disabled?"n2_draggable-target n2_disabled":"n2_draggable-target",cellTemplate:'<svg aria-hidden="true" focusable="false" class="slds-icon slds-icon_small slds-icon-text-default">\n                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="'.concat(n2.ui.Icon.getLink(n2.ui.enum.Icon.DRAG),'" />\n            </svg>'),column:{}});return this.insert(e,0)}},{key:"_addCell",value:function(e){e=this.insert(this._createCell(e));return this.mergeCells&&this._updateSiblingCells(e),e}},{key:"_createCell",value:function(e){var t=n2.ui.component.dataTable.Cell;if(!n2.isUndefined(e.column.cell)){var i=n2.clone(e.column.cell);if(i instanceof n2.ui.component.dataTable.Cell)return new(t=i)(e);n2.isUndefined(i.type)||(t=i.type,delete i.type),e=n2.merge(e,i)}return new t(e)}},{key:"_onCellChange",value:function(e){this.mergeCells&&this._updateSiblingCells(e),this._callCellChangeEventHandlers({target:e})}},{key:"_callCellChangeEventHandlers",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.target,e=e.silent,e=void 0!==e&&e,t=this._createChangeEvent(void 0===t?null:t,[{property:"data",type:"set"}]);e||this.fire("change",t)}},{key:"_updateSiblingCells",value:function(e){var t=this.getPreviousComponent(e.id,{cycle:!1}),i=this.getNextComponent(e.id,{cycle:!1});this._updatePreviousCell(e,t),this._updateNextCell(e,i)}},{key:"_updatePreviousCell",value:function(e,t){n2.isNull(t)||(t.removeCls("n2_merge-right"),e.removeCls("n2_merge-left"),e.data===t.data&&(t.addCls("n2_merge-right"),e.addCls("n2_merge-left")))}},{key:"_updateNextCell",value:function(e,t){n2.isNull(t)||(t.removeCls("n2_merge-left"),e.removeCls("n2_merge-right"),e.data===t.data&&(t.addCls("n2_merge-left"),e.addCls("n2_merge-right")),e.components["edit-field"].lastValue===t.data&&(t.data=e.data))}},{key:"_onCellKeyDown",value:function(e,t){switch(n2.ui.Key.get(t.key)){case n2.ui.enum.Key.ARROW_LEFT:this.focusPrevious({focusable:n2.ui.enum.Focusable.INACTIVE});break;case n2.ui.enum.Key.ARROW_RIGHT:this.focusNext({focusable:n2.ui.enum.Focusable.INACTIVE})}t.stopPropagation()}},{key:"_onCellClick",value:function(e,t){}},{key:"_processBindPath",value:function(e){for(var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).defaultValue,i=void 0===t?null:t,n=(e=this._splitBindPath(e),0),s=this._data;!n2.isUndefined(e[n]);)s=s instanceof n2.dataProvider.Model||s instanceof n2.dataProvider.model.Collection?s.getProperty(e[n],{defaultValue:i}):(s=s[e[n]],n2.isUndefined(s)?i:s),n+=1;return s}},{key:"_bindEvents",value:function(){var t=this;_get4(_getPrototypeOf(i.prototype),"_bindEvents",this).call(this),this.dom.listen("keydown",function(e){t.fire("keydown",t,null,e),t._onKeyDown(e)}),this.dom.listen("mouseenter",function(e){t.fire("mouseenter",{target:t,event:e,data:null}),t._onMouseEnter(e)}),this.dom.listen("mouseleave",function(e){t.fire("mouseleave",{target:t,event:e,data:null}),t._onMouseLeave(e)})}},{key:"_onKeyDown",value:function(e){}},{key:"_onMouseEnter",value:function(e){}},{key:"_onMouseLeave",value:function(e){}},{key:"_onBeforeDragStart",value:function(){this.forEachCell(function(e){e.dom.style({width:"".concat(e.dom.attribute("offsetWidth"),"px")})},{includeDraggable:!0})}},{key:"_splitBindPath",value:function(e){return e.split(/\.|\[|\]/g).filter(function(e){return 0<e.length})}},{key:"_refreshData",value:function(){this.forEachCell(function(e){"td-selectable"!==e.id&&"td-draggable"!==e.id&&e.destroy()}),this._addCells()}},{key:"isMatch",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=n2.isUndefined(this._data.json)?this._data:this._data.json,n=!1;return(e=e||Object.keys(i)).some(function(e){e=n2.resolvePath(i,e.toString());return n=n2.isString(e)&&n2.isString(t)?e.toLowerCase().includes(t.toLowerCase()):n2.compare(e,t)}),n}},{key:"reset",value:function(){this.forEachCell(function(e){e.reset()})}},{key:"validate",value:function(){var t=!0;return this.forEachCell(function(e){e=e.validate();e||(t=e)}),t}},{key:"forEachCell",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=e.includeDestroyed,n=e.includeDraggable,s=void 0!==n&&n,n=e.includeSelectable,o=void 0!==n&&n;return this.forEach({fcn:function(e){if(e instanceof n2.ui.component.dataTable.Cell&&(s||"td-draggable"!==e.id)&&(o||"td-selectable"!==e.id))return t.call(this,e)},includeDestroyed:void 0!==i&&i})}},{key:"_refreshDisabled",value:function(){var e,t=this;this.forEachCell(function(e){e.disabled=t._disabled}),this._selectable&&(this.components["td-selectable"].components["selectable-checkbox"].disabled=this._disabled),this._draggable&&(e=this._components["td-draggable"].dom,this._disabled?e.addClass("n2_disabled"):e.removeClass("n2_disabled"))}}]),i}(),n2.ui.component.field.Checkbox=function(){_inherits(n,n2.ui.component.Field);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"_define",value:function(){_get4(_getPrototypeOf(n.prototype),"_define",this).call(this),this.SELECTORS=n2.merge(this.SELECTORS,{field:"input",focusTarget:"input"}),this._defaultValue=!1,this._template='<div class="slds-form-element n2-component{{#hidden}} {{hideCls}}{{/hidden}} {{cls}}" id="{{id}}"{{#title}} title="{{title}}"{{/title}}><div class="slds-form-element__control {{iconContainerCls}}">{{#fieldLabel}}<span class="slds-form-element__label">{{fieldLabel}}</span>{{/fieldLabel}}<span class="slds-checkbox">{{> fieldTemplate}}{{> labelTemplate}}{{> helpIconTemplate}}</span>{{> errorTemplate}}</div></div>',this._labelTemplate='<label class="slds-checkbox__label {{label.cls}}" for="{{id}}_checkbox" title="{{label.text}}"><span class="slds-checkbox_faux"></span><span class="slds-form-element__label{{#label.hidden}} {{assistiveTextCls}}{{/label.hidden}}">{{label.text}}</span></label>',this._fieldTemplate='{{#required}}<abbr title="Required" class="slds-required">*</abbr>{{/required}}<input class="n2__checkbox" id="{{id}}_checkbox" type="checkbox"{{#fieldValue}} value="{{fieldValue}}"{{/fieldValue}}{{#value}} checked="checked"{{/value}}{{#fieldDescribedBy}} aria-describedby="{{fieldDescribedBy}}"{{/fieldDescribedBy}}{{#required}} required="required"{{/required}}{{#disabled}} disabled="disabled"{{/disabled}}/>',this.fieldValue=null,this.fieldDescribedBy=null,this._isSelecting=!1,this._isIndeterminateValue=!1}},{key:"indeterminate",get:function(){return this.rendered?this.element("field").attribute("indeterminate"):n2.isNull(this.value)}},{key:"_applyConfig",value:function(e){n2.isNull(e.value)&&(this._isIndeterminateValue=!0),_get4(_getPrototypeOf(n.prototype),"_applyConfig",this).call(this,e)}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(n.prototype),"_onDefined",this).call(this),this._isIndeterminateValue&&(this._value=null)}},{key:"_afterRender",value:function(){_get4(_getPrototypeOf(n.prototype),"_afterRender",this).call(this),this._makeIndeterminate(this.required||n2.isNull(this._value))}},{key:"_bindEvents",value:function(){var e=this;_get4(_getPrototypeOf(n.prototype),"_bindEvents",this).call(this),this._dom.listen("change",function(){return e._onChange()}),this._dom.listen("mousedown",function(){e._isSelecting=!0}),this._dom.listen("mouseup",function(){e._isSelecting=!1})}},{key:"_onBlur",value:function(e){this._isSelecting?this.element("field").focus():_get4(_getPrototypeOf(n.prototype),"_onBlur",this).call(this,e),this._isSelecting=!1}},{key:"_onChange",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.silent,t=void 0!==t&&t,i=e.sync,i=void 0===i||i,e=e.validate,e=void 0===e||e;e&&this.validate(),_get4(_getPrototypeOf(n.prototype),"_onChange",this).call(this,{silent:t,sync:i,validate:e})}},{key:"_showSavingSpinner",value:function(){n2.isObject(this.saveMessages)?this.spinner(this.value?this.saveMessages.on:this.saveMessages.off):_get4(_getPrototypeOf(n.prototype),"_showSavingSpinner",this).call(this)}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(n.prototype),"_getTemplateData",this).call(this),{fieldLabel:n2.isUndefined(this.label.field)?null:this.label.field,fieldValue:this.fieldValue,value:this._value,fieldDescribedBy:this._hasValidation()?this.domId+"_error":this.fieldDescribedBy})}},{key:"_getRawValue",value:function(){var e;return this.element("field").attribute("indeterminate")?null:(e=this.element("field").attribute("checked"),n2.isNull(this.fieldValue)?e:!!e&&this.fieldValue)}},{key:"_setRawValue",value:function(e){n2.isNull(e)?(this._makeIndeterminate(!0),this.element("field").attribute("checked",!1)):(this._makeIndeterminate(!1),this.element("field").attribute("checked",e))}},{key:"_validateRequired",value:function(){return!this.indeterminate}},{key:"_makeIndeterminate",value:function(e){this.element("field").attribute("indeterminate",e)}},{key:"isChecked",value:function(){return this.rendered?this.element("field").attribute("checked"):!1!==this._value}}]),n}(),n2.ui.component.field.CheckboxGroup=function(){_inherits(n,n2.ui.component.Field);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"_define",value:function(){_get4(_getPrototypeOf(n.prototype),"_define",this).call(this),this._defaultValue=[],this._template='<fieldset class="slds-form-element n2-component{{#hidden}} {{hideCls}}{{/hidden}} {{cls}}" id="{{id}}">{{> labelTemplate}}{{> helpIconTemplate}}<div class="slds-form-element__control {{iconContainerCls}}" id="{{id}}_group">{{> errorTemplate}}</div></fieldset>',this._labelTemplate='{{^label.hidden}}<legend class="slds-form-element__legend slds-form-element__label" for="{{id}}_group">{{#required}}<abbr title="Required" class="slds-required">*</abbr> {{/required}}{{label.text}}</legend>{{/label.hidden}}',this._options=[],this.sort=!0}},{key:"options",set:function(e){this._options=this._prepareOptions(e),this._refreshOptions()}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(n.prototype),"_onDefined",this).call(this),this._options=this._prepareOptions(this._options),this._addOptions()}},{key:"_refreshOptions",value:function(){this._forEachOptionComponent(function(e){e.destroy()}),this._addOptions(),this.rendered&&this._setRawValue(this._value)}},{key:"_prepareOptions",value:function(e){return e=e.map(function(e){return n2.isObject(e)?e:{label:e,value:e}}),this.sort&&n2.sort(e,{property:"label"}),e}},{key:"_addOptions",value:function(){var i=this;this._options.forEach(function(e,t){n2.isString(e)&&(e={label:e,value:e}),i._addOption(e,t)})}},{key:"_addOption",value:function(e,t){var i=this,n=n2.isArray(this._value)?-1<this._value.indexOf(e.value):this._value===e.value;this.insert(new n2.ui.component.field.Checkbox({id:"option-"+t,label:e.label,fieldValue:e.value,fieldDescribedBy:"n2__"+this.id+"_error",renderTo:this._getOptionRenderTo(),value:n,disabled:this.disabled,listeners:{change:function(){return i._onChange()}}}))}},{key:"_getOptionRenderTo",value:function(){return!this.required||n2.isFunction(this.validator)?".slds-form-element__control":{target:".n2__field-error",position:"beforebegin"}}},{key:"_onChange",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.silent,t=void 0!==t&&t,i=e.sync,i=void 0===i||i,e=e.validate,e=void 0===e||e;this._lastValue=this._value,this._value=this.value,e&&this.validate(),_get4(_getPrototypeOf(n.prototype),"_onChange",this).call(this,{silent:t,sync:i,validate:e})}},{key:"_setValue",value:function(e){var t=e.value,t=void 0===t?"":t,i=e.validate,i=void 0===i||i,e=e.silent,e=void 0!==e&&e;n2.isArray(t)||this instanceof n2.ui.component.field.RadioGroup||(t=[t]),_get4(_getPrototypeOf(n.prototype),"_setValue",this).call(this,{value:t,validate:i,silent:e}),this.rendered||this._refreshOptions()}},{key:"_setRawValue",value:function(t){this._forEachOptionComponent(function(e){e.value={value:-1<t.indexOf(e.fieldValue),silent:!0}})}},{key:"_getRawValue",value:function(){var t=[];return this._forEachOptionComponent(function(e){e.isChecked()&&t.push(e.value)}),t}},{key:"_forEachOptionComponent",value:function(t){n2.forEach(this._components,function(e){if(e instanceof n2.ui.component.field.Checkbox)return t(e)})}},{key:"_validateRequired",value:function(){var t=!1;return this._forEachOptionComponent(function(e){return!(t=!1!==e.value)}),t}},{key:"_enableChildren",value:function(){this._forEachOptionComponent(function(e){e.disabled=!1})}},{key:"_disableChildren",value:function(){this._forEachOptionComponent(function(e){e.disabled=!0})}}]),n}(),n2.ui.component.field.CheckboxToggle=function(){_inherits(t,n2.ui.component.field.Checkbox);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this._template='<div class="n2-checkbox_toggle slds-form-element n2-component{{#hidden}} {{hideCls}}{{/hidden}} {{cls}}" id="{{id}}"{{#title}} title="{{title}}"{{/title}}><div class="slds-form-element__control {{iconContainerCls}}">{{> labelTemplate}}{{> errorTemplate}}</div></div>',this._labelTemplate='<label class="slds-checkbox_toggle {{label.cls}}" for="{{id}}_checkbox" title="{{label.text}}"><span class="slds-form-element__label{{#label.hidden}} {{assistiveTextCls}}{{/label.hidden}}">{{label.text}}</span>{{> helpIconTemplate}}{{> fieldTemplate}}<span class="slds-checkbox_faux_container" id="{{id}}_container" aria-live="assertive"><span class="slds-checkbox_faux"></span>{{#onLabel}}<span class="slds-checkbox_on">{{onLabel}}</span>{{/onLabel}}{{#offLabel}}<span class="slds-checkbox_off">{{offLabel}}</span>{{/offLabel}}</span></label>',this._fieldTemplate='<input class="n2__checkbox" id="{{id}}_checkbox" type="checkbox"{{#fieldValue}} value="{{fieldValue}}"{{/fieldValue}}{{#value}} checked="checked"{{/value}}{{#fieldDescribedBy}} aria-describedby="{{fieldDescribedBy}}"{{/fieldDescribedBy}}{{#required}} required="required"{{/required}}{{#disabled}} disabled="disabled"{{/disabled}}/>',this.onLabel=null,this.offLabel=null}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplateData",this).call(this),{onLabel:this.onLabel,offLabel:this.offLabel})}}]),t}(),n2.ui.component.field.Combo=function(){_inherits(i,n2.ui.component.Field);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return _createClass(i,[{key:"_define",value:function(){_get4(_getPrototypeOf(i.prototype),"_define",this).call(this),this.EVENTS=n2.merge(this.EVENTS||{},{click:function(e){}}),this.REQUIRED_MEMBERS=n2.merge(this.REQUIRED_MEMBERS,["options"]),this.SELECTORS=n2.merge(this.SELECTORS,{label:"label",field:"input",focusTarget:"input",comboBox:".slds-combobox"}),this._mixins=n2.merge(this._mixins,[n2.ui.mixin.Focus]),this._fieldTemplate='<div class="slds-combobox_container">\n            <div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click {{#opened}}{{openedCls}}{{/opened}}" aria-expanded="{{#opened}}true{{/opened}}{{^opened}}false{{/opened}}" aria-haspopup="listbox" role="combobox">\n                <div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right" role="none">\n                    <input type="text" class="slds-input slds-combobox__input" id="{{id}}_field"{{#disabled}} disabled="disabled"{{/disabled}} aria-controls="{{id}}_listbox" autoComplete="off" role="textbox"{{#placeholder}} placeholder="{{placeholder}}"{{/placeholder}}{{#inputTitle}} title="{{inputTitle}}"{{/inputTitle}} value="{{value}}" readonly="" />\n                    <span class="slds-icon_container slds-icon-utility-down slds-input__icon slds-input__icon_right">\n                        {{>iconTemplate}}\n                    </span>\n                </div>\n            </div>\n        </div>',this._iconTemplate='<svg class="slds-icon slds-icon slds-icon_x-small slds-icon-text-default" aria-hidden="true">\n            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{{icon}}" />\n        </svg>',this._componentCls="n2-combo_field",this._defaultValue="",this._placeholder="--Please select--",this._options=[],this._sort=!0,this._multiple=!1,this._opened=!1,this._performBlur=!0,this._windowResizeHandler=null,this._windowScrollHandler=null,this._typingValue=null,this._typingTimer=null,this._icon=n2.ui.enum.Icon.DOWN,this._preventKeyUpBubble=!1,this.listBoxCls=null}},{key:"placeholder",set:function(e){this._placeholder!==e&&(this._placeholder=e,this._refreshPlaceholder())}},{key:"options",set:function(e){n2.compare(this._options,e)||(this._options=e,this._refreshOptions(),this._refreshInputFieldValue(),this._refreshPills())}},{key:"listBox",get:function(){return this._components["list-box"]}},{key:"sort",set:function(e){this._sort!==e&&(this._sort=e,this._refreshSort())}},{key:"multiple",set:function(e){this._multiple!==e&&(this._multiple=e,this._refreshMultiple())}},{key:"opened",get:function(){return this._opened},set:function(e){e?this.open():this.close()}},{key:"_onDefined",value:function(){var e=this;this._multiple&&(this._defaultValue=[]),_get4(_getPrototypeOf(i.prototype),"_onDefined",this).call(this),this._insertListBox(),this._multiple&&this._insertPillList(),this._typingValue="",this._typingTimer=new n2.util.DelayedTask(function(){return e._clearTypingValue()},500)}},{key:"_insertListBox",value:function(){var t=this,e=n2.isNull(this.listBoxCls)?"":" ".concat(this.listBoxCls);this._insert(new n2.ui.component.ListBox({id:"list-box",renderTo:n2.ui.dom.Scope.getInstance().root,cls:"slds-dropdown_length-5 slds-dropdown_fluid n2-combo-list-box".concat(e),options:this._options,placeholder:this.required?null:this._placeholder,sort:this._sort,multiple:this._multiple,hidden:!this._opened,selection:this._value,lazyRender:this._lazyRender,listeners:{click:function(e){return t._onListBoxClick(e)},change:function(e){return t._onListBoxChange(e)}}}))}},{key:"_onListBoxClick",value:function(e){this._multiple&&!e.target.placeholder?(this.focused=!0,this.fire("click",e)):this.opened=!1}},{key:"_onListBoxChange",value:function(e){this._refreshInputFieldValue(),this._refreshPills(),this._multiple||this._onChange()}},{key:"_insertPillList",value:function(){var i=this;this._insert(new n2.ui.component.PillList({id:"pills",cls:"slds-listbox_selection-group",min:2,disabled:this.disabled,listeners:{remove:function(e,t){i._onPillRemoved(t)}}})),this._refreshPills()}},{key:"_refreshPills",value:function(){var t=this;this._multiple&&(this._components.pills.removePills({silent:!0}),this.listBox.forEachOption(function(e){e.selected&&t._insertPill(e)}))}},{key:"_insertPill",value:function(e){this._components.pills.insertPills({text:e.label,value:e.value})}},{key:"_onPillRemoved",value:function(e){this.listBox.getOptionsByValue(e.value)[0].select(!1,{silent:!0}),this._refreshInputFieldValue(),this._onChange()}},{key:"_getTemplatePartials",value:function(){return n2.merge(_get4(_getPrototypeOf(i.prototype),"_getTemplatePartials",this).call(this),{iconTemplate:this._iconTemplate})}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(i.prototype),"_getTemplateData",this).call(this),{opened:this._opened,openedCls:n2.ui.enum.CSS.OPEN,placeholder:this._placeholder,value:this._getInputFieldValue(),inputTitle:this._getInputFieldTitle(),icon:n2.ui.Icon.getLink(this._icon)})}},{key:"_bindEvents",value:function(){var t=this;_get4(_getPrototypeOf(i.prototype),"_bindEvents",this).call(this),this.element("label").listen("click",this._onLabelClick,{scope:this}),this.element("field").listen("click",this._onFieldClick,{scope:this}),this._components["list-box"].listen("mousedown",this._onListBoxMouseDown,this),this.element("field").listen("keyup",function(e){t._onKeyUp(e)})}},{key:"_onLabelClick",value:function(e){this.focused=!0,e.preventDefault()}},{key:"_onFieldClick",value:function(e){this.opened=!this._opened}},{key:"_onListBoxMouseDown",value:function(e){this._performBlur=e.event.target===this.listBox.dom.rawDOM.firstChild}},{key:"_onBlur",value:function(){this._performBlur&&(_get4(_getPrototypeOf(i.prototype),"_onBlur",this).apply(this,arguments),this._multiple&&this._onChange(),this.close({maintainFocus:!1})),this._performBlur=!0}},{key:"_onChange",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=(e.silent,e.sync,e.validate),e=void 0===e||e,t=this.value;this._value!==t&&(this._lastValue=this._value,this._value=t),e&&this.validate(),_get4(_getPrototypeOf(i.prototype),"_onChange",this).apply(this,arguments)}},{key:"_onKeyDown",value:function(e){switch(n2.ui.Key.get(e.key)){case n2.ui.enum.Key.ENTER:this._onEnterKeyDown(e);break;case n2.ui.enum.Key.ARROW_DOWN:this._onArrowDownKeyDown(e);break;case n2.ui.enum.Key.ARROW_UP:this._onArrowUpKeyDown(e);break;case n2.ui.enum.Key.ESCAPE:this._onEscapeKeyDown(e);break;case n2.ui.enum.Key.BACKSPACE:case n2.ui.enum.Key.TAB:case n2.ui.enum.Key.DELETE:break;default:this._onTypedValue(e)}}},{key:"_onEnterKeyDown",value:function(e){var t;this._opened&&(t=this._components["list-box"],n2.isNull(t.focusedOption)?this.opened=!1:t.focusedOption.dom.rawDOM.click(),this._preventKeyUpBubble=!0)}},{key:"_onArrowDownKeyDown",value:function(e){this.open({focusSelectedOption:!1}),this.listBox.focusNext(),e.preventDefault()}},{key:"_onArrowUpKeyDown",value:function(e){this.open({focusSelectedOption:!1}),this.listBox.focusPrevious(),e.preventDefault()}},{key:"_onEscapeKeyDown",value:function(e){this._preventKeyUpBubble=this._opened,this.opened=!1,e.preventDefault()}},{key:"_onTypedValue",value:function(e){this._opened||(this.opened=!0);e=n2.ui.Key.get(e.key);this._typingValue!==e&&(this._typingValue+=e),this._typingTimer.stop(),this._selectOptionByTypingValue()}},{key:"_onKeyUp",value:function(e){this._typingTimer.start(),this._preventKeyUpBubble&&(e.stopPropagation(),this._preventKeyUpBubble=!1)}},{key:"_clearTypingValue",value:function(){this._typingValue=""}},{key:"_selectOptionByTypingValue",value:function(){var e=this._typingValue.toLowerCase(),t=null;e&&(t=1===e.length?this._getSingleCharacterMatch(e):this._getMultiCharacterMatch(e))&&(this._multiple||(this.clear({silent:!0}),t.select(!0)),this.listBox.clearFocus(),t.focused=!0)}},{key:"_getSingleCharacterMatch",value:function(i){var n=this,s=null,o=null;return this.listBox.forEachOption(function(e,t){0===e.label.toLowerCase().indexOf(i)&&(o=o||e,s=s||e,n._multiple?e.focused&&(s=null):e.selected&&(s=null))}),s||o}},{key:"_getMultiCharacterMatch",value:function(n){var s=null;return this.listBox.forEachOption(function(e,t){var i=e.label.toLowerCase();if(i===n)return s=e,!1;s||0!==i.indexOf(n)||(s=e)}),s}},{key:"_refreshPlaceholder",value:function(){this.required||(this.listBox.placeholder=this._placeholder),this._rendered&&this.element("field").attribute("placeholder",this._placeholder)}},{key:"_refreshOptions",value:function(){this.listBox.options=this._options}},{key:"_refreshSort",value:function(){this.listBox.sort=this._sort}},{key:"_refreshMultiple",value:function(){this.listBox.multiple=this._multiple,this._multiple?this._insertPillList():(this.remove("pills",{destroy:!0}),this.value="")}},{key:"open",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).focusSelectedOption,e=void 0===e||e;this._opened||(this._opened=!0,this._refreshOpened({focusSelectedOption:e}))}},{key:"close",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).maintainFocus,e=void 0===e||e;this._opened&&(this._opened=!1,this._refreshOpened(),e)&&(this.focused=!0)}},{key:"_refreshOpened",value:function(){var e,t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).focusSelectedOption,t=void 0===t||t;this.rendered&&(e=this.element("comboBox"),this._opened?(e.addClass(n2.ui.enum.CSS.OPEN),e.attribute("aria-expanded","true"),this.listBox.show({focusSelectedOption:t}),this._repositionListBox(),this._addWindowListeners()):(e.removeClass(n2.ui.enum.CSS.OPEN),e.attribute("aria-expanded","false"),this.listBox.hidden=!0,this._purgeWindowListeners()))}},{key:"_addWindowListeners",value:function(){var t=this;this._windowResizeHandler=function(e){return t._onWindowResize(e)},window.addEventListener("resize",this._windowResizeHandler),this._windowScrollHandler=function(e){return t._onWindowScroll(e)},window.addEventListener("scroll",this._windowScrollHandler,!0)}},{key:"_onWindowResize",value:function(e){this.opened=!1}},{key:"_onWindowScroll",value:function(e){var t=e.target===this.element("field").rawDOM,i=e.target===this.listBox.dom.rawDOM,n=e.target===this.listBox.dom.rawDOM.firstChild,e=e.target===document;t||i||n||e||(this.opened=!1)}},{key:"_repositionListBox",value:function(){var e=this.element("field"),t=e.rawDOM.getBoundingClientRect(),i=this.listBox.dom.attribute("offsetParent").getBoundingClientRect(),n=t.bottom-i.top,t=t.left-i.left;this.listBox.dom.style({top:"".concat(n,"px"),left:"".concat(t,"px"),width:"".concat(e.attribute("clientWidth"),"px"),"z-index":9005})}},{key:"_setFieldValue",value:function(e){this.listBox.selection=e,this._refreshInputFieldValue(),this._refreshPills()}},{key:"_refreshInputFieldValue",value:function(){var e;this._rendered&&((e=this.element("field")).attribute("value",this._getInputFieldValue()),e.attribute("title",this._getInputFieldTitle()))}},{key:"_getInputFieldValue",value:function(){var e=this._getValue();return this._multiple&&1<e.length?"".concat(e.length," Options Selected"):(e=this._getSelectedOption(),n2.isNull(e)?"":e.label)}},{key:"_getInputFieldTitle",value:function(){if(this._multiple){var e=this.listBox.selectedOptions;if(1<e.length)return e.map(function(e){return e.label||e}).join(", ")}return""}},{key:"_getSelectedOption",value:function(){var e=this.listBox.selectedOptions;return n2.isEmpty(e)?null:e[0]}},{key:"_getValue",value:function(){return this.listBox.selection}},{key:"_validateRequired",value:function(){return!n2.isEmpty(this.value)||0===this.value||!1===this.value}},{key:"_disableChildren",value:function(){_get4(_getPrototypeOf(i.prototype),"_disableChildren",this).call(this),this.components.pills&&(this.components.pills.disabled=!0)}},{key:"_enableChildren",value:function(){_get4(_getPrototypeOf(i.prototype),"_disableChildren",this).call(this),this.components.pills&&(this.components.pills.disabled=!1)}},{key:"destroy",value:function(){_get4(_getPrototypeOf(i.prototype),"destroy",this).apply(this,arguments),this._purgeWindowListeners()}},{key:"_purgeWindowListeners",value:function(){window.removeEventListener("resize",this._windowResizeHandler),window.removeEventListener("scroll",this._windowScrollHandler,!0)}},{key:"_makeFocused",value:function(e){_get4(_getPrototypeOf(i.prototype),"_makeFocused",this).apply(this,arguments),this._rendered&&(this.focusTarget.rawDOM.scrollTo?this.focusTarget.rawDOM.scrollTo(0,0):this.focusTarget.rawDOM.scrollTop=0)}}]),i}(),n2.ui.component.field.DataTable=function(){_inherits(s,n2.ui.component.Field);var e=_createSuper(s);function s(){return _classCallCheck(this,s),e.apply(this,arguments)}return _createClass(s,[{key:"_define",value:function(){_get4(_getPrototypeOf(s.prototype),"_define",this).call(this),this._columns=[],this._min=null,this._max=null,this._newRowData=null,this._addRowButtonConfig=null,this._emptyState=null,this._defaultValue=[],this._dataTableClass=n2.ui.component.EditableDataTable}},{key:"columns",set:function(e){n2.compare(this._columns,e)||(this._columns=e,this._refreshDataTable())}},{key:"min",set:function(e){this._min!==e&&(this._min=e,this._refreshMin())}},{key:"max",set:function(e){this._min!==e&&(this._max=e,this._refreshMax())}},{key:"newRowData",set:function(e){n2.compare(this._newRowData,e)||(this._newRowData=e,this._refreshNewRowData())}},{key:"addRowButtonConfig",set:function(e){n2.compare(this._addRowButtonConfig,e)||(this._addRowButtonConfig=e,this._refreshAddRowButtonConfig())}},{key:"emptyState",set:function(e){n2.compare(this._emptyState,e)||(this._emptyState=e,this._refreshEmptyState())}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(s.prototype),"_onDefined",this).apply(this,arguments),this._insertDataTable()}},{key:"_refreshDataTable",value:function(){this._components["data-table"]instanceof n2.ui.component.DataTable&&this._components["data-table"].destroy(),this._insertDataTable()}},{key:"_insertDataTable",value:function(){var e=this._dataTableClass;return this._insert(new e(this._getDataTableConfig()))}},{key:"_getDataTableConfig",value:function(){var t=this,e={id:"data-table",renderTo:this.SELECTORS.fieldContainer,columns:this._columns,min:this._min,max:this._max,newRowData:this._newRowData,addRowButtonConfig:this._addRowButtonConfig,data:this._value,emptyState:n2.merge({heading:"",content:""},this._emptyState),disabled:this._disabled,listeners:{change:function(e){t._onChange({sync:!1})}}};return this._isDataDriven()?n2.merge(e,this._getDataTableDataDrivenConfig()):e}},{key:"_getDataTableDataDrivenConfig",value:function(){return{mixins:[n2.mixin.DataDriven],data:{bindPath:"."}}}},{key:"_bindEvents",value:function(){_get4(_getPrototypeOf(s.prototype),"_bindEvents",this).apply(this,arguments),this._bindDataTableEvents()}},{key:"_bindDataTableEvents",value:function(){var t=this,e=(this._components["data-table"].forEachRow(function(e){e.forEachCell(function(e){n2.isNull(e.editField)||e.editField.listen("blur",t._validateRequiredOnly,t)})}),this._components["data-table"].components["add-row-button"]);e.dom.listen("blur",this._validateRequiredOnly,{scope:this}),e.listen("click",this.clearInvalid,this)}},{key:"_validateRequiredOnly",value:function(){this.required&&!this._validateRequired()&&this.markInvalid(this.requiredErrorMessage)}},{key:"_resolveValueDataBinding",value:function(e){e=e.dataItem;this._components["data-table"].model=e}},{key:"_setFieldValue",value:function(e){this._isDataDriven()||(this._components["data-table"].data=e)}},{key:"_updateDataBinding",value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=i.type,n=void 0===n?"set":n,i=i.key,i=void 0===i?null:i;this._isDataDriven()&&("value"===e?(e=_get4(_getPrototypeOf(s.prototype),"_updateDataBinding",this).call(this,"value",this._value,{type:n,key:i}),this._components["data-table"].model=e.dataItem):_get4(_getPrototypeOf(s.prototype),"_updateDataBinding",this).apply(this,arguments))}},{key:"_getValue",value:function(){return this._components["data-table"].data}},{key:"validate",value:function(){var e=_get4(_getPrototypeOf(s.prototype),"validate",this).apply(this,arguments)&&this._components["data-table"].validate();return this._isValid=e}},{key:"_validateRequired",value:function(){return!n2.isEmpty(this.value)}},{key:"_refreshMin",value:function(){this._components["data-table"].min=this._min}},{key:"_refreshMax",value:function(){this._components["data-table"].max=this._max}},{key:"_refreshNewRowData",value:function(){this._components["data-table"].newRowData=this._newRowData}},{key:"_refreshAddRowButtonConfig",value:function(){this._components["data-table"].addRowButtonConfig=this._addRowButtonConfig}},{key:"_refreshEmptyState",value:function(){this._components["data-table"].emptyState=this._emptyState}},{key:"_enable",value:function(){_get4(_getPrototypeOf(s.prototype),"_enable",this).apply(this,arguments),this._components["data-table"].disabled=!1}},{key:"_disable",value:function(){_get4(_getPrototypeOf(s.prototype),"_disable",this).apply(this,arguments),this._components["data-table"].disabled=!0}},{key:"clear",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).silent,t=void 0!==e&&e,i=this._components["data-table"];i.forEachRow(function(e){e.forEachCell(function(e){e.editField&&e.editField.clear({silent:t})}),i.removeRow(e)})}}]),s}(),n2.ui.component.field.DatePeriodPicker=function(){_inherits(i,n2.ui.component.Field);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return _createClass(i,[{key:"_define",value:function(){_get4(_getPrototypeOf(i.prototype),"_define",this).call(this),this.SELECTORS=n2.merge(this.SELECTORS,{fieldContainer:".n2_field-container"}),this._fieldTemplate='<div class="slds-grid n2_field-container"></div>',this._defaultValue="",this._includeFiscalPeriods=!1}},{key:"includeFiscalPeriods",set:function(e){this._includeFiscalPeriods!==e&&(this._includeFiscalPeriods=e,this._components.period.options=this._getPeriodOptions())}},{key:"_onDefined",value:function(){var e=this;_get4(_getPrototypeOf(i.prototype),"_onDefined",this).call(this),this.insert(new n2.ui.component.field.Combo({id:"period",label:{text:"Period",hidden:!0},renderTo:this.SELECTORS.fieldContainer,cls:"slds-col slds-col_padded_right slds-size_2-of-3",options:this._getPeriodOptions(),sort:!1,required:this.required,disabled:this._disabled,listeners:{change:function(){e._refresh({periodField:!0}),e._onChange()}}})),this.insert(new n2.ui.component.field.Number({id:"periodValue",label:{text:"Period Value",hidden:!0},disabled:this._disabled,renderTo:this.SELECTORS.fieldContainer,cls:"slds-col slds-col_padded_right slds-size_1-of-3",hidden:!this._isNumberRequired(),min:1,listeners:{change:function(){e._onChange()}},validator:function(e){return/^[1-9][0-9]*$/.test(e.value)||"This value needs to be a whole number greater than 0"}}))}},{key:"_getPeriodOptions",value:function(){var e=this._createPeriodOptions(n2.ui.component.field.datePeriodPicker.Periods);return this._includeFiscalPeriods?n2.merge(e,this._createPeriodOptions(n2.ui.component.field.datePeriodPicker.FiscalPeriods)):e}},{key:"_createPeriodOptions",value:function(e){return n2.map(e,function(e,t){return{label:e,value:t}})}},{key:"_isNumberRequired",value:function(){return this._components.period.value.includes("_N_")}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(i.prototype),"_getTemplateData",this).call(this),{hasValidation:!0})}},{key:"_afterRender",value:function(){_get4(_getPrototypeOf(i.prototype),"_afterRender",this).call(this),this._setFieldValue(this._value,{silent:!0,validate:!1}),this._refresh({periodField:!0})}},{key:"_refresh",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=n2.isEmpty(e),e=e.periodField;(t||void 0!==e&&e)&&this._refreshPeriodField()}},{key:"_refreshPeriodField",value:function(){this.clearInvalid(),this._isNumberRequired()?this._components.periodValue.hidden=!1:this._components.periodValue.hidden=!0}},{key:"_onBlur",value:function(){_get4(_getPrototypeOf(i.prototype),"_onBlur",this).apply(this,arguments),this._onChange()}},{key:"_setFieldValue",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.silent,i=void 0!==i&&i,t=(t.sync,t.validate),t=void 0===t||t,e=e.split(":");this._components.period.value={value:e[0],validate:t,silent:i},this._components.periodValue.value={value:e[1]||1,validate:t,silent:i}}},{key:"_getRawValue",value:function(){var e=this._components.period.value,t=this._components.periodValue.value;return n2.isEmpty(e)||this._components.periodValue.hidden?e:"".concat(e,":").concat(t)}},{key:"validate",value:function(){var e=this._components.period.validate()&&(this._components.periodValue.hidden||this._components.periodValue.validate());return e?this.clearInvalid():this.markInvalid(),e}},{key:"_showError",value:function(e){_get4(_getPrototypeOf(i.prototype),"_showError",this).call(this,e);var e=this._components.period.isValid,t=this._components.periodValue.hidden||this._components.periodValue.isValid;!this.rendered||e&&t||this.element("error").hide()}},{key:"_hideError",value:function(){_get4(_getPrototypeOf(i.prototype),"_hideError",this).call(this),this._components.period.clearInvalid(),this._components.periodValue.clearInvalid()}},{key:"_disable",value:function(){_get4(_getPrototypeOf(i.prototype),"_disable",this).apply(this,arguments),this._components.period.disabled=!0,this._components.periodValue.disabled=!0}},{key:"_enable",value:function(){_get4(_getPrototypeOf(i.prototype),"_enable",this).apply(this,arguments),this._components.period.disabled=!1,this._components.periodValue.disabled=!1}}]),i}(),n2.ui.component.field.TextBox=function(){_inherits(t,n2.ui.component.Field);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this.EVENTS=n2.merge(this.EVENTS,{type:function(e){}}),this.SELECTORS=n2.merge(this.SELECTORS,{field:"input",clearButton:"button.n2-clear-search",focusTarget:"input",icon:".slds-input__icon"}),this._defaultValue="",this._placeholder=null,this.allowClear=!1,this._icon=null,this._fieldTemplate='{{#icon}}{{> iconTemplate}}{{/icon}}<input class="slds-input" id="{{id}}_field"{{#disabled}} disabled="disabled"{{/disabled}}{{#readOnly}} readonly{{/readOnly}}{{#hasValidation}} aria-describedby="{{id}}_error"{{#required}} required="required"{{/required}}{{/hasValidation}} type="{{type}}"{{#placeholder}} placeholder="{{placeholder}}"{{/placeholder}}{{#maxLength}} maxlength="{{maxLength}}"{{/maxLength}} value="{{value}}" autocomplete="{{autoComplete}}" />{{#allowClear}}{{> clearButtonTemplate}}{{/allowClear}}',this._iconTemplate='<svg id="{{id}}_icon" class="slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default{{#iconCls}} {{iconCls}}{{/iconCls}}" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{{icon}}" /></svg>',this._clearButtonTemplate='<button id="{{id}}_clear-button" class="slds-input__icon slds-input__icon_right slds-button slds-button_icon n2-clear-search{{#readOnly}} {{hideClear}}{{/readOnly}}"{{#disabled}} disabled="disabled"{{/disabled}}><svg class="slds-button__icon slds-icon-text-light" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{{clearIcon}}" /></svg><span class="slds-assistive-text">Clear</span></button>',this.typingDelay=600,this._maxLength=null,this._autoComplete="off",this._readOnly=!1}},{key:"icon",set:function(e){this._icon!==e&&(this._icon=e,this._refreshIcon())}},{key:"placeholder",set:function(e){this._placeholder!==e&&(this._placeholder=e,this._refreshPlaceholder())}},{key:"maxLength",set:function(e){this._maxLength!==e&&(this._maxLength=e,this._rendered)&&this.element("field").attribute("maxLength",e)}},{key:"autoComplete",set:function(e){this._autoComplete!==e&&(this._autoComplete=e,this._refreshAutoComplete())}},{key:"readOnly",get:function(){return this._readOnly},set:function(e){this._readOnly!==e&&(this._readOnly=e,this._refreshReadOnly())}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplateData",this).call(this),{type:"text",placeholder:this._placeholder,allowClear:this.allowClear,iconContainerCls:this._getIconContainerCls(),icon:this._icon?n2.ui.Icon.getLink(this._icon):null,clearIcon:n2.ui.Icon.getLink(n2.ui.enum.Icon.CLEAR),maxLength:this._maxLength,autoComplete:this._autoComplete,readOnly:this._readOnly,hideClear:n2.ui.enum.CSS.HIDE})}},{key:"_getIconContainerCls",value:function(){var e="slds-input-has-icon";return this.allowClear&&!n2.isNull(this._icon)?e+" slds-input-has-icon_left-right":this.allowClear?e+" slds-input-has-icon_right":n2.isNull(this._icon)?null:e+" slds-input-has-icon_left"}},{key:"_getTemplatePartials",value:function(){return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplatePartials",this).call(this),{clearButtonTemplate:this._clearButtonTemplate,iconTemplate:this._iconTemplate})}},{key:"_bindEvents",value:function(){var e=this;_get4(_getPrototypeOf(t.prototype),"_bindEvents",this).call(this),this._setupTyping(),this.element("field").listen("cut",function(){return e._onCut()}),this.element("field").listen("paste",function(){return e._onPaste()}),n2.isNull(this.element("clearButton"))||this.element("clearButton").listen("click",function(){return e._onClearButtonClick()})}},{key:"_onBlur",value:function(){_get4(_getPrototypeOf(t.prototype),"_onBlur",this).call(this);var e=this._getRawValue();this._value!==e&&(this._value=e,this._onChange())}},{key:"_onCut",value:function(){this._onChange()}},{key:"_onPaste",value:function(){var e=this;return new n2.util.DelayedTask(function(){return e._onAfterPaste()},1,!0)}},{key:"_onAfterPaste",value:function(){this._onChange()}},{key:"_onClearButtonClick",value:function(){this.clear()}},{key:"_setupTyping",value:function(){var t=this,i=this._getRawValue(),n=new n2.util.DelayedTask(function(){return t._onType(i)},this.typingDelay);this.element("field").listen("keydown",function(e){0!==t._getRawValue().length&&(i=t._getRawValue()),n.stop()}),this.element("field").listen("keyup",function(){n.start()})}},{key:"_onType",value:function(e){e!==this._getRawValue()&&this.fire("type",this)}},{key:"_getRawValue",value:function(){return this.rendered?this.element("field").attribute("value"):""}},{key:"_setRawValue",value:function(e){this.element("field").attribute("value",e)}},{key:"_validateRequired",value:function(){return!n2.isNull(this.value)&&0<this.value.length}},{key:"_enableField",value:function(){_get4(_getPrototypeOf(t.prototype),"_enableField",this).call(this),this.allowClear&&this.element("clearButton").attribute("disabled",!1)}},{key:"_disableField",value:function(){_get4(_getPrototypeOf(t.prototype),"_disableField",this).call(this),this.allowClear&&this.element("clearButton").attribute("disabled",!0)}},{key:"_refreshAutoComplete",value:function(){this._rendered&&this.element("field").attribute("autocomplete",this._autoComplete)}},{key:"_refreshReadOnly",value:function(){this._rendered&&(this.element("field").attribute("readOnly",this._readOnly),this.allowClear)&&(this._readOnly?this.element("clearButton").addClass(n2.ui.enum.CSS.HIDE):this.element("clearButton").removeClass(n2.ui.enum.CSS.HIDE))}},{key:"_refreshIcon",value:function(){var e;this._rendered&&(this.element("icon",!0)&&this.element("icon").remove(),e=n2.ui.Template.render(this._iconTemplate,this._getTemplateData(),this._getTemplatePartials()),this.element("field").insert(e,"beforebegin"),this.element("fieldContainer").addClass(this._getIconContainerCls()))}},{key:"_refreshPlaceholder",value:function(){this._rendered&&this.element("field").attribute("placeholder",this._placeholder)}}]),t}(),n2.ui.component.field.DatePicker=function(){_inherits(t,n2.ui.component.field.TextBox);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this._icon=n2.ui.enum.Icon.EVENT,this._datePicker=null,this._minDate=null,this._maxDate=null,this._yearRange=5}},{key:"minDate",set:function(e){this._minDate!==e&&(this._minDate=e,this._refresh())}},{key:"maxDate",set:function(e){this._maxDate!==e&&(this._maxDate=e,this._refresh())}},{key:"yearRange",set:function(e){this._yearRange!==e&&(this._yearRange=e,this._refresh())}},{key:"_afterRender",value:function(){_get4(_getPrototypeOf(t.prototype),"_afterRender",this).call(this),this._datePicker=this._insertDatePicker()}},{key:"_insertDatePicker",value:function(){var t=this,e=(n2.isNull(this._datePicker)||this._datePicker.destroy(),this._minDate),i=(n2.isDateObject(this._minDate)&&n2.isDateObject(this._maxDate)&&this._minDate>this._maxDate&&(e=this._maxDate),this.id),i=new Pikaday({field:this.element("field").rawDOM,theme:"".concat(i,"_picker n2-date-picker"),container:this._getContainer(),position:"bottom right",showDaysInNextAndPreviousMonths:!0,enableSelectionDaysInNextAndPreviousMonths:!0,minDate:e,maxDate:this._maxDate,yearRange:this._yearRange,toString:function(e){return t._formatDate(e)},onDraw:function(e){return t._insertDatePickerTodayButton(e)}}),e=this.value;return n2.isNull(e)&&(e=new Date,n2.isDateObject(this._maxDate)&&this._maxDate<e?i.gotoDate(this._maxDate):n2.isDateObject(this._minDate)&&this._minDate>e&&i.gotoDate(this._minDate)),i}},{key:"_getContainer",value:function(){var e=n2.ui.dom.Scope.getInstance().root;return e instanceof n2.ui.DOM?e.rawDOM:e}},{key:"_formatDate",value:function(e){var t,i=new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric",timeZone:"UTC"});return n2.isUndefined(i.formatToParts)?i.format(e):(e=(i=n2.extractDateTimeParts(i,e)).day,t=i.month,i=i.year,"".concat(e,"-").concat(t.substring(0,3),"-").concat(i))}},{key:"_insertDatePickerTodayButton",value:function(e){return n2.isUndefined(this._components["today-button"])||this._components["today-button"].destroy(),this._insert(new n2.ui.component.Button({id:"today-button",theme:n2.ui.component.button.Theme.LINK,cls:"pika-today-button slds-align_absolute-center",renderTo:e.el.querySelector(".pika-lendar"),text:"Today",listeners:{click:function(){return e.setDate(new Date)}}}))}},{key:"_refresh",value:function(){this._rendered&&(this._datePicker=this._insertDatePicker())}},{key:"_getValue",value:function(){return this._datePicker?this._datePicker.getDate():null}},{key:"_setFieldValue",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.silent,t.sync,t.validate;n2.isNull(this._datePicker)||this._datePicker.setDate(e)}},{key:"_getIconContainerCls",value:function(){return"slds-input-has-icon slds-input-has-icon_right"}},{key:"_validateRequired",value:function(){return!n2.isNull(this.value)&&n2.isDateObject(this.value)}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplateData",this).call(this),{value:n2.isDateObject(this._value)?this._value:null})}},{key:"_bindEvents",value:function(){var e=this;this._setupTyping(),this.element("field").listen("cut",function(){return e._onCut()}),this.element("field").listen("paste",function(e){return e.preventDefault()})}},{key:"_setupTyping",value:function(){this.element("field").listen("keydown",function(e){e.key!==n2.ui.enum.Key.TAB&&e.preventDefault()})}},{key:"clear",value:function(){_get4(_getPrototypeOf(t.prototype),"clear",this).call(this),this._refresh()}},{key:"destroy",value:function(){_get4(_getPrototypeOf(t.prototype),"destroy",this).call(this),n2.isNull(this._datePicker)||this._datePicker.destroy()}}]),t}(),n2.ui.component.field.DateTimePicker=function(){_inherits(t,n2.ui.component.Field);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this.SELECTORS=n2.merge(this.SELECTORS,{datePicker:".n2_date-picker",timePicker:".n2_time-picker"}),this._fieldTemplate='<div class="slds-grid n2_date-time-picker">\n            <div class="slds-col slds-size_2-of-3 n2_date-picker slds-m-right_small"></div>\n            <div class="slds-col slds-size_1-of-3 n2_time-picker"></div>\n        </div>',this._minDate=null,this._maxDate=null,this._yearRange=5,this._minTime=[0,0],this._timeHidden=!1,this._hideComponentLabels=!1}},{key:"datePickerField",get:function(){return this._components["date-picker"]}},{key:"timePickerField",get:function(){return this._components["time-picker"]}},{key:"hideComponentLabels",set:function(e){this._hideComponentLabels!==e&&(this._hideComponentLabels=e,this._refresh({labels:!0}))}},{key:"minDate",set:function(e){this._minDate!==e&&(this._minDate=e,this._refresh({minDate:!0}))}},{key:"maxDate",set:function(e){this._maxDate!==e&&(this._maxDate=e,this._refresh({maxDate:!0}))}},{key:"yearRange",set:function(e){this._yearRange!==e&&(this._yearRange=e,this._refresh({yearRange:!0}))}},{key:"minTime",set:function(e){this._minTime!==e&&(this._minTime=e,this._refresh({minTime:!0}))}},{key:"timeHidden",set:function(e){this._timeHidden!==e&&(this._timeHidden=e,this._refresh({timeVisibility:!0}),this.timePickerField.clear())}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(t.prototype),"_onDefined",this).call(this),this._insertDatePicker(),this._insertTimePicker()}},{key:"_insertDatePicker",value:function(){var e=this;return this.insert(new n2.ui.component.field.DatePicker({id:"date-picker",label:{text:"Date",hidden:this._hideComponentLabels},renderTo:this.SELECTORS.datePicker,minDate:this._minDate,maxDate:this._maxDate,yearRange:this._yearRange,required:this.required,disabled:this.disabled,listeners:{change:function(){e._onChange()}}}))}},{key:"_insertTimePicker",value:function(){var e=this;return this.insert(new n2.ui.component.field.TimePicker({id:"time-picker",label:{text:"Time",hidden:this._hideComponentLabels},renderTo:this.SELECTORS.timePicker,minTime:this._minTime,required:this.required,disabled:this.disabled,hidden:this._timeHidden,listeners:{change:function(){e._onChange()}}}))}},{key:"_afterRender",value:function(){_get4(_getPrototypeOf(t.prototype),"_afterRender",this).call(this),this._setFieldValue(this._value),this._refresh()}},{key:"_setFieldValue",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.silent,t.sync,t.validate;n2.isDateObject(e)&&(this.datePickerField.value={value:e,silent:!0},this._timeHidden||(this.timePickerField.value={value:this._getTimeArray(e),silent:!0}))}},{key:"_getTimeArray",value:function(e){return n2.isDateObject(e)?[e.getUTCHours(),e.getUTCMinutes()]:null}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplateData",this).call(this),{required:this.required&&this._hideComponentLabels})}},{key:"_getValue",value:function(){var e,t=this.datePickerField.value;return n2.isDateObject(t)?(this._timeHidden||(e=this.timePickerField.value,n2.isArray(e)&&(t.setUTCHours(e[0]),t.setUTCMinutes(e[1]))),t):null}},{key:"validate",value:function(){var e=this.datePickerField.validate()&&this.timePickerField.validate();return this._isValid=!!e,e}},{key:"clear",value:function(){_get4(_getPrototypeOf(t.prototype),"clear",this).call(this),this.datePickerField.clear(),this.timePickerField.clear()}},{key:"_refresh",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.minDate,t=void 0!==t&&t,i=e.maxDate,i=void 0!==i&&i,n=e.yearRange,n=void 0!==n&&n,s=e.minTime,s=void 0!==s&&s,o=e.timeVisibility,o=void 0!==o&&o,l=e.labels,l=void 0!==l&&l,e=n2.isEmpty(e);this._rendered&&((e||t)&&this._refreshMinDate(),(e||i)&&this._refreshMaxDate(),(e||n)&&this._refreshYearRange(),(e||s)&&this._refreshMinTime(),(e||o)&&this._refreshTimeVisibility(),e||l)&&this._refreshLabels()}},{key:"_refreshMinDate",value:function(){this.rendered&&(this.datePickerField.minDate=this._minDate)}},{key:"_refreshMaxDate",value:function(){this.rendered&&(this.datePickerField.maxDate=this._maxDate)}},{key:"_refreshYearRange",value:function(){this.rendered&&(this.datePickerField.yearRange=this._yearRange)}},{key:"_refreshMinTime",value:function(){this.rendered&&(this.timePickerField.minTime=this._minTime)}},{key:"_refreshTimeVisibility",value:function(){this.rendered&&(this.timePickerField.hidden=this._timeHidden)}},{key:"_refreshLabels",value:function(){this.rendered&&(this._hideComponentLabels?(this.datePickerField.element("label").hide(),this.timePickerField.element("label").hide()):(this.datePickerField.element("label").show(),this.timePickerField.element("label").show()))}}]),t}(),n2.ui.component.field.Email=function(){_inherits(t,n2.ui.component.field.TextBox);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplateData",this).call(this),{type:"email",hasValidation:!0})}},{key:"_validateCustom",value:function(){return 0===this.value.length?!this.required:!!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(this.value)||this.value+" is not a valid email address"}}]),t}(),n2.ui.component.field.FileSelector=function(){_inherits(t,n2.ui.component.Field);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this.SELECTORS=n2.merge(this.SELECTORS,{fileSelectorContainer:".slds-file-selector",field:"input",focusTarget:"input",dropzone:".slds-file-selector__dropzone"}),this._defaultValue="",this._labelTemplate='<span id="{{id}}_primary-label" data-form-label="true" class="slds-form-element__label{{#label.hidden}} {{assistiveTextCls}}{{/label.hidden}} {{label.cls}}">\n            {{#required}}<abbr title="Required" class="slds-required">*</abbr>&nbsp;{{/required}}\n            {{label.text}}\n        </span>',this._fieldTemplate='<div class="slds-file-selector {{fileSelectorCls}}">\n            <div class="slds-file-selector__dropzone">\n                <input type="file" class="slds-file-selector__input slds-assistive-text"{{#disabled}} disabled="disabled"{{/disabled}}{{#accept}} accept="{{accept}}"{{/accept}}{{#multiple}} multiple="{{multiple}}"{{/multiple}} id="{{id}}_upload-input" aria-labelledby="{{id}}_primary-label {{id}}_secondary-label" />\n                <label class="slds-file-selector__body" for="{{id}}_upload-input" id="{{id}}_secondary-label">\n                    <span class="slds-file-selector__button slds-button slds-button_neutral">\n                        '.concat(n2.ui.Icon.getSVG(n2.ui.enum.Icon.UPLOAD,{iconCls:"slds-button__icon",cls:"slds-button__icon_left"}),'\n                        Upload Files\n                    </span>\n                    <span class="slds-file-selector__text slds-medium-show">or Drop Files</span>\n                </label>\n            </div>\n        </div>'),this._preventBlur=!1,this._accept=null,this._multiple=!1,this._multiline=!1,this._files=[]}},{key:"accept",set:function(e){this._accept!==e&&(this._accept=e,this._refresh({accept:!0}))}},{key:"multiple",set:function(e){this._multiple!==e&&(this._multiple=e,this._refresh({multiple:!0}))}},{key:"multiline",set:function(e){this._multiline!==e&&(this._multiline=e,this._refresh({multiline:!0}))}},{key:"files",get:function(){return this._files}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplateData",this).call(this),{fileSelectorCls:this._getFileSelectorCls(),accept:this._getAcceptAttributeValue(),multiple:this._multiple})}},{key:"_prepareDOM",value:function(){var e=this;_get4(_getPrototypeOf(t.prototype),"_prepareDOM",this).call(this),this._prepareDropzoneDOM(),this.element("field").listen("change",this._handleFileInputChange,{scope:this}),this.element("dropzone").listen("click",function(){e._preventBlur=!0})}},{key:"_prepareDropzoneDOM",value:function(){var e=this.element("dropzone");e.listen("dragover",this._handleDragOver,{scope:this}),e.listen("dragleave",this._handleDragLeave,{scope:this}),e.listen("drop",this._handleDrop,{scope:this})}},{key:"_handleDragOver",value:function(e){this._disabled||(e.preventDefault(),this.element("dropzone").addClass("slds-has-drag-over"))}},{key:"_handleDragLeave",value:function(e){this._disabled||(e.preventDefault(),this.element("dropzone").removeClass("slds-has-drag-over"))}},{key:"_handleDrop",value:function(e){this._disabled||(e.stopPropagation(),e.preventDefault(),this._files=e.dataTransfer.files,this.validate(),this.element("dropzone").removeClass("slds-has-drag-over"),this.focus(),this._onDrop(this._createEvent(this,{event:e})),this._onChange())}},{key:"_onDrop",value:function(e){}},{key:"_handleFileInputChange",value:function(e){e=this._createEvent(this,{event:e});this._files=this.element("field").attribute("files"),this.validate(),this._onFileInputChange(e),this._onChange()}},{key:"_onFileInputChange",value:function(e){}},{key:"_onBlur",value:function(e){if(!this._preventBlur)return _get4(_getPrototypeOf(t.prototype),"_onBlur",this).apply(this,arguments);this._preventBlur=!1}},{key:"_getRawValue",value:function(){var e=_toConsumableArray(this._files).map(function(e){return e.name});return n2.isEmpty(e)?this._multiple?[]:"":this._multiple?e:e[0]}},{key:"_setRawValue",value:function(e){this._refresh({value:!0})}},{key:"_refresh",value:function(e){var t=e.accept,t=void 0!==t&&t,i=e.multiple,i=void 0!==i&&i,n=e.multiline,n=void 0!==n&&n,s=e.value,s=void 0!==s&&s,e=n2.isEmpty(e);(e||t)&&this._refreshAccept(),(e||i)&&this._refreshMultiple(),(e||n)&&this._refreshMultiline(),(e||s)&&this._refreshValue()}},{key:"_refreshAccept",value:function(){this._rendered&&this.element("field").attribute("accept",this._getAcceptAttributeValue())}},{key:"_refreshMultiple",value:function(){this._rendered&&this.element("field").attribute("multiple",this._multiple)}},{key:"_refreshMultiline",value:function(){this._rendered&&(this.element("fileSelectorContainer").removeClass("slds-file-selector_images slds-file-selector_files"),this.element("fileSelectorContainer").addClass(this._getFileSelectorCls()))}},{key:"_refreshValue",value:function(){if(!n2.isEmpty(this._value))throw new Error("Setting a value is unsupported for the file selector as it can be a security risk trying to set values with directory paths.");this.element("field").attribute("value",this._value),this._files=[]}},{key:"_getFileSelectorCls",value:function(){return this._multiline?"slds-file-selector_images":"slds-file-selector_files"}},{key:"_getAcceptAttributeValue",value:function(){return n2.isNull(this._accept)?"":this._accept.join(",")}},{key:"_validateRequired",value:function(){return!n2.isEmpty(this._files)}},{key:"_validateCustom",value:function(){var e,t,i=this;return!(!n2.isEmpty(this._files)&&!n2.isEmpty(this._accept))||(e=_toConsumableArray(this._files).every(function(e){var t=".".concat(e.name.replace(/(.*)\./,""));return i._accept.includes(e.type)||i._accept.includes(t)}),t=this._accept.map(function(e){return e.replace(/\.|(.*).\//,"").toUpperCase()}),e)||"Please select a supported file type: ".concat(t.join(", "))}},{key:"_hasValidation",value:function(){return _get4(_getPrototypeOf(t.prototype),"_hasValidation",this).apply(this,arguments)||!n2.isEmpty(this._accept)}}]),t}(),n2.ui.component.field.LogicFilter=function(){_inherits(t,n2.ui.component.field.DataTable);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).apply(this,arguments),this._dataTableClass=n2.ui.component.field.logicFilter.Filters,this._fieldOptions=null,this._allowNotOperators=!0,this._includeFiscalPeriods=!1,this._logicHidden=!1,this._showLogicToggle=!1}},{key:"value",get:function(){return this._getValue()},set:function(e){e=n2.isUndefined(e.value)?{value:e}:e;this._setValue(e)}},{key:"fieldOptions",set:function(e){n2.compare(this._fieldOptions,e)||(this._fieldOptions=e,this._refreshFieldOptions())}},{key:"allowNotOperators",set:function(e){this._allowNotOperators!==e&&(this._allowNotOperators=e,this._refreshAllowNotOperators())}},{key:"includeFiscalPeriods",set:function(e){this._includeFiscalPeriods!==e&&(this._includeFiscalPeriods=e,this._refreshIncludeFiscalPeriods())}},{key:"loadComboOptions",set:function(e){this._loadComboOptions!==e&&(this._loadComboOptions=e)}},{key:"loadRelatedObjectFieldOptions",set:function(e){this._loadRelatedObjectFieldOptions!==e&&(this._loadRelatedObjectFieldOptions=e)}},{key:"logicHidden",set:function(e){this._logicHidden!==e&&(this._logicHidden=e,this._refreshLogicHidden())}},{key:"showLogicToggle",set:function(e){this._showLogicToggle!==e&&(this._showLogicToggle=e,this._refreshShowLogicToggle())}},{key:"_getDataTableConfig",value:function(){var e=_get4(_getPrototypeOf(t.prototype),"_getDataTableConfig",this).apply(this,arguments);return this._isDataDriven()||(e=n2.merge(e,{data:this._value.filters,logic:this._value.logic})),n2.merge(e,{columns:void 0,newRowData:void 0,fieldOptions:this._fieldOptions,allowNotOperators:this._allowNotOperators,includeFiscalPeriods:this._includeFiscalPeriods,logicHidden:this._logicHidden,showLogicToggle:this._showLogicToggle,loadComboOptions:this._loadComboOptions,loadRelatedObjectFieldOptions:this._loadRelatedObjectFieldOptions})}},{key:"_getDataTableDataDrivenConfig",value:function(){var e=n2.merge(_get4(_getPrototypeOf(t.prototype),"_getDataTableDataDrivenConfig",this).apply(this,arguments),{data:{bindPath:".filters",defaultValue:[]},logic:{bindPath:".logic"}});return this._showLogicToggle?n2.merge(e,{logicEnabled:{bindPath:".logicEnabled"}}):e}},{key:"_loadComboOptions",value:function(e,t){}},{key:"_loadRelatedObjectFieldOptions",value:function(e){}},{key:"_refreshFieldOptions",value:function(){this._components["data-table"].fieldOptions=this._fieldOptions}},{key:"_refreshAllowNotOperators",value:function(){this._components["data-table"].allowNotOperators=this._allowNotOperators}},{key:"_refreshIncludeFiscalPeriods",value:function(){this._components["data-table"].includeFiscalPeriods=this._includeFiscalPeriods}},{key:"_refreshLogicHidden",value:function(){this._components["data-table"].logicHidden=this._logicHidden}},{key:"_refreshShowLogicToggle",value:function(){this._components["data-table"].showLogicToggle=this._showLogicToggle}},{key:"_setValue",value:function(e){e.value,e.validate,e.silent,e.sync;this._isDataDriven()&&(this._components["data-table"].model=this._getDataBinding("value").dataItem),_get4(_getPrototypeOf(t.prototype),"_setValue",this).apply(this,arguments)}},{key:"_hasValueChanged",value:function(e){return!n2.compare(this.value,n2.merge({logic:this.value.logic,logicEnabled:this.value.logicEnabled},e))}},{key:"_setFieldValue",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.silent,i=void 0!==i&&i,n=t.sync,n=void 0===n||n,t=t.validate,t=void 0===t||t;this._isDataDriven()||(this._components["data-table"].data=e.filters,this._components["data-table"].setLogic(e.logic,{silent:i,sync:n,validate:t}),this._showLogicToggle&&(this._components["data-table"].logicEnabled=e.logicEnabled))}},{key:"_getValue",value:function(){return{filters:_get4(_getPrototypeOf(t.prototype),"_getValue",this).apply(this,arguments),logic:this._components["data-table"].logic,logicEnabled:this._components["data-table"].logicEnabled}}},{key:"_validateRequired",value:function(){return!n2.isEmpty(this.value.filters)}}]),t}(),n2.ui.component.field.Number=function(){_inherits(n,n2.ui.component.field.TextBox);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"_define",value:function(){_get4(_getPrototypeOf(n.prototype),"_define",this).call(this),this._fieldTemplate='{{#icon}}{{> iconTemplate}}{{/icon}}<input class="slds-input"{{#min}} min="{{min}}"{{/min}}{{#max}} max="{{max}}"{{/max}} step="{{step}}" id="{{id}}_field"{{#disabled}} disabled="disabled"{{/disabled}}{{#hasValidation}} aria-describedby="{{id}}_error"{{#required}} required="required"{{/required}}{{/hasValidation}} type="{{type}}"{{#placeholder}} placeholder="{{placeholder}}"{{/placeholder}} value="{{value}}" />{{#allowClear}}{{> clearButtonTemplate}}{{/allowClear}}',this._value="",this._defaultValue=0,this.max=null,this.min=null,this.step=1,this.shouldRoundInvalidValues=!1}},{key:"_onDefined",value:function(){if(this._defaultValue=this.required?this._defaultValue:"",!this.required&&this._isEmptyValue(this._value))this._value=this._defaultValue;else if(this.required&&this._isEmptyValue(this._value))this._value=n2.isNull(this.min)?this._defaultValue:this.min;else{if(!n2.isFiniteNumber(this._value))throw new Error("Invalid value set to number field.");this._value=this._getValueInRange(Number(this._value))}_get4(_getPrototypeOf(n.prototype),"_onDefined",this).call(this)}},{key:"_getValueInRange",value:function(e){return this._isLessThanMin(e)?this.min:this._isMoreThanMax(e)?this.max:e}},{key:"_isEmptyValue",value:function(e){return n2.isNull(this._value)||""===this._value}},{key:"_setValue",value:function(e){var t=e.value,i=e.validate,i=void 0===i||i,e=e.silent,e=void 0!==e&&e;if(""!==(t=n2.isNull(t)?"":t)){if(!n2.isFiniteNumber(t))throw new Error("Incorrect number value set: ".concat(t));t=Number(t)}_get4(_getPrototypeOf(n.prototype),"_setValue",this).call(this,{value:t,validate:i,silent:e})}},{key:"_getValue",value:function(){var e=this._rendered?this._getRawValue():this._value;return""===e?null:Number(e)}},{key:"_getRawValue",value:function(){var e=_get4(_getPrototypeOf(n.prototype),"_getRawValue",this).call(this);return""===e?e:Number(e)}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(n.prototype),"_getTemplateData",this).call(this),{type:"number",max:this.max,min:this.min,step:this.step,hasValidation:!0})}},{key:"clear",value:function(){_get4(_getPrototypeOf(n.prototype),"clear",this).call(this),""!==this._value&&(this.value=this._getValueInRange(Number(this._value)))}},{key:"_validateRequired",value:function(){return!n2.isNull(this.value)}},{key:"_validateCustom",value:function(){if(!n2.isNull(this.value)){if(!n2.isFiniteNumber(this.value))return"The value needs to be a number";if(this.shouldRoundInvalidValues)this._updateInvalidValue();else{if(this._isLessThanMin(this.value))return"The value is below the minimum, "+this.min;if(this._isMoreThanMax(this.value))return"The value is above the maximum, "+this.max}}return!0}},{key:"_isLessThanMin",value:function(e){return!n2.isNull(this.min)&&e<this.min}},{key:"_isMoreThanMax",value:function(e){return!n2.isNull(this.max)&&e>this.max}},{key:"_isInvalidStep",value:function(e){return!n2.isNull(this.step)&&e%this.step}},{key:"_updateInvalidValue",value:function(){this._isLessThanMin(this.value)?this.value=this.min:this._isMoreThanMax(this.value)?this.value=this.max:this._isInvalidStep(this.value)&&this._roundValueToNearestStep()}},{key:"_roundValueToNearestStep",value:function(){this.value=Math.round(this.value/this.step)*this.step}}]),n}(),n2.ui.component.field.PillList=function(){_inherits(n,n2.ui.component.Field);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"_define",value:function(){_get4(_getPrototypeOf(n.prototype),"_define",this).call(this),this.EVENTS=n2.merge(this.EVENTS,{pillAdd:function(e,t){},pillRemove:function(e,t){}}),this.SELECTORS=n2.merge(this.SELECTORS,{clearLink:".n2_clear-link",message:".n2_message",duplicateMessage:".n2_duplicate-message",focusTarget:"input"}),this._template='<div class="slds-form-element n2-component n2-pill_list_field {{cls}}{{#hidden}} {{hideCls}}{{/hidden}}" id="{{id}}"{{#title}} title="{{title}}"{{/title}}>\n            <div class="slds-grid">\n                {{> labelTemplate}}\n                {{> helpIconTemplate}}\n                {{#allowClear}}<div class="slds-col slds-text-align_right"><a id="{{id}}_clear-pills" class="n2_clear-link">Clear All</a></div>{{/allowClear}}\n            </div>\n            <div class="slds-form-element__control">\n                {{> fieldTemplate}}\n                {{> errorTemplate}}\n            </div>\n            <div class="slds-form-element__help {{hideCls}} n2_message" id="{{id}}_message"></div>\n            <div class="slds-form-element__help {{hideCls}} n2_duplicate-message" id="{{id}}_message-duplicates"></div>\n        </div>',this.delimiter=n2.ui.enum.Key.SEMI_COLON,this.minHeight=null,this.allowClear=!1,this._defaultValue=[],this._maxLength=null,this._maxPillLength=null,this._max=null}},{key:"maxLength",set:function(e){n2.compare(this._maxLength,e)||(this._maxLength=e,this._refresh({maxLength:!0}))}},{key:"maxPillLength",set:function(e){n2.compare(this._maxPillLength,e)||(this._maxPillLength=e,this._refresh({maxPillLength:!0}))}},{key:"max",set:function(e){n2.compare(this._max,e)||(this._max=e,this._refresh({max:!0}))}},{key:"editablePillList",get:function(){return this._components["editable-pills"]}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(n.prototype),"_onDefined",this).call(this),this._addEditablePillList()}},{key:"_getValue",value:function(){var t=[];return this.editablePillList.forEachPill(function(e){t.push(e.value)}),t}},{key:"_setValue",value:function(e){var t=e.value,t=void 0===t?"":t,i=e.text,i=void 0===i?null:i,e=(e.validate,e.silent),e=void 0!==e&&e;this.editablePillList.removePills({silent:e}),n2.isEmpty(t)||(n2.isNull(i)?this.editablePillList.insertPills(t,{silent:e}):this.editablePillList.insertPills({text:i,value:t,silent:e})),_get4(_getPrototypeOf(n.prototype),"_setValue",this).apply(this,arguments)}},{key:"_setRawValue",value:function(){}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(n.prototype),"_getTemplateData",this).call(this),{allowClear:this.allowClear})}},{key:"_addEditablePillList",value:function(){var i=this;this.insert(new n2.ui.component.field.pillList.EditablePillList({id:"editable-pills",cls:"slds-pill_container slds-is-relative",renderTo:{target:".slds-form-element__control",position:"afterbegin"},delimiter:this.delimiter,pills:this._value,minHeight:this.minHeight,min:0,max:this._max,maxLength:this._maxLength,maxPillLength:this._maxPillLength,disabled:this._disabled,listeners:{duplicateFilterStart:function(){i._setDuplicateMessage("")},duplicatesFound:function(e,t){i._setDuplicateMessage('The following items were not added as they already exist: "'.concat(t.join('", "'),'"'))},remove:function(e,t){i._setDuplicateMessage(""),i._onChange(),i.fire("pillRemove",i,t)},add:function(e,t){i.validate(),i._onChange(),i.fire("pillAdd",i,t)}}}))}},{key:"_bindEvents",value:function(){var t=this;_get4(_getPrototypeOf(n.prototype),"_bindEvents",this).call(this),this.allowClear&&this.element("clearLink").listen("click",function(e){return t._onClearLinkClicked(e)})}},{key:"_onClearLinkClicked",value:function(e){this.editablePillList.removePills(),e.preventDefault()}},{key:"_refresh",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.maxLength,t=void 0!==t&&t,i=e.maxPillLength,i=void 0!==i&&i,n=e.max,n=void 0!==n&&n,e=n2.isEmpty(e);(t||e)&&this._refreshMaxLength(),(i||e)&&this._refreshMaxPillLength(),(n||e)&&this._refreshMax()}},{key:"_refreshMaxLength",value:function(){this.editablePillList.maxLength=this._maxLength}},{key:"_refreshMaxPillLength",value:function(){this.editablePillList.maxPillLength=this._maxPillLength}},{key:"_refreshMax",value:function(){this.editablePillList.max=this._max}},{key:"_setDuplicateMessage",value:function(e){this.rendered&&(this.element("duplicateMessage").text(e),n2.isEmpty(e)?this.element("duplicateMessage").hide():this.element("duplicateMessage").show())}},{key:"setMessage",value:function(e){this.rendered&&(this.element("message").text(e),n2.isEmpty(e)?this.element("message").hide():this.element("message").show())}},{key:"_validateRequired",value:function(){var e=!1;return this.editablePillList.forEachPill(function(){return!(e=!0)}),e}},{key:"_disable",value:function(){_get4(_getPrototypeOf(n.prototype),"_disable",this).apply(this,arguments),this.editablePillList.disabled=!0}},{key:"_enable",value:function(){_get4(_getPrototypeOf(n.prototype),"_enable",this).apply(this,arguments),this.editablePillList.disabled=!1}}]),n}(),n2.ui.component.field.Radio=function(){_inherits(t,n2.ui.component.field.Checkbox);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this._template='<div class="slds-form-element n2-component {{cls}}" id="{{id}}"{{#title}} title="{{title}}"{{/title}}><div class="slds-form-element__control {{iconContainerCls}}"><span class="slds-radio">{{> fieldTemplate}}{{> labelTemplate}}{{> helpIconTemplate}}</span>{{> errorTemplate}}</div></div>',this._labelTemplate='<label class="slds-radio__label {{label.cls}}" for="{{id}}_radio" title="{{label.text}}"><span class="slds-radio_faux"></span><span class="slds-form-element__label{{#label.hidden}} {{assistiveTextCls}}{{/label.hidden}}">{{label.text}}</span></label>',this._fieldTemplate='{{#required}}<abbr title="Required" class="slds-required">*</abbr>{{/required}}<input class="n2__radio" id="{{id}}_radio" type="radio" name="{{fieldName}}" value="{{fieldValue}}"{{#value}} checked="checked"{{/value}}{{#fieldDescribedBy}} aria-describedby="{{fieldDescribedBy}}"{{/fieldDescribedBy}}{{#required}} required="required"{{/required}}{{#disabled}} disabled="disabled"{{/disabled}}/>'}},{key:"_getTemplateData",value:function(){var e=n2.isNull(this.parent)?"".concat(this.domId):"".concat(this.parent.domId,"_radio");return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplateData",this).call(this),{fieldName:e})}}]),t}(),n2.ui.component.field.RadioButton=function(){_inherits(t,n2.ui.component.field.Radio);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this._template='<span id="{{id}}" class="slds-button slds-radio_button{{#hidden}} {{hideCls}}{{/hidden}} {{cls}}">{{> fieldTemplate}}{{> labelTemplate}}</span>',this._labelTemplate='<label class="slds-radio_button__label {{label.cls}}" for="{{id}}_radio" title="{{label.text}}"><span class="slds-radio_faux{{#label.hidden}} {{assistiveTextCls}}{{/label.hidden}}">{{label.text}}</span></label>'}}]),t}(),n2.ui.component.field.RadioGroup=function(){_inherits(t,n2.ui.component.field.CheckboxGroup);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this._defaultValue=""}},{key:"_addOption",value:function(e,t){var i=this,n=this._value===e.value;this.insert(new n2.ui.component.field.Radio({id:"option-"+t,label:e.label,fieldValue:e.value,fieldDescribedBy:"n2__"+this.id+"_error",renderTo:this._getOptionRenderTo(),value:n,disabled:this.disabled,listeners:{change:function(){return i._onChange()}}}))}},{key:"_getRawValue",value:function(){var t="";return this._forEachOptionComponent(function(e){e.isChecked()&&(t=e.value)}),t}},{key:"_setRawValue",value:function(t){this._forEachOptionComponent(function(e){e.value={value:t===e.fieldValue,silent:!0}})}}]),t}(),n2.ui.component.field.RadioButtonGroup=function(){_inherits(t,n2.ui.component.field.RadioGroup);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this._template='<fieldset class="slds-form-element n2-component{{#hidden}} {{hideCls}}{{/hidden}} {{cls}}" id="{{id}}">{{> labelTemplate}}{{> helpIconTemplate}}<div class="slds-form-element__control {{iconContainerCls}}" id="{{id}}_group"><div class="slds-radio_button-group"></div>{{> errorTemplate}}</div></fieldset>'}},{key:"_addOption",value:function(e,t){var i=this,n=this._value===e.value;this.insert(new n2.ui.component.field.RadioButton({id:"option-"+t,label:e.label,fieldValue:e.value,fieldDescribedBy:"n2__"+this.id+"_error",renderTo:".slds-radio_button-group",value:n,disabled:this.disabled,listeners:{change:function(){return i._onChange()}}}))}}]),t}(),n2.ui.component.field.Slider=function(){_inherits(n,n2.ui.component.field.Number);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"_define",value:function(){_get4(_getPrototypeOf(n.prototype),"_define",this).call(this),this.EVENTS=n2.merge(this.EVENTS,{input:function(e){}}),this.SELECTORS=n2.merge(this.SELECTORS,{container:".slds-form-element__control",fieldContainer:".slds-slider",sliderValue:".slds-slider__value",numberInputContainer:".n2-slider-number-input"}),this._template='<div class="slds-form-element n2-component{{#hidden}} {{hideCls}}{{/hidden}} {{cls}}" id="{{id}}"{{#title}} title="{{title}}"{{/title}}>{{> labelTemplate}}{{> helpIconTemplate}}<div class="slds-form-element__control {{iconContainerCls}}">{{> fieldTemplate}}{{> errorTemplate}}</div></div>',this._labelTemplate='<label class="slds-form-element__label{{#label.hidden}} {{assistiveTextCls}}{{/label.hidden}} {{label.cls}}" for="{{id}}_field"><span class="slds-slider-label"><span class="slds-slider-label__label">{{#required}}<abbr title="Required" class="slds-required">*</abbr> {{/required}}{{label.text}}</span>{{#label.rangeText}}<span class="slds-slider-label__range">{{label.rangeText}}</span>{{/label.rangeText}}</span></label>',this._fieldTemplate='<div class="slds-slider"><input type="range"  id="{{id}}_field"{{#disabled}} disabled="disabled"{{/disabled}}{{#hasValidation}} aria-describedby="{{id}}_error"{{/hasValidation}} value="{{value}}" class="slds-slider__range"{{#min}} min="{{min}}"{{/min}}{{#max}} max="{{max}}"{{/max}} step="{{step}}" />{{^showNumberInput}}<span class="slds-slider__value" aria-hidden="true">{{value}}</span>{{/showNumberInput}}{{#showNumberInput}}<div class="n2-slider-number-input slds-p-left_small"></div>{{/showNumberInput}}</div>',this._numberInput=null,this._showNumberInput=!1,this.required=!0}},{key:"showNumberInput",set:function(e){this._showNumberInput!==e&&(this._showNumberInput=e,this.rendered)&&this._refresh()}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(n.prototype),"_onDefined",this).call(this),this._showNumberInput&&(this._numberInput=this._insertNumberInput())}},{key:"_insertNumberInput",value:function(){return this.insert(new n2.ui.component.field.Number({id:"number-input",label:{hidden:!0},disabled:this._disabled,min:this.min,max:this.max,renderTo:this.SELECTORS.numberInputContainer,step:this.step,value:this.value,shouldRoundInvalidValues:!0}))}},{key:"_bindEvents",value:function(){var i=this;_get4(_getPrototypeOf(n.prototype),"_bindEvents",this).call(this),this.element("field").listen("input",function(e){i._onInput(e),i.fire("input",i)}),this.element("field").listen("change",function(e){i._onInput(e)}),this.element("numberInputContainer")&&(this.element("numberInputContainer").listen("input",function(e){i._onNumberInput(e),i.fire("input",i)}),this.element("numberInputContainer").listen("change",function(e){var t=Number(e.target.value);n2.compare(i.value,t)||i._onNumberChange(e)}))}},{key:"_onInput",value:function(e){this.element("sliderValue")&&this.element("sliderValue").text(e.target.value),this._numberInput&&(this._numberInput.value=e.target.value),this._onChange()}},{key:"_onNumberInput",value:function(e){this._setRawValue(e.target.value),this._onChange()}},{key:"_onNumberChange",value:function(e){this.value=e.target.value}},{key:"reset",value:function(){_get4(_getPrototypeOf(n.prototype),"reset",this).call(this),this.element("sliderValue").text(this._initialValue)}},{key:"_setValue",value:function(e){var t=e.value,t=void 0===t?0:t,i=e.validate,i=void 0===i||i,e=e.silent,e=void 0!==e&&e;_get4(_getPrototypeOf(n.prototype),"_setValue",this).call(this,{value:t,validate:i,silent:e}),this._rendered&&this._refreshValue()}},{key:"_refreshValue",value:function(){this.element("sliderValue")&&this.element("sliderValue").text(this.value),this._numberInput&&(this._numberInput.value=this.value)}},{key:"_setRawValue",value:function(e){e=""===e?0:e,_get4(_getPrototypeOf(n.prototype),"_setRawValue",this).call(this,e),this.element("sliderValue")&&this.element("sliderValue").text(e)}},{key:"_resolveDataBinding",value:function(e,t){_get4(_getPrototypeOf(n.prototype),"_resolveDataBinding",this).apply(this,arguments),"value"===e&&this._showNumberInput&&(this._numberInput.value={value:t.value,silent:!0})}},{key:"_disableChildren",value:function(){_get4(_getPrototypeOf(n.prototype),"_disableChildren",this).call(this),this._numberInput&&(this._numberInput.disabled=!0)}},{key:"_enableChildren",value:function(){_get4(_getPrototypeOf(n.prototype),"_disableChildren",this).call(this),this._numberInput&&(this._numberInput.disabled=!1)}},{key:"_refresh",value:function(){n2.isNull(this.element("fieldContainer"))||this.element("fieldContainer").destroy();var e=n2.ui.Template.render(this._fieldTemplate,this._getTemplateData());this.element("container").insert(e,"afterbegin"),this._showNumberInput&&(this._numberInput=this._insertNumberInput()),this._elementCache={},this._bindEvents()}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(n.prototype),"_getTemplateData",this).call(this),{showNumberInput:this._showNumberInput})}}]),n}(),n2.ui.component.field.TimePicker=function(){_inherits(t,n2.ui.component.Field);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this.REQUIRED_MEMBERS=null,this._defaultValue=[0,0],this._fieldTemplate='<span class="n2_time-colon">:</span>',this._componentCls="n2-time-picker",this._MERIDIEM_OFFSETS={am:0,pm:12,"am+1":24},this._minTime=[0,0],this._includesNextMorning=!1,this._selectedHour=0,this._minHour=0}},{key:"minTime",set:function(e){this._minTime!==e&&(this._minTime=e,this._refresh())}},{key:"includesNextMorning",set:function(e){this._includesNextMorning!==e&&(this._includesNextMorning=e,this._refresh())}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(t.prototype),"_onDefined",this).call(this),this._minHour=this._getMinHour(),this._selectedHour=this._getHourValue(),this._insertHoursCombo(),this._insertMinutesCombo(),this._insertMeridiemCombo()}},{key:"_insertHoursCombo",value:function(){var e=this;return this.insert(new n2.ui.component.field.Combo({id:"hours",cls:"n2_time-combo n2_hours",renderTo:{target:this.SELECTORS.fieldContainer,position:"afterBegin"},label:{text:"Hours",hidden:!0},lazyRender:!0,required:!0,sort:!1,options:this._getHourOptions(),value:this._getHourDisplayValue(),listeners:{change:function(){return e._onTimeChange()}}}))}},{key:"_insertMinutesCombo",value:function(){var e=this;return this.insert(new n2.ui.component.field.Combo({id:"minutes",cls:"n2_time-combo n2_minutes",renderTo:{target:this.SELECTORS.fieldContainer,position:"beforeEnd"},label:{text:"Minutes",hidden:!0},lazyRender:!0,placeholder:null,sort:!1,options:this._getMinuteOptions(),value:this._getMinuteValue(),listeners:{change:function(){return e._onTimeChange()}}}))}},{key:"_insertMeridiemCombo",value:function(){var e=this;return this.insert(new n2.ui.component.field.Combo({id:"meridiem",cls:"n2_time-combo n2_meridiem",renderTo:{target:this.SELECTORS.fieldContainer,position:"beforeEnd"},label:{text:"Meridiem",hidden:!0},lazyRender:!0,required:!0,sort:!1,options:this._getMeridiemOptions(),value:this._getMeridiemValue(),listeners:{change:function(){return e._onTimeChange()}}}))}},{key:"_getHourOptions",value:function(){for(var e=[],t=this._getFirstHour();t<12;t++){var i=0===t?12:t;e.push({value:i,label:i.toString()})}return e}},{key:"_getFirstHour",value:function(){var e=0;return e=this._getMeridiemForHour(this._selectedHour)===this._getMeridiemForHour(this._minHour)?this._minHour%12:e}},{key:"_getHourValue",value:function(){var e=n2.isArray(this._value)?this._value[0]:0,t=this._minHour,i=this._getMaxHour();return n2.isFiniteNumber(e)?Math.min(i,Math.max(t,e)):t}},{key:"_getMinHour",value:function(){var e=n2.isFiniteNumber(this._minTime[0])?this._minTime[0]:0,e=Math.max(e,0),t=this._getMaxHour();return Math.min(t,e)}},{key:"_getMaxHour",value:function(){return this._includesNextMorning?35:23}},{key:"_getMeridiemForHour",value:function(e){return e<this._MERIDIEM_OFFSETS.pm?"am":e<this._MERIDIEM_OFFSETS["am+1"]?"pm":this._includesNextMorning?"am+1":null}},{key:"_getHourDisplayValue",value:function(){return this._selectedHour%12||12}},{key:"_getMinuteOptions",value:function(){for(var e=[],t=this._getFirstMinute();t<60;t++){var i=t<10?"0".concat(t):t;e.push({value:t,label:i.toString()})}return e}},{key:"_isMinimumHourSelected",value:function(){var e=this._getMeridiemForHour(this._selectedHour),t=this._getMeridiemForHour(this._minHour);return this._selectedHour===this._minHour&&e===t}},{key:"_getFirstMinute",value:function(){var e=this._getMinMinute();return this._isMinimumHourSelected()?e:0}},{key:"_getMinMinute",value:function(){var e=n2.isFiniteNumber(this._minTime[1])?this._minTime[1]:0,e=Math.max(e,0);return Math.min(59,e)}},{key:"_getMinuteValue",value:function(){var e=n2.isArray(this._value)?this._value[1]:0,t=this._getFirstMinute();return n2.isFiniteNumber(e)?Math.min(59,Math.max(t,e)):t}},{key:"_getMeridiemOptions",value:function(){var e=this._minHour,t=[];return e<this._MERIDIEM_OFFSETS.pm&&t.push("am"),e<this._MERIDIEM_OFFSETS["am+1"]&&t.push("pm"),this._includesNextMorning&&t.push("am+1"),t}},{key:"_getMeridiemValue",value:function(){return this._getMeridiemForHour(this._selectedHour)}},{key:"_onTimeChange",value:function(){var e=this._getConvertedHourDisplayValue(),t=this._components.minutes.value;this._value=[e,t],this._refresh(),this._onChange(),this.validate()}},{key:"_getConvertedHourDisplayValue",value:function(){var e=this._components.hours.value,t=this._components.meridiem.value;return 12===e?this._MERIDIEM_OFFSETS[t]:e+this._MERIDIEM_OFFSETS[t]}},{key:"_setFieldValue",value:function(){this._refresh()}},{key:"_getValue",value:function(){var e=this._getConvertedHourDisplayValue(),t=this._components.minutes.value;return n2.isFiniteNumber(e)&&n2.isFiniteNumber(t)?[e,t]:null}},{key:"_refresh",value:function(){this._minHour=this._getMinHour(),this._selectedHour=this._getHourValue(),this._components.meridiem.options=this._getMeridiemOptions(),this._components.hours.options=this._getHourOptions(),this._components.minutes.options=this._getMinuteOptions(),this._components.hours.value={value:this._getHourDisplayValue(),silent:!0},this._components.minutes.value={value:this._getMinuteValue(),silent:!0},this._components.meridiem.value={value:this._getMeridiemValue(),silent:!0},this._value=[this._getConvertedHourDisplayValue(),this._components.minutes.value]}},{key:"_validateRequired",value:function(){var e=this._components.hours.value,e=1<=e&&e<=12,t=this._components.minutes.value,t=0<=t&&t<=59,i=this._components.meridiem.value,i=n2.isFiniteNumber(this._MERIDIEM_OFFSETS[i]);return e&&t&&i}}]),t}(),n2.ui.component.illustration.FishingDeals=n2.stripIndent('<svg class="slds-illustration__svg" viewBox="0 0 466 297" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g transform="translate(-69.000000, -68.000000)">\n            <g>\n            <g transform="translate(455.000000, 172.000000) scale(-1, 1) translate(-455.000000, -172.000000) translate(377.000000, 153.000000)">\n                <polyline vector-effect="non-scaling-stroke" class="slds-illustration__stroke-secondary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" points="26 36 72.5 0 105.5 27"></polyline>\n                <polyline vector-effect="non-scaling-stroke" class="slds-illustration__stroke-secondary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" points="96 17 105.5 9 138 36"></polyline>\n                <path vector-effect="non-scaling-stroke" d="M0,36.5 L156,36.5" class="slds-illustration__stroke-secondary" stroke-width="3" stroke-linecap="round"></path>\n                <path vector-effect="non-scaling-stroke" d="M34.202166,22.8278095 L37.207834,33.1133915 L30.8916038,28.4131636 L32.2719085,22.8668 C32.4052855,22.3308624 32.9478721,22.0045226 33.4838096,22.1378996 C33.8288998,22.223781 34.102419,22.486469 34.202166,22.8278095 Z"\n                class="slds-illustration__fill-secondary" transform="translate(34.049719, 27.610728) scale(-1, 1) translate(-34.049719, -27.610728)"></path>\n                <path vector-effect="non-scaling-stroke" d="M28.9755366,18.8278095 L34.0379951,36.1518555 L29.5001232,33.2627202 L24.2782891,29.9851658 L27.0452792,18.8668 C27.1786561,18.3308624 27.7212427,18.0045226 28.2571802,18.1378996 C28.6022704,18.223781 28.8757896,18.486469 28.9755366,18.8278095 Z"\n                class="slds-illustration__fill-secondary" transform="translate(29.158142, 27.129960) scale(-1, 1) translate(-29.158142, -27.129960)"></path>\n                <path vector-effect="non-scaling-stroke" d="M134.935531,21.7547479 L139.204202,37 L130.811328,29.6057303 L133.009603,21.7547479 C133.158515,21.2229175 133.710367,20.9125013 134.242197,21.0614138 C134.57853,21.1555869 134.841358,21.4184152 134.935531,21.7547479 Z"\n                class="slds-illustration__fill-secondary"></path>\n            </g>\n            <g transform="translate(71.000000, 128.000000)">\n                <g>\n                <path vector-effect="non-scaling-stroke" d="M237,61.5 L249,61.5" class="slds-illustration__stroke-secondary" stroke-width="3" stroke-linecap="round"></path>\n                <path vector-effect="non-scaling-stroke" d="M0,61.5 L230,61.5" class="slds-illustration__stroke-secondary" stroke-width="3" stroke-linecap="round"></path>\n                <path vector-effect="non-scaling-stroke" d="M34.9102011,32.0436939 L38.3925781,48.4296875 L26.453125,58.6445313 L32.9606296,32.0141932 C33.0917307,31.4776944 33.6329274,31.1490548 34.1694262,31.2801559 C34.5424771,31.3713162 34.8303699,31.6680556 34.9102011,32.0436939 Z"\n                    class="slds-illustration__fill-secondary"></path>\n                <path vector-effect="non-scaling-stroke" d="M191.962964,27.4391572 L198,49 L186.770218,39.1063642 L190.037036,27.4391572 C190.185948,26.9073269 190.7378,26.5969106 191.26963,26.7458231 C191.605963,26.8399963 191.868791,27.1028246 191.962964,27.4391572 Z"\n                    class="slds-illustration__fill-secondary"></path>\n                <path vector-effect="non-scaling-stroke" d="M39.9662349,37.3583594 L42.6016149,47.2410342 L40.7070312,48.7349783 L35,48.7349783 L38.0337651,37.3583594 C38.1760682,36.8247225 38.7240258,36.5074839 39.2576627,36.6497871 C39.6036917,36.7420615 39.8739605,37.0123303 39.9662349,37.3583594 Z"\n                    class="slds-illustration__fill-secondary"></path>\n                <polyline vector-effect="non-scaling-stroke" class="slds-illustration__stroke-secondary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" points="25 61 99.5 0 157.5 45"></polyline>\n                <polyline vector-effect="non-scaling-stroke" class="slds-illustration__stroke-secondary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" points="140 30.9433962 157.5 16 212 60"></polyline>\n                </g>\n            </g>\n            <g transform="translate(145.000000, 69.000000)" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3">\n                <g>\n                <path vector-effect="non-scaling-stroke" d="M44,17.5 L63,17.5 C62.2789714,12.0723971 64.081543,7.53186978 68.4077148,3.87841797 C73.3754883,-0.195556641 79.2734375,0.717773438 82.440918,2.12353516 C85.6083984,3.52929687 87.9606934,5.46069336 89.5913086,9.10524041 C90.2822266,10.6397351 90.7517904,11.9379883 91,13"></path>\n                <path vector-effect="non-scaling-stroke" d="M83,20.5 C84.0558268,16.8461914 86.2227376,14.4572754 89.5007324,13.333252 C94.4177246,11.6472168 99.0800781,13.8925781 100.942383,16.1518555 C102.804687,18.4111328 103.39502,20.2260742 103.746582,22.1201172 C103.980957,23.3828125 104.06543,24.8427734 104,26.5 C108.141764,26.3313802 110.918945,27.1647135 112.331543,29 C114.040039,31.1936035 114.215332,33.817627 113.593018,35.75 C112.970703,37.682373 110.894531,40.5 107,40.5 L28,40.5"></path>\n                <path vector-effect="non-scaling-stroke" d="M18,27.5 L83.0004985,27.5"></path>\n                <path vector-effect="non-scaling-stroke" d="M0,27.5 L8,27.5"></path>\n                </g>\n            </g>\n            <g transform="translate(297.000000, 109.000000)" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3">\n                <path vector-effect="non-scaling-stroke" d="M44,17.5 L63,17.5 C62.2789714,12.0723971 64.081543,7.53186978 68.4077148,3.87841797 C73.3754883,-0.195556641 79.2734375,0.717773438 82.440918,2.12353516 C85.6083984,3.52929687 87.9606934,5.46069336 89.5913086,9.10524041 C90.2822266,10.6397351 90.7517904,11.9379883 91,13"></path>\n                <path vector-effect="non-scaling-stroke" d="M83,20.5 C84.0558268,16.8461914 86.2227376,14.4572754 89.5007324,13.333252 C94.4177246,11.6472168 99.0800781,13.8925781 100.942383,16.1518555 C102.804687,18.4111328 103.39502,20.2260742 103.746582,22.1201172 C103.980957,23.3828125 104.06543,24.8427734 104,26.5 C108.141764,26.3313802 110.918945,27.1647135 112.331543,29 C114.040039,31.1936035 114.215332,33.817627 113.593018,35.75 C112.970703,37.682373 110.894531,40.5 107,40.5 L28,40.5"></path>\n                <path vector-effect="non-scaling-stroke" d="M18,27.5 L83.0004985,27.5"></path>\n                <path vector-effect="non-scaling-stroke" d="M0,27.5 L8,27.5"></path>\n            </g>\n            <g transform="translate(113.000000, 75.000000)">\n                <g transform="translate(217.000000, 0.000000)">\n                <path vector-effect="non-scaling-stroke" d="M20.5,162.789062 L20.5,174.839062" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round"></path>\n                <path vector-effect="non-scaling-stroke" d="M20.5,150.789062 L20.5,153.839063" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round"></path>\n                <path vector-effect="non-scaling-stroke" d="M20.5,0.772022494 L20.5,111.841169" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round"></path>\n                <circle vector-effect="non-scaling-stroke" class="slds-illustration__stroke-primary" stroke-width="3" cx="20.5" cy="181" r="6"></circle>\n                <path vector-effect="non-scaling-stroke" d="M20.5,188 C20.5,200 20.5,209.666667 20.5,217 C20.5,228 0.5,228 0.5,217 C0.5,209.666667 0.5,205.282924 0.5,203.848771 L7,211" class="slds-illustration__stroke-primary" stroke-width="3"\n                    stroke-linecap="round"></path>\n                <path vector-effect="non-scaling-stroke" d="M20.5,128 C27.127417,128 32.5,125.627417 32.5,123 C32.5,116.372583 27.127417,111 20.5,111 C13.872583,111 8.5,116.372583 8.5,123 C8.5,126.627417 13.872583,128 20.5,128 Z" class="slds-illustration__fill-primary"></path>\n                </g>\n                <g transform="translate(0.000000, 134.000000)" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-linejoin="round" stroke-width="3">\n                <path vector-effect="non-scaling-stroke" d="M66.5016961,5.72253485 C59.2581641,7.22907384 54.7616802,0 54.7616802,0 L54.7530053,0 C54.7530053,0 51.3235326,5.94519033 44.2795231,5.94519033 C37.5304598,5.94519033 33.8262823,0 33.8262823,0 L33.8147158,0 C33.8147158,0 30.3910264,5.94519033 23.3470169,5.94519033 C16.5950619,5.94519033 12.8937761,0 12.8937761,0 L12.8822096,0 C12.8822096,0 7.08738399,7.34763065 0,5.84109166"></path>\n                <path vector-effect="non-scaling-stroke" d="M129.501696,5.72253485 C122.258164,7.22907384 117.76168,0 117.76168,0 L117.753005,0 C117.753005,0 114.323533,5.94519033 107.279523,5.94519033 C100.53046,5.94519033 96.8262823,0 96.8262823,0 L96.8147158,0 C96.8147158,0 93.3910264,5.94519033 86.3470169,5.94519033 C79.5950619,5.94519033 75.8937761,0 75.8937761,0 L75.8822096,0 C75.8822096,0 70.087384,7.34763065 63,5.84109166"></path>\n                <path vector-effect="non-scaling-stroke" d="M192.501696,5.72253485 C185.258164,7.22907384 180.76168,0 180.76168,0 L180.753005,0 C180.753005,0 177.323533,5.94519033 170.279523,5.94519033 C163.53046,5.94519033 159.826282,0 159.826282,0 L159.814716,0 C159.814716,0 156.391026,5.94519033 149.347017,5.94519033 C142.595062,5.94519033 138.893776,0 138.893776,0 L138.88221,0 C138.88221,0 133.087384,7.34763065 126,5.84109166"></path>\n                <path vector-effect="non-scaling-stroke" d="M259.501696,5.72253485 C252.258164,7.22907384 247.76168,0 247.76168,0 L247.753005,0 C247.753005,0 244.323533,5.94519033 237.279523,5.94519033 C230.53046,5.94519033 226.826282,0 226.826282,0 L226.814716,0 C226.814716,0 223.391026,5.94519033 216.347017,5.94519033 C209.595062,5.94519033 205.893776,0 205.893776,0 L205.88221,0 C205.88221,0 200.087384,7.34763065 193,5.84109166"></path>\n                <path vector-effect="non-scaling-stroke" d="M322.501696,5.72253485 C315.258164,7.22907384 310.76168,0 310.76168,0 L310.753005,0 C310.753005,0 307.323533,5.94519033 300.279523,5.94519033 C293.53046,5.94519033 289.826282,0 289.826282,0 L289.814716,0 C289.814716,0 286.391026,5.94519033 279.347017,5.94519033 C272.595062,5.94519033 268.893776,0 268.893776,0 L268.88221,0 C268.88221,0 263.087384,7.34763065 256,5.84109166"></path>\n                <path vector-effect="non-scaling-stroke" d="M209.501696,25.7225349 C202.258164,27.2290738 197.76168,20 197.76168,20 L197.753005,20 C197.753005,20 194.323533,25.9451903 187.279523,25.9451903 C180.53046,25.9451903 176.826282,20 176.826282,20 L176.814716,20 C176.814716,20 173.391026,25.9451903 166.347017,25.9451903 C159.595062,25.9451903 155.893776,20 155.893776,20 L155.88221,20 C155.88221,20 150.087384,27.3476307 143,25.8410917"></path>\n                <path vector-effect="non-scaling-stroke" d="M405.501696,5.72253485 C398.258164,7.22907384 393.76168,0 393.76168,0 L393.753005,0 C393.753005,0 390.323533,5.94519033 383.279523,5.94519033 C376.53046,5.94519033 372.826282,0 372.826282,0 L372.814716,0 C372.814716,0 369.391026,5.94519033 362.347017,5.94519033 C355.595062,5.94519033 351.893776,0 351.893776,0 L351.88221,0 C351.88221,0 346.087384,7.34763065 339,5.84109166"></path>\n                <path vector-effect="non-scaling-stroke" d="M335.501696,25.7225349 C328.258164,27.2290738 323.76168,20 323.76168,20 L323.753005,20 C323.753005,20 320.323533,25.9451903 313.279523,25.9451903 C306.53046,25.9451903 302.826282,20 302.826282,20 L302.814716,20 C302.814716,20 299.391026,25.9451903 292.347017,25.9451903 C285.595062,25.9451903 281.893776,20 281.893776,20 L281.88221,20 C281.88221,20 276.087384,27.3476307 269,25.8410917"></path>\n                </g>\n            </g>\n            <g transform="translate(373.000000, 263.000000)">\n                <g transform="translate(1.000000, 46.000000)" fill="#FFFFFF">\n                <polygon vector-effect="non-scaling-stroke" points="0.950683594 0.737792969 111.447754 0.737792969 118.248047 5 0.272460938 5 0.272460938 2.88110352"></polygon>\n                </g>\n                <g>\n                <circle vector-effect="non-scaling-stroke" class="slds-illustration__stroke-secondary" stroke-width="3" cx="9" cy="28" r="5"></circle>\n                <circle vector-effect="non-scaling-stroke" class="slds-illustration__stroke-secondary" stroke-width="3" cx="30" cy="9" r="9"></circle>\n                <polygon vector-effect="non-scaling-stroke" class="slds-illustration__fill-secondary" points="0.562988281 51 119.302246 51 123.863281 55 126.056641 62.4726562 114.675781 75.40625 22.7675781 75.40625 13.2597656 70.8320312 7.12890625 65.2988281"></polygon>\n                </g>\n                <g transform="translate(0.000000, 25.000000)">\n                <path vector-effect="non-scaling-stroke" d="M3.63585436,21.5 L109.778306,21.5 C114.1037,21.5 118.186223,23.4993351 120.838196,26.9163632 L127.5,35.5 L120.800658,45.365147 C118.194742,49.2025017 113.857343,51.5 109.218799,51.5 L31.3324501,51.5 C22.8638438,50.9724099 16.3582376,48.8029983 11.8156315,44.9917652 C7.80246311,41.6247288 4.13067554,35.1206458 0.800268738,25.479516 L0.800270003,25.4795155 C0.259297765,23.9134656 1.09028748,22.2053865 2.65633747,21.6644143 C2.97143994,21.5555661 3.30248145,21.5 3.63585436,21.5 Z"\n                    class="slds-illustration__stroke-primary" stroke-width="3"></path>\n                <path vector-effect="non-scaling-stroke" d="M142.258276,22.7729944 C138.748717,19.2634357 134.125785,17.4119596 128.242641,17.2426407 C128.41196,23.1257854 130.263436,27.7487171 133.772994,31.2582757 C137.282553,34.7678344 141.905485,36.6193105 147.788629,36.7886294 C147.619311,30.9054847 145.767834,26.282553 142.258276,22.7729944 Z"\n                    class="slds-illustration__fill-primary" transform="translate(138.015635, 27.015635) scale(-1, 1) translate(-138.015635, -27.015635)"></path>\n                <path vector-effect="non-scaling-stroke" d="M142.258276,40.7729944 C138.748717,37.2634357 134.125785,35.4119596 128.242641,35.2426407 C128.41196,41.1257854 130.263436,45.7487171 133.772994,49.2582757 C137.282553,52.7678344 141.905485,54.6193105 147.788629,54.7886294 C147.619311,48.9054847 145.767834,44.282553 142.258276,40.7729944 Z"\n                    class="slds-illustration__fill-primary" transform="translate(138.015635, 45.015635) scale(-1, -1) translate(-138.015635, -45.015635)"></path>\n                <path vector-effect="non-scaling-stroke" d="M81,-0.442349499 L81,21 C81,22.1045695 80.1045695,23 79,23 L61.5679702,23 C60.4634007,23 59.5679702,22.1045695 59.5679702,21 C59.5679702,20.49722 59.7573376,20.0128843 60.0983633,19.6434398 L79.2651966,-1.1206296 C79.6398003,-1.52645034 80.2724594,-1.5517567 80.6782801,-1.17715294 C80.8833623,-0.987846292 81,-0.721447545 81,-0.442349499 Z"\n                    class="slds-illustration__fill-primary"></path>\n                <path vector-effect="non-scaling-stroke" d="M50,49.3234743 L50,62 C50,63.1045695 49.1045695,64 48,64 L38.0175677,64 C36.9129982,64 36.0175677,63.1045695 36.0175677,62 C36.0175677,61.4777575 36.2218416,60.9762301 36.5867303,60.602608 L48.2845813,48.6247784 C48.6704604,48.2296635 49.3035811,48.2221765 49.698696,48.6080556 C49.8913701,48.796226 50,49.0541578 50,49.3234743 Z"\n                    class="slds-illustration__fill-primary" transform="translate(43.000000, 57.000000) scale(1, -1) translate(-43.000000, -57.000000)"></path>\n                <path vector-effect="non-scaling-stroke" d="M100,49.3234743 L100,62 C100,63.1045695 99.1045695,64 98,64 L88.0175677,64 C86.9129982,64 86.0175677,63.1045695 86.0175677,62 C86.0175677,61.4777575 86.2218416,60.9762301 86.5867303,60.602608 L98.2845813,48.6247784 C98.6704604,48.2296635 99.3035811,48.2221765 99.698696,48.6080556 C99.8913701,48.796226 100,49.0541578 100,49.3234743 Z"\n                    class="slds-illustration__fill-primary" transform="translate(93.000000, 57.000000) scale(1, -1) translate(-93.000000, -57.000000)"></path>\n                <path vector-effect="non-scaling-stroke" d="M35,21.1948242 C37.6666667,25.7316081 39,30.6666667 39,36 C39,41.3333333 37.6666667,46.6666667 35,52" class="slds-illustration__stroke-primary" stroke-width="3"></path>\n                <path vector-effect="non-scaling-stroke" d="M39,35.5 L126,35.5" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round"></path>\n                <circle vector-effect="non-scaling-stroke" class="slds-illustration__fill-primary" cx="20" cy="31" r="4"></circle>\n                </g>\n            </g>\n            <g transform="translate(244.500000, 274.000000) scale(-1, 1) translate(-244.500000, -274.000000) translate(190.000000, 251.000000)">\n                <g transform="translate(0.000000, 14.000000)" fill="#FFFFFF">\n                <polygon vector-effect="non-scaling-stroke" points="91.2460938 8.703125 83.0820312 0.9765625 0.1171875 0.9765625 3.26757813 11.6367188"></polygon>\n                </g>\n                <g transform="translate(1.000000, 19.000000)" class="slds-illustration__fill-secondary">\n                <path vector-effect="non-scaling-stroke" d="M91.2900009,4 C89.5899629,2.01216046 88.5351253,1.01216046 88.1254883,1 C87.7158512,0.98783954 58.7033187,0.98783954 1.08789063,1 L0.375825695,4 L5.47167969,13.8271484 L20.2802734,18.5742188 C45.4534802,18.6571158 64.3715303,18.8351757 77.0344238,19.1083984 L83.2062537,18.4651753 L88.984375,13.8271484 L91.2900009,4 Z"></path>\n                </g>\n                <g>\n                <path vector-effect="non-scaling-stroke" d="M0.0988502724,15.5 L79.1988702,15.5 C83.8798149,15.5 88.2510535,17.8394159 90.8475744,21.7341973 L94.0247762,26.5 L90.8475744,31.2658027 C88.2510535,35.1605841 83.8798149,37.5 79.1988702,37.5 L20.4692206,37.5 C14.9277254,37.0242117 10.6576403,35.3888654 7.65896553,32.5939611 C4.66029072,29.7990569 2.14025231,24.1010698 0.0988502724,15.5 Z"\n                    class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path>\n                <path vector-effect="non-scaling-stroke" d="M104.678431,16.8215691 C102.1744,14.317538 98.8265543,13.0459654 94.527077,13.027077 C94.5459654,17.3265543 95.817538,20.6743997 98.3215691,23.1784309 C100.8256,25.682462 104.173446,26.9540346 108.472923,26.972923 C108.454035,22.6734457 107.182462,19.3256003 104.678431,16.8215691 Z"\n                    class="slds-illustration__fill-primary" transform="translate(101.500000, 20.000000) scale(-1, 1) translate(-101.500000, -20.000000)"></path>\n                <path vector-effect="non-scaling-stroke" d="M104.678431,29.8215691 C102.1744,27.317538 98.8265543,26.0459654 94.527077,26.027077 C94.5459654,30.3265543 95.817538,33.6743997 98.3215691,36.1784309 C100.8256,38.682462 104.173446,39.9540346 108.472923,39.972923 C108.454035,35.6734457 107.182462,32.3256003 104.678431,29.8215691 Z"\n                    class="slds-illustration__fill-primary" transform="translate(101.500000, 33.000000) scale(-1, -1) translate(-101.500000, -33.000000)"></path>\n                <path vector-effect="non-scaling-stroke" d="M59,0.234153768 L59,17 L41.0828917,17 L57.2668751,-0.445940303 C57.6424807,-0.850833981 58.2752004,-0.874576673 58.6800941,-0.498971089 C58.8840774,-0.309742913 59,-0.0440844709 59,0.234153768 Z"\n                    class="slds-illustration__fill-primary"></path>\n                <path vector-effect="non-scaling-stroke" d="M37,35.544829 L37,43.326584 C37,44.4311535 36.1045695,45.326584 35,45.326584 L29.7979244,45.326584 C28.6933549,45.326584 27.7979244,44.4311535 27.7979244,43.326584 C27.7979244,42.8043415 28.0021983,42.3028141 28.367087,41.929192 L35.2845813,34.846133 C35.6704604,34.4510182 36.3035811,34.4435312 36.698696,34.8294103 C36.8913701,35.0175807 37,35.2755125 37,35.544829 Z"\n                    class="slds-illustration__fill-primary" transform="translate(32.398962, 40.663292) scale(1, -1) translate(-32.398962, -40.663292)"></path>\n                <path vector-effect="non-scaling-stroke" d="M75,35.544829 L75,43.326584 C75,44.4311535 74.1045695,45.326584 73,45.326584 L67.7979244,45.326584 C66.6933549,45.326584 65.7979244,44.4311535 65.7979244,43.326584 C65.7979244,42.8043415 66.0021983,42.3028141 66.367087,41.929192 L73.2845813,34.846133 C73.6704604,34.4510182 74.3035811,34.4435312 74.698696,34.8294103 C74.8913701,35.0175807 75,35.2755125 75,35.544829 Z"\n                    class="slds-illustration__fill-primary" transform="translate(70.398962, 40.663292) scale(1, -1) translate(-70.398962, -40.663292)"></path>\n                <path vector-effect="non-scaling-stroke" d="M24,15 C26,18.8333333 27,22.6666667 27,26.5 C27,30.3333333 26,34.1666667 24,38" class="slds-illustration__stroke-primary" stroke-width="3"></path>\n                <path vector-effect="non-scaling-stroke" d="M29,26.5 L92,26.5" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round"></path>\n                <circle vector-effect="non-scaling-stroke" class="slds-illustration__fill-primary" cx="15.5" cy="22.5" r="2.5"></circle>\n                </g>\n            </g>\n            <g transform="translate(174.500000, 341.000000) scale(-1, 1) translate(-174.500000, -341.000000) translate(120.000000, 318.000000)">\n                <g transform="translate(0.000000, 14.000000)" fill="#FFFFFF">\n                <polygon vector-effect="non-scaling-stroke" points="91.2460938 8.703125 83.0820312 0.9765625 0.1171875 0.9765625 3.26757813 11.6367188"></polygon>\n                </g>\n                <g transform="translate(1.000000, 19.000000)" class="slds-illustration__fill-secondary">\n                <path vector-effect="non-scaling-stroke" d="M91.2900009,4 C89.5899629,2.01216046 88.5351253,1.01216046 88.1254883,1 C87.7158512,0.98783954 58.7033187,0.98783954 1.08789063,1 L0.375825695,4 L5.47167969,13.8271484 L20.2802734,18.5742188 C45.4534802,18.6571158 64.3715303,18.8351757 77.0344238,19.1083984 L83.2062537,18.4651753 L88.984375,13.8271484 L91.2900009,4 Z"></path>\n                </g>\n                <g>\n                <path vector-effect="non-scaling-stroke" d="M0.0988502724,15.5 L79.1988702,15.5 C83.8798149,15.5 88.2510535,17.8394159 90.8475744,21.7341973 L94.0247762,26.5 L90.8475744,31.2658027 C88.2510535,35.1605841 83.8798149,37.5 79.1988702,37.5 L20.4692206,37.5 C14.9277254,37.0242117 10.6576403,35.3888654 7.65896553,32.5939611 C4.66029072,29.7990569 2.14025231,24.1010698 0.0988502724,15.5 Z"\n                    class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path>\n                <path vector-effect="non-scaling-stroke" d="M104.678431,16.8215691 C102.1744,14.317538 98.8265543,13.0459654 94.527077,13.027077 C94.5459654,17.3265543 95.817538,20.6743997 98.3215691,23.1784309 C100.8256,25.682462 104.173446,26.9540346 108.472923,26.972923 C108.454035,22.6734457 107.182462,19.3256003 104.678431,16.8215691 Z"\n                    class="slds-illustration__fill-primary" transform="translate(101.500000, 20.000000) scale(-1, 1) translate(-101.500000, -20.000000)"></path>\n                <path vector-effect="non-scaling-stroke" d="M104.678431,29.8215691 C102.1744,27.317538 98.8265543,26.0459654 94.527077,26.027077 C94.5459654,30.3265543 95.817538,33.6743997 98.3215691,36.1784309 C100.8256,38.682462 104.173446,39.9540346 108.472923,39.972923 C108.454035,35.6734457 107.182462,32.3256003 104.678431,29.8215691 Z"\n                    class="slds-illustration__fill-primary" transform="translate(101.500000, 33.000000) scale(-1, -1) translate(-101.500000, -33.000000)"></path>\n                <path vector-effect="non-scaling-stroke" d="M59,0.234153768 L59,17 L41.0828917,17 L57.2668751,-0.445940303 C57.6424807,-0.850833981 58.2752004,-0.874576673 58.6800941,-0.498971089 C58.8840774,-0.309742913 59,-0.0440844709 59,0.234153768 Z"\n                    class="slds-illustration__fill-primary"></path>\n                <path vector-effect="non-scaling-stroke" d="M37,35.544829 L37,43.326584 C37,44.4311535 36.1045695,45.326584 35,45.326584 L29.7979244,45.326584 C28.6933549,45.326584 27.7979244,44.4311535 27.7979244,43.326584 C27.7979244,42.8043415 28.0021983,42.3028141 28.367087,41.929192 L35.2845813,34.846133 C35.6704604,34.4510182 36.3035811,34.4435312 36.698696,34.8294103 C36.8913701,35.0175807 37,35.2755125 37,35.544829 Z"\n                    class="slds-illustration__fill-primary" transform="translate(32.398962, 40.663292) scale(1, -1) translate(-32.398962, -40.663292)"></path>\n                <path vector-effect="non-scaling-stroke" d="M75,35.544829 L75,43.326584 C75,44.4311535 74.1045695,45.326584 73,45.326584 L67.7979244,45.326584 C66.6933549,45.326584 65.7979244,44.4311535 65.7979244,43.326584 C65.7979244,42.8043415 66.0021983,42.3028141 66.367087,41.929192 L73.2845813,34.846133 C73.6704604,34.4510182 74.3035811,34.4435312 74.698696,34.8294103 C74.8913701,35.0175807 75,35.2755125 75,35.544829 Z"\n                    class="slds-illustration__fill-primary" transform="translate(70.398962, 40.663292) scale(1, -1) translate(-70.398962, -40.663292)"></path>\n                <path vector-effect="non-scaling-stroke" d="M24,15 C26,18.8333333 27,22.6666667 27,26.5 C27,30.3333333 26,34.1666667 24,38" class="slds-illustration__stroke-primary" stroke-width="3"></path>\n                <path vector-effect="non-scaling-stroke" d="M29,26.5 L92,26.5" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round"></path>\n                <circle vector-effect="non-scaling-stroke" class="slds-illustration__fill-primary" cx="15.5" cy="22.5" r="2.5"></circle>\n                </g>\n            </g>\n            </g>\n        </g>\n    </g>\n</svg>'),n2.ui.component.listBox.Option=function(){_inherits(t,n2.ui.Component);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this.EVENTS=n2.merge(this.EVENTS||{},{click:function(e){},change:function(e){}}),this.REQUIRED_MEMBERS=n2.merge(this.REQUIRED_MEMBERS,["label"]),this.SELECTORS=n2.merge(this.SELECTORS,{option:".slds-listbox__option",optionBody:".slds-media__body",optionIcon:".slds-listbox__option-icon",optionLabel:".slds-media__body .slds-truncate",assistiveText:".slds-media__body",focusTarget:".slds-listbox__option"}),this._mixins=[n2.mixin.Observable],this._template='<li role="presentation" class="slds-listbox__item {{cls}}"><div id="{{id}}" class="slds-media slds-listbox__option slds-listbox__option_plain slds-media_small{{#selected}} {{selectedCls}}{{/selected}}" role="option"><span class="slds-media__figure slds-listbox__option-icon{{^selected}} {{hiddenCls}}{{/selected}}{{#selected}} {{showCls}}{{/selected}}">{{> selectedIconTemplate }}</span><span class="slds-media__body">{{#includeAssistiveText}}{{#selected}}{{> assistiveTextTemplate }}{{/selected}}{{/includeAssistiveText}}<span class="slds-truncate" title="{{label}}">{{label}}</span></span></div></li>',this._assistiveTextTemplate='<span class="slds-assistive-text">Current Selection: </span>',this._selectedIconTemplate='<span class="slds-icon_container slds-icon-utility-check slds-current-color"><svg class="slds-icon slds-icon_x-small" aria-hidden="true"><use xlink:href="{{selectedIcon}}"></use></svg></span>',this._label="",this._value=null,this._selected=!1,this._includeAssistiveText=!1,this._placeholder=!1}},{key:"label",get:function(){return this._label},set:function(e){this._label!==e&&(this._label=e,this._refreshLabel())}},{key:"value",get:function(){return this._value},set:function(e){this._value!==e&&(this._value=e)}},{key:"selected",get:function(){return this._selected},set:function(e){this.select(e)}},{key:"includeAssistiveText",set:function(e){this._includeAssistiveText!==e&&(this._includeAssistiveText=e,this._refreshAssistiveText())}},{key:"placeholder",get:function(){return this._placeholder},set:function(e){this._placeholder!==e&&(this._placeholder=e,this._refreshPlaceholder())}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(t.prototype),"_onDefined",this).call(this),this._placeholder&&(this._selected=!1,this._value="")}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplateData",this).call(this),{label:this._label,selected:!this._placeholder&&this._selected,selectedCls:n2.ui.enum.CSS.SELECTED,selectedIcon:n2.ui.Icon.getLink(n2.ui.enum.Icon.CHECK),includeAssistiveText:this.includeAssistiveText})}},{key:"_getTemplatePartials",value:function(){return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplatePartials",this).call(this),{selectedIconTemplate:this._selectedIconTemplate,assistiveTextTemplate:this._assistiveTextTemplate})}},{key:"_bindEvents",value:function(){_get4(_getPrototypeOf(t.prototype),"_bindEvents",this).call(this),this._dom.listen("click",this._onClick,{scope:this})}},{key:"_onClick",value:function(e){this.fire("click",{target:this,event:e})}},{key:"select",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).silent,t=void 0!==t&&t;this._selected!==e&&(this._selected=e,this._placeholder||(this._refreshSelected(),this._includeAssistiveText&&this._refreshAssistiveText()),t||this.fire("change",{target:this,data:{selected:e}}))}},{key:"_refreshSelected",value:function(){this._rendered&&(this._selected?this._markSelected():this._clearSelected())}},{key:"_markSelected",value:function(){this.element("option").addClass(n2.ui.enum.CSS.SELECTED),n2.isNull(this.element("optionIcon"))||this.element("optionIcon").show()}},{key:"_clearSelected",value:function(){this.element("option").removeClass(n2.ui.enum.CSS.SELECTED),n2.isNull(this.element("optionIcon"))||this.element("optionIcon").hide({reserveSpace:!0})}},{key:"_refreshLabel",value:function(){this._rendered&&(this.element("optionLabel").attribute("title",this._label),this.element("optionLabel").text(this._label))}},{key:"_refreshAssistiveText",value:function(){this._rendered&&(this._selected?this.element("optionBody").insert(this._assistiveTextTemplate,"afterbegin"):n2.isNull(this.element("assistiveText"))||this.element("assistiveText").destroy())}},{key:"_refreshPlaceholder",value:function(){this.selected=!1,this._value=""}},{key:"_makeFocusable",value:function(e){}},{key:"_makeFocused",value:function(e){(this._focused=e)?(this.focusTarget.addClass(n2.ui.enum.CSS.HAS_FOCUS),this.focusTarget.attribute("aria-selected","true")):(this.focusTarget.removeClass(n2.ui.enum.CSS.HAS_FOCUS),this.focusTarget.attribute("aria-selected","false"))}},{key:"isFocusable",value:function(){return!0}}]),t}(),n2.ui.component.menu.Option=function(){_inherits(i,n2.ui.Component);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return _createClass(i,[{key:"_define",value:function(){_get4(_getPrototypeOf(i.prototype),"_define",this).call(this),this.EVENTS=n2.merge(this.EVENTS,{select:function(e){},change:function(e){}}),this._mixins=[n2.mixin.Observable],this.SELECTORS=n2.merge(this.SELECTORS,{body:"a > span",focusTarget:"a"}),this._template='<li id="{{id}}" class="n2-component n2-menu-option slds-dropdown__item{{#hidden}} {{hideCls}}{{/hidden}} {{cls}}" role="presentation"><a href="javascript:void(0);" role="menuitem"><span class="slds-truncate" title="{{label}}">{{label}}</span></a></li>',this._focusable=n2.ui.enum.Focusable.INACTIVE,this._label=""}},{key:"label",set:function(e){this._label!==e&&(this._label=e,this.rendered)&&(this.element("body").text(e),this.element("body").attribute("title",e))}},{key:"hidden",get:function(){return this._hidden},set:function(e){var t=n2.isObject(e)?e.value:e,e=!!n2.isObject(e)&&e.silent;this._hidden!==t&&(t?this.hide():this.show()),e||(t=this._createChangeEvent(this,[{property:"property",type:"set"}]),this.fire("change",t))}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(i.prototype),"_getTemplateData",this).call(this),{label:this._label})}},{key:"_bindEvents",value:function(){var t=this;_get4(_getPrototypeOf(i.prototype),"_bindEvents",this).call(this),this._dom.listen("click",function(e){return t._onClick(e)})}},{key:"_onClick",value:function(e){this.fire("select",this)}}]),i}(),n2.ui.component.modal.Backdrop=function(){_inherits(t,n2.ui.Component);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this.id="backdrop",this._template='<div class="slds-backdrop{{^hidden}} slds-backdrop_open{{/hidden}}"></div>'}},{key:"_showElement",value:function(){this._dom.addClass("slds-backdrop_open")}},{key:"_hideElement",value:function(){this._dom.removeClass("slds-backdrop_open")}}]),t}(),n2.ui.component.modal.Size={SMALL:"small",MEDIUM:"medium",LARGE:"large"},n2.ui.component.pillList.Pill=function(){_inherits(i,n2.ui.Component);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return _createClass(i,[{key:"_define",value:function(){_get4(_getPrototypeOf(i.prototype),"_define",this).call(this),this.EVENTS=n2.merge(this.EVENTS||{},{remove:function(e){}}),this.REQUIRED_MEMBERS=n2.merge(this.REQUIRED_MEMBERS,["text"]),this.SELECTORS=n2.merge(this.SELECTORS,{pill:".slds-pill",removeButton:".n2_remove",focusTarget:".slds-pill"}),this._template='<li id="{{id}}" class="n2-component n2-pill slds-listbox-item{{#hidden}} {{hideCls}}{{/hidden}}{{^hidden}} {{showCls}}{{/hidden}}{{#cls}} {{cls}}{{/cls}}{{#disabled}} n2_disabled{{/disabled}}" role="presentation"><span class="slds-pill" role="option" aria-selected="true"><span class="slds-pill__label" title="{{text}}">{{text}}</span><span class="slds-icon_container slds-pill__remove n2_remove" title="Remove"><svg class="slds-icon slds-icon_x-small slds-icon-text-default" aria-hidden="true"><use xlink:href="'+n2.ui.Icon.getLink(n2.ui.enum.Icon.CLOSE)+'"></use></svg><span class="slds-assistive-text">Press delete or backspace to remove</span></span></span></li>',this._mixins=[n2.mixin.Observable],this._focusable=n2.ui.enum.Focusable.INACTIVE,this.text="",this.value=null,this._disabled=!1}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(i.prototype),"_onDefined",this).call(this),n2.isNull(this.value)&&(this.value=this.text)}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled!==e&&(this._disabled=e,this.rendered)&&(this._disabled?this._dom.addClass("n2_disabled"):this._dom.removeClass("n2_disabled"))}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(i.prototype),"_getTemplateData",this).call(this),{text:this.text,disabled:this._disabled})}},{key:"_bindEvents",value:function(){var t=this;_get4(_getPrototypeOf(i.prototype),"_bindEvents",this).call(this),this.element("removeButton").listen("click",function(){return t._onClick()}),this.element("pill").listen("keydown",function(e){return t._onKeyDown(e)})}},{key:"_onKeyDown",value:function(e){switch(n2.ui.Key.get(e.key)){case n2.ui.enum.Key.ENTER:case n2.ui.enum.Key.BACKSPACE:case n2.ui.enum.Key.DELETE:this._onClick(),e.preventDefault()}}},{key:"_onClick",value:function(){this._disabled||this.fire("remove",this)}},{key:"isFocusable",value:function(){return!this._disabled&&_get4(_getPrototypeOf(i.prototype),"isFocusable",this).call(this)}}]),i}(),n2.ui.component.tabs.Tab=function(){_inherits(i,n2.ui.Component);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return _createClass(i,[{key:"_define",value:function(){_get4(_getPrototypeOf(i.prototype),"_define",this).call(this),this._EVENTS=n2.merge(this._EVENTS,[n2.event.EventType.CLICK]),this.REQUIRED_MEMBERS=n2.merge(this.REQUIRED_MEMBERS,["label"]),this.SELECTORS=n2.merge(this.SELECTORS,{link:".slds-tabs_default__link",focusTarget:".slds-tabs_default__link"}),this._template='<li id="{{id}}" class="slds-tabs_default__item n2-tab{{#selected}} slds-is-active{{/selected}} {{cls}}{{#hidden}} {{hideCls}}{{/hidden}}{{#disabled}} n2_disabled{{/disabled}}" title="{{label}}" role="presentation">\n            <a class="slds-tabs_default__link" href="javascript:void(0);" role="tab" aria-selected="{{selected}}" id="{{id}}_link">\n                {{label}}\n            </a>\n        </li>',this._mixins=[n2.mixin.Observable],this._label=null,this._selected=!1,this._focusable=n2.ui.enum.Focusable.INACTIVE,this._disabled=!1,this._REFRESH=n2.merge(this._REFRESH,{label:["label"],disabled:["disabled"],selected:["selected"]})}},{key:"label",set:function(e){this._setProperty("label",e)}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._setProperty("disabled",e)}},{key:"selected",get:function(){return this._selected},set:function(e){this._setProperty("selected",e)}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(i.prototype),"_getTemplateData",this).call(this),{label:this._label,selected:this._selected,disabled:this._disabled})}},{key:"_bindEvents",value:function(){var t=this;_get4(_getPrototypeOf(i.prototype),"_bindEvents",this).call(this),this.element("link").listen("click",function(e){return t._onClick(e)})}},{key:"_onClick",value:function(e){this._disabled||this.fire(n2.event.EventType.CLICK,this._createEventObject({event:e}))}},{key:"_refreshLabel",value:function(){this._rendered&&(this._dom.attribute("title",this._label),this.element("link").text(this._label))}},{key:"_refreshSelected",value:function(){this._rendered&&(this._selected?this._dom.addClass(n2.ui.enum.CSS.ACTIVE):this._dom.removeClass(n2.ui.enum.CSS.ACTIVE),this.element("link").attribute("aria-selected",this._selected))}},{key:"_refreshDisabled",value:function(){this._rendered&&(this._disabled?this._dom.addClass("n2_disabled"):this._dom.removeClass("n2_disabled"))}}]),i}(),n2.ui.component.verticalNavigation.Link=function(){_inherits(i,n2.ui.Component);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return _createClass(i,[{key:"_define",value:function(){_get4(_getPrototypeOf(i.prototype),"_define",this).call(this),this.EVENTS=n2.merge(this.EVENTS,{click:function(e){}}),this.SELECTORS=n2.merge(this.SELECTORS,{link:"a",iconContainer:".slds-icon_container"}),this._mixins=[n2.mixin.Observable],this._template='<li id="{{id}}" class="slds-nav-vertical__item{{#active}} slds-is-active{{/active}}{{#hidden}} {{hideCls}}{{/hidden}} {{cls}}"><a href="javascript:void(0);" class="slds-nav-vertical__action" aria-current="{{active}}">{{#hasIcon}}{{>iconTemplate}}{{/hasIcon}}{{label}}</a></li>',this._iconTemplate='<span class="slds-icon_container slds-line-height_reset" title="{{label}}">{{>icon}}</span>',this._label=[],this._icon=null,this._active=!1}},{key:"label",set:function(e){this._label!==e&&(this._label=e,this._rendered)&&this.element("link").text(e)}},{key:"active",set:function(e){this._active!==e&&this._setActive(e)}},{key:"icon",set:function(e){this._icon!==e&&(this._icon=e,this._refreshIcon(e))}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(i.prototype),"_getTemplateData",this).call(this),{label:this._label,active:this._active,hasIcon:!n2.isNull(this._icon)})}},{key:"_getTemplatePartials",value:function(){return n2.merge(_get4(_getPrototypeOf(i.prototype),"_getTemplatePartials",this).call(this),{iconTemplate:this._iconTemplate,icon:n2.ui.Icon.getSVG(this._icon,{cls:"slds-icon-text-default slds-icon_x-small slds-m-right_small"})})}},{key:"_bindEvents",value:function(){var t=this;_get4(_getPrototypeOf(i.prototype),"_bindEvents",this).call(this),this.element("link").listen("click",function(e){return t._onClick(e)})}},{key:"_onClick",value:function(e){this.fire("click",{target:this,event:event,data:this._active})}},{key:"_setActive",value:function(e){(this._active=e)?this._makeActive():this._makeInactive()}},{key:"_makeActive",value:function(){this._rendered&&(this._dom.addClass(n2.ui.enum.CSS.ACTIVE),this.element("link").attribute("aria-current",!0))}},{key:"_makeInactive",value:function(){this._rendered&&(this._dom.removeClass(n2.ui.enum.CSS.ACTIVE),this.element("link").attribute("aria-current",!1))}},{key:"_refreshIcon",value:function(){var e;this._rendered&&(this.element("iconContainer",!0)&&this.element("iconContainer").remove(),e=n2.ui.Template.render(this._iconTemplate,this._getTemplateData(),this._getTemplatePartials()),this.element("link").insert(e,"afterbegin"))}}]),i}(),n2.ui.component.verticalNavigation.Section=function(){_inherits(t,n2.ui.Component);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).call(this),this.EVENTS=n2.merge(this.EVENTS,{click:function(e){}}),this.SELECTORS=n2.merge(this.SELECTORS,{heading:"h2",body:"ul.n2_section-links"}),this._mixins=[n2.mixin.Observable],this._template='<div id="{{id}}" class="slds-nav-vertical__section{{#hidden}} {{hideCls}}{{/hidden}} {{cls}}"><h2 id="{{id}}_heading" class="slds-nav-vertical__title{{#headingHidden}} {{hideCls}}{{/headingHidden}}">{{heading}}</h2><ul aria-describedby="{{id}}_heading" class="n2_section-links"></ul></div>',this._heading=null,this._links=[]}},{key:"_applyConfig",value:function(e){e.heading=n2.isObject(e.heading)?e.heading:{text:e.heading,hidden:!1},_get4(_getPrototypeOf(t.prototype),"_applyConfig",this).apply(this,arguments)}},{key:"heading",set:function(e){this._heading!==e&&(this._heading=n2.isObject(e)?e:{text:e,hidden:!1},this._updateHeading(e))}},{key:"links",set:function(e){n2.compare(this._links,e)||(this._links=e,this.destroyComponents(),this._insertLinks())}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(t.prototype),"_onDefined",this).call(this),this._insertLinks()}},{key:"_insertLinks",value:function(){var t=this;this._links.forEach(function(e){t.insert(new n2.ui.component.verticalNavigation.Link(e))})}},{key:"_insert",value:function(e){e instanceof n2.ui.component.verticalNavigation.Link&&e.listen("click",this._onClick,this),_get4(_getPrototypeOf(t.prototype),"_insert",this).apply(this,arguments)}},{key:"_onClick",value:function(e){this.fire("click",e)}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(t.prototype),"_getTemplateData",this).call(this),{heading:n2.isNull(this._heading)?null:this._heading.text,headingHidden:!n2.isNull(this._heading)&&this._heading.hidden})}},{key:"_updateHeading",value:function(e){var t,i=e.text,e=e.hidden,e=void 0!==e&&e;this._rendered&&((t=this.element("heading")).text(i),e?t.addClass(n2.ui.enum.CSS.HIDE):t.removeClass(n2.ui.enum.CSS.HIDE))}}]),t}(),n2.ui.component.field.datePeriodPicker.FiscalPeriods={LAST_FISCAL_QUARTER:"Last fiscal quarter",THIS_FISCAL_QUARTER:"This fiscal quarter",NEXT_FISCAL_QUARTER:"Next fiscal quarter",LAST_FISCAL_YEAR:"Last fiscal year",THIS_FISCAL_YEAR:"This fiscal year",NEXT_FISCAL_YEAR:"Next fiscal year",LAST_N_FISCAL_QUARTERS:"Last n fiscal quarters",NEXT_N_FISCAL_QUARTERS:"Next n fiscal quarters",LAST_N_FISCAL_YEARS:"Last n fiscal years",NEXT_N_FISCAL_YEARS:"Next n fiscal years"},n2.ui.component.field.datePeriodPicker.Periods={YESTERDAY:"Yesterday",TODAY:"Today",TOMORROW:"Tomorrow",LAST_WEEK:"Last week",THIS_WEEK:"This week",NEXT_WEEK:"Next week",LAST_MONTH:"Last month",THIS_MONTH:"This month",NEXT_MONTH:"Next month",LAST_90_DAYS:"Last 90 days",NEXT_90_DAYS:"Next 90 days",LAST_QUARTER:"Last quarter",THIS_QUARTER:"This quarter",NEXT_QUARTER:"Next quarter",LAST_YEAR:"Last year",THIS_YEAR:"This year",NEXT_YEAR:"Next year",LAST_N_DAYS:"Last n days",NEXT_N_DAYS:"Next n days",LAST_N_WEEKS:"Last n weeks",NEXT_N_WEEKS:"Next n weeks",LAST_N_MONTHS:"Last n months",NEXT_N_MONTHS:"Next n months",LAST_N_QUARTERS:"Last n quarters",NEXT_N_QUARTERS:"Next n quarters",LAST_N_YEARS:"Last n years",NEXT_N_YEARS:"Next n years"},n2.ui.component.field.logicFilter.Filters=function(){_inherits(n,n2.ui.component.EditableDataTable);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"_define",value:function(){var t,i=this;_get4(_getPrototypeOf(n.prototype),"_define",this).apply(this,arguments),this.columns=[{header:"Field",bindPath:".name",cell:{cls:"n2_name"},editField:{id:"field-options",type:n2.ui.component.field.logicFilter.filters.FieldSelection,required:!0,loadRelatedObjectFieldOptions:(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i._loadRelatedObjectFieldOptions(t));case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})}},{header:"Operator",bindPath:".op",cell:{cls:"n2_operator"},editField:{id:"operator-options",type:n2.ui.component.field.Combo,required:!0,sort:!1,options:[]}},{header:"Value",cell:{type:n2.ui.component.field.logicFilter.filters.ValueCell,cls:"n2_value",loadComboOptions:function(e,t){return i._loadComboOptions(e,t)}}}],this._componentCls="n2-filters-data-table n2-data-table",this._newRowData={type:n2.dataProvider.Model,value:{name:"",type:"",op:"",val:""}},this._fieldOptions=null,this._fieldValueTypeMapping={},this._filterValueOptions=null,this._filterLogic=null,this._rowClass=n2.ui.component.field.logicFilter.filters.Row,this._allowNotOperators=!0,this._includeFiscalPeriods=!1,this._logic="",this._rowComponents=[],this._reorderable=!0,this._logicHidden=!1,this._showLogicToggle=!1,this._logicEnabled=!0}},{key:"fieldOptions",get:function(){return this._fieldOptions},set:function(e){n2.compare(this._fieldOptions,e)||(this._fieldOptions=e,this._refreshFieldOptions())}},{key:"allowNotOperators",get:function(){return this._allowNotOperators},set:function(e){this._allowNotOperators!==e&&(this._allowNotOperators=e,this._refreshOperatorOptions())}},{key:"includeFiscalPeriods",get:function(){return this._includeFiscalPeriods},set:function(e){this._includeFiscalPeriods!==e&&(this._includeFiscalPeriods=e,this._refreshIncludeFiscalPeriods())}},{key:"loadComboOptions",set:function(e){this._loadComboOptions!==e&&(this._loadComboOptions=e)}},{key:"loadRelatedObjectFieldOptions",set:function(e){this._loadRelatedObjectFieldOptions!==e&&(this._loadRelatedObjectFieldOptions=e)}},{key:"logic",get:function(){var e=this._components["logic-text-box"];return n2.isUndefined(e)?this._logic:e.value},set:function(e){this._logic!==e&&this.setLogic(e)}},{key:"logicHidden",set:function(e){this._logicHidden!==e&&(this._logicHidden=e,this._refreshLogicHidden())}},{key:"showLogicToggle",set:function(e){this._showLogicToggle!==e&&(this._showLogicToggle=e,this._refreshShowLogicToggle())}},{key:"logicEnabled",get:function(){return this._logicEnabled},set:function(e){this._logicEnabled!==e&&(this._logicEnabled=e,this._refreshLogicEnabled())}},{key:"_onDefined",value:function(){this._insertLogicTextBox(),_get4(_getPrototypeOf(n.prototype),"_onDefined",this).call(this),this.headerRow.hidden=!0}},{key:"_insertLogicTextBox",value:function(){var t=this;this._insert(new n2.ui.component.field.logicFilter.filters.LogicTextBox({id:"logic-text-box",renderTo:{target:this.SELECTORS.addRow,position:"afterend"},label:"Logic",showLogicToggle:this._showLogicToggle,logicEnabled:this._logicEnabled,disabled:this._disabled||!this._editable,hidden:n2.isEmpty(this._logic)||this.data.length<=1,value:this._logic,listeners:{change:function(e){t._updateDataBinding("logic",e.value),t._showLogicToggle&&(t._updateDataBinding("logicEnabled",e.enableLogicToggle.isChecked()),t._refreshReorderable())}},validator:function(e){return t._validateLogic()}}))}},{key:"_canReorder",value:function(e,t){return!e.headerRow&&e instanceof n2.ui.component.dataTable.Row}},{key:"_reorder",value:function(e){var t=e.targetComponent,e=e.reorderIndex,i=this._getRowIndex(t),i=this._removeRowData(i),e=(this._removeRow(t,{destroy:!1}),this._insertRow(t,{index:e}),this._insertRowData(i,this._getRowIndex(t)),this._getLogicParts());this._logic=this._constructLogicValue(this._correctLogicValue(e)),this._refreshLogic(),this._rowComponents=this._getRowComponents()}},{key:"_doInsertRow",value:function(e){(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).index;var t=_get4(_getPrototypeOf(n.prototype),"_doInsertRow",this).apply(this,arguments);this._addLogic(this._getLogicFilterNumber(t)),this._rowComponents.push(t),this._refreshReorderable()}},{key:"_doRemoveRow",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=(t.target,t.silent,this._getLogicFilterNumber(e)),t=(_get4(_getPrototypeOf(n.prototype),"_doRemoveRow",this).apply(this,arguments),this._removeLogic(t),this.components["logic-text-box"].validate(),this._refreshReorderable(),this._rowComponents.indexOf(e));this._rowComponents.splice(t,1)}},{key:"_getTotalColumns",value:function(){return n2.merge([{cls:"n2_row-number"}],_get4(_getPrototypeOf(n.prototype),"_getTotalColumns",this).call(this))}},{key:"_getLogicFilterNumber",value:function(e){e=this._getRowIndex(e);return-1===e?e:e+1}},{key:"_addLogic",value:function(e){-1!==e&&(n2.isEmpty(this.logic)&&1<e?this._logic="":this._logic=1===e?e.toString():this.logic.trim()+" AND ".concat(e),this._refreshLogic())}},{key:"_removeLogic",value:function(i){var t,n,s=this;-1!==i&&(t=this._getLogicParts(),n=[],t.forEach(function(e,t){e===i.toString()&&n.push(t)}),n.reverse().forEach(function(e){1===t.length?t=[]:s._isCondition(t[e+1])?t.splice(e,2):s._isCondition(t[e-1])?t.splice(e-1,2):-1<e&&t.splice(e,1)}),this._logic=this._constructLogicValue(this._correctLogicValue(t)),this._refreshLogic())}},{key:"_correctLogicValue",value:function(i){var n=this,s=[];return i.forEach(function(e,t){n2.isEmpty(e)||n2.isFiniteNumber(e)&&(e=n._getLogicFilterNumber(n._rowComponents[e-1]).toString(),n2.isEmpty(e))||(n._isOpenBracket(e)&&n._isCloseBracket(i[t+2])?i.splice(t+2,1):s.push(e))}),s}},{key:"_constructLogicValue",value:function(e){return e.join(" ").replace(/\( /g,"(").replace(/ \)/g,")")}},{key:"_isOpenBracket",value:function(e){return!n2.isEmpty(e)&&e.includes("(")&&!e.includes(")")}},{key:"_isCloseBracket",value:function(e){return!n2.isEmpty(e)&&e.includes(")")&&!e.includes("(")}},{key:"_isCondition",value:function(e){return["and","or"].includes(n2.isString(e)?e.toLowerCase():e)}},{key:"_createRow",value:function(e){return e.fieldOptions=this._fieldOptions,e.allowNotOperators=this._allowNotOperators,e.includeFiscalPeriods=this._includeFiscalPeriods,_get4(_getPrototypeOf(n.prototype),"_createRow",this).apply(this,arguments)}},{key:"_resolveDataBinding",value:function(e,t){"logic"===e?this.setLogic(t.value,{silent:!0,sync:!1,validate:!1}):_get4(_getPrototypeOf(n.prototype),"_resolveDataBinding",this).call(this,e,t)}},{key:"_refreshReorderable",value:function(){var e=this._components["logic-text-box"].enableLogicToggle.isChecked(),t=1<this.data.length;this.reorderable=!this._logicHidden&&e&&t}},{key:"_refreshData",value:function(){_get4(_getPrototypeOf(n.prototype),"_refreshData",this).apply(this,arguments),this._refreshLogic({silent:!0}),this._rowComponents=this._getRowComponents(),this._refreshReorderable()}},{key:"_refreshFieldOptions",value:function(){var t=this,e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).row,e=void 0===e?null:e;n2.isNull(e)?this.forEachRow(function(e){return t._refreshFieldOptions({row:e})}):e.fieldOptions=this._fieldOptions}},{key:"_refreshOperatorOptions",value:function(){var t=this,e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).row,e=void 0===e?null:e;n2.isNull(e)?this.forEachRow(function(e){return t._refreshOperatorOptions({row:e})}):e.allowNotOperators=this._allowNotOperators}},{key:"_refreshIncludeFiscalPeriods",value:function(){var t=this,e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).row,e=void 0===e?null:e;n2.isNull(e)?this.forEachRow(function(e){return t._refreshIncludeFiscalPeriods({row:e})}):e.includeFiscalPeriods=this._includeFiscalPeriods}},{key:"setLogic",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.silent,i=void 0!==i&&i,n=t.sync,n=void 0===n||n,t=t.validate,t=void 0===t||t;this._logic=e,this._refreshLogic({silent:i,sync:n,validate:t})}},{key:"_refreshLogic",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.silent,t=void 0!==t&&t,i=e.sync,i=void 0===i||i,e=e.validate,e=void 0===e||e,n=this.data.length,s=this._components["logic-text-box"];s.hidden=this._logicHidden||n<=1,s.value={value:this._logic,silent:t,sync:i,validate:e}}},{key:"_refreshLogicHidden",value:function(){this._components["logic-text-box"].hidden=this._logicHidden}},{key:"_refreshLogicEnabled",value:function(){this.components["logic-text-box"].logicEnabled=this._logicEnabled,this._refreshReorderable()}},{key:"_refreshShowLogicToggle",value:function(){this.components["logic-text-box"].showLogicToggle=this._showLogicToggle}},{key:"_getRowComponents",value:function(){var i=[];return this.forEachRow(function(e,t){i.push(e)}),i}},{key:"_getLogicParts",value:function(){return n2.isNull(this.logic)?null:this.logic.trim().split(/\s+|\b/)}},{key:"_refreshEditable",value:function(){_get4(_getPrototypeOf(n.prototype),"_refreshEditable",this).apply(this,arguments),this._components["logic-text-box"].disabled=!this._editable||this._disabled}},{key:"_refreshDisabled",value:function(){_get4(_getPrototypeOf(n.prototype),"_refreshDisabled",this).apply(this,arguments),this._components["logic-text-box"].disabled=!this._editable||this._disabled}},{key:"_loadComboOptions",value:function(e,t){}},{key:"_loadRelatedObjectFieldOptions",value:function(e){}},{key:"validate",value:function(){return _get4(_getPrototypeOf(n.prototype),"validate",this).apply(this,arguments)&&this._components["logic-text-box"].validate()}},{key:"_validateLogic",value:function(){var i,n,s,o,l,a,r,u,h,e,d=this;return!!n2.isEmpty(this.logic)||(i=this._getLogicParts(),l=null,a=o=!(s=!(n=0)),r=["NONE"],u=[],h=[],i.some(function(e,t){n2.isEmpty(e)||(d._isOpenBracket(e)&&!o?(n+=e.length,_toConsumableArray(e).forEach(function(){r.push("NONE")})):d._isCloseBracket(e)&&!s?(n-=e.length,_toConsumableArray(e).forEach(function(){r.pop()})):s&&n2.isFiniteNumber(e)?(s=!1,o=!n2.isUndefined(i[t+1]),(t=Number(e))<=0||t>d.data.length?u.push(e):h.push(t)):o&&d._isCondition(e)?(o=!(s=!0),"NONE"===r[n]?r[n]=e.toUpperCase():r[n]!==e.toUpperCase()&&(a=!0)):l=!0)}),s||l?"The filter logic must contain the filter condition row numbers separated by either an 'AND' or an 'OR'":a?"Missing parentheses, the filter logic must not contain 'AND' and 'OR' conditions in the same section of logic":0<u.length?"The filter logic contains the filter condition ".concat(u.join(", ")," which is not one of the condition row numbers"):(e=this.data.length,0<(u=(u=_toConsumableArray(Array(e).keys()).map(function(e){return e+1})).filter(function(e,t){return-1===h.indexOf(e)})).length?"All filter condition row numbers must be included in the filter logic: ".concat(u.join(", ")," ").concat(1<u.length?"are":"is"," missing"):0===n||"There is a mismatch between the number of opening and closing parenthesis"))}},{key:"_showEmptyState",value:function(e){(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).hideHeaderRow}},{key:"_hideEmptyState",value:function(e){}}]),n}(),n2.ui.component.field.logicFilter.enum.Operator={EQUAL:"equals",NOT_EQUAL:"not equal",IN:"in",INCLUDES:"includes",DOES_NOT_INCLUDE:"does not include",LESS_THAN:"less than",GREATER_THAN:"greater than",LESS_OR_EQUAL:"less or equal",GREATER_OR_EQUAL:"greater or equal",CONTAINS:"contains",STARTS_WITH:"starts with",ENDS_WITH:"ends with"},n2.ui.component.field.logicFilter.Util={LIST_OPERATORS:[n2.ui.component.field.logicFilter.enum.Operator.IN,n2.ui.component.field.logicFilter.enum.Operator.INCLUDES,n2.ui.component.field.logicFilter.enum.Operator.DOES_NOT_INCLUDE],PERIODS:null,format:function(e){var t=e.value,i=e.type,e=e.operator,n=n2.ui.component.field.logicFilter.enum.Type[i];return this._isListOperator(e)||n===n2.ui.component.field.logicFilter.enum.Type.MULTIPICKLIST?this._formatList({value:t,type:i}):this._format({value:t,type:i})},_isListOperator:function(e){return this.LIST_OPERATORS.includes(e)},_formatList:function(e){var t=this,i=e.value,n=e.type,s="",o=[];return i.split(";").some(function(e){e=t._format({value:e,type:n});s+=n2.isEmpty(s)?e.label:", ".concat(e.label),o.push(e.value)}),{label:s,value:o}},_format:function(e){var t=e.value,e=e.type,t=n2.isUndefined(t)?"":t;switch(n2.ui.component.field.logicFilter.enum.Type[e]){case n2.ui.component.field.logicFilter.enum.Type.DATE:case n2.ui.component.field.logicFilter.enum.Type.DATETIME:return this._formatDatePeriod(t);default:return{label:t,value:t}}},_formatDatePeriod:function(e){var t=e.split(":"),i=t[0],t=t[1],n=this.PERIODS,n=(n2.isNull(n)&&(this.PERIODS=n=n2.merge(n2.ui.component.field.datePeriodPicker.Periods,n2.ui.component.field.datePeriodPicker.FiscalPeriods)),n[i]);return{label:n=i.includes("_N_")?n.replace(" n "," ".concat(t," ")):n,value:e}}},n2.ui.component.field.pillList.EditablePillList=function(){_inherits(n,n2.ui.component.PillList);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"_define",value:function(){_get4(_getPrototypeOf(n.prototype),"_define",this).call(this),this.EVENTS=n2.merge(this.EVENTS,{duplicateFilterStart:function(e){},duplicatesFound:function(e,t){}}),this.SELECTORS=n2.merge(this.SELECTORS,{input:".n2_input_container input",maxNumberOfPillsMessage:".n2_max-pills-message",maxPillLengthExceededMessage:".n2_max-pill-length-exceeded-message",maxLengthExceededMessage:".n2_max-length-exceeded-message"}),this._template='<div id="{{id}}" class="n2-component n2-editable_pill_list{{#hidden}} {{hideCls}}{{/hidden}}{{^hidden}} {{showCls}}{{/hidden}} {{cls}}"{{#minHeight}} style="min-height: {{minHeight}}"{{/minHeight}}>\n            <ul class="slds-listbox slds-listbox_horizontal" role="listbox" aria-label="Selected Options:" aria-orientation="horizontal">\n                <li class="slds-listbox-item n2_input_container" id="{{id}}_edit-input-item" role="presentation">\n                    <input type="text" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" id="{{id}}_edit-input" class="n2__pill-list-input"{{#maxPillLength}} maxlength="{{maxPillLength}}"{{/maxPillLength}}{{#disabled}} disabled="disabled"{{/disabled}}/>\n                </li>\n            </ul>\n        </div>',this.delimiter=n2.ui.enum.Key.SEMI_COLON,this.splitInsideQuotes=!1,this.minHeight=null,this._maxLength=null,this._maxPillLength=null,this._max=null,this._preventInputBlur=!1,this._stopKeyUpPropagation=!1}},{key:"maxLength",set:function(e){n2.compare(this._maxLength,e)||(this._maxLength=e,this._refresh({maxLength:!0}))}},{key:"maxPillLength",set:function(e){n2.compare(this._maxPillLength,e)||(this._maxPillLength=e,this._refresh({maxPillLength:!0}))}},{key:"max",set:function(e){n2.compare(this._max,e)||(this._max=e)}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(n.prototype),"_getTemplateData",this).call(this),{minHeight:this.minHeight,maxPillLength:this._maxPillLength,disabled:this.disabled})}},{key:"_createPill",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=n2.isString(t)?t.trim():t;return new n2.ui.component.pillList.Pill({id:this._getUniquePillId(),text:e,value:n2.isNull(t)?e.trim():i,cls:""===t?"n2_blank-value":"",disabled:this._disabled,renderTo:{target:".n2_input_container",position:"beforebegin"},focusable:n2.isEmpty(this._components)?n2.ui.enum.Focusable.ACTIVE:n2.ui.enum.Focusable.INACTIVE})}},{key:"insertPills",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).silent,t=void 0!==t&&t,e=n2.isArray(e)?e:[e],e=this._convertBlankPillConfigs(e);e=this._filterMaxPillLength(e),e=this._filterDuplicates(e),e=this._filterMaxLength(e),n2.isNull(this._max)||(e=e.slice(0,this._max)),n2.isEmpty(e)||_get4(_getPrototypeOf(n.prototype),"insertPills",this).call(this,e,{silent:t})}},{key:"_filterMaxPillLength",value:function(e){var i,n=this;return n2.isNull(this._maxPillLength)||(i=[],e=e.filter(function(e){var t=n2.isString(e)?e:e.text;return t.length<=n._maxPillLength||(-1===i.findIndex(function(e){return n._getDuplicateComparisonValue(t)===n._getDuplicateComparisonValue(e)})&&i.push(t),!1)}),this._showMaxPillLengthExceededMessage({invalidPillNames:i})),e}},{key:"_showMaxPillLengthExceededMessage",value:function(e){e=e.invalidPillNames,e=void 0===e?[]:e;this._rendered&&(this._removeMaxPillLengthExceededMessage(),n2.isEmpty(e)||this._insertMaxPillLengthExceededMessage({invalidPillNames:e}))}},{key:"_removeMaxPillLengthExceededMessage",value:function(){var e=this._dom.parent.find(this.SELECTORS.maxPillLengthExceededMessage);n2.isNull(e)||e.remove()}},{key:"_insertMaxPillLengthExceededMessage",value:function(e){e=e.invalidPillNames;this._dom.insert('<p class="slds-form-element__help n2_max-pill-length-exceeded-message">The following items were excluded as the pill text exceeded the maximum of '.concat(this._maxPillLength,' characters: "').concat(e.join('", "'),'"</p>'),"afterend")}},{key:"_filterMaxLength",value:function(e){if(n2.isNull(this._maxLength))return e;var t,i=[],n=[],s=this._getTotalPillLengthIncludingDelimiters(),o=_createForOfIteratorHelper(e);try{for(o.s();!(t=o.n()).done;){var l=t.value,a=n2.isString(l)?l:l.text;this.pillComponents.length?s+=a.length+this.delimiter.length:s+=a.length,s<=this._maxLength?n.push(l):i.push(a)}}catch(e){o.e(e)}finally{o.f()}return this._showMaxLengthExceededMessage({invalidPillNames:i}),n}},{key:"_getTotalPillLengthIncludingDelimiters",value:function(){return this.pillComponents.map(function(e){return e.value}).join(this.delimiter).length}},{key:"_showMaxLengthExceededMessage",value:function(e){e=e.invalidPillNames,e=void 0===e?[]:e;this._rendered&&(this._removeMaxLengthExceededMessage(),n2.isEmpty(e)||this._insertMaxLengthExceededMessage({invalidPillNames:e}))}},{key:"_removeMaxLengthExceededMessage",value:function(){var e=this._dom.parent.find(this.SELECTORS.maxLengthExceededMessage);n2.isNull(e)||e.remove()}},{key:"_insertMaxLengthExceededMessage",value:function(e){e=e.invalidPillNames;this._dom.insert('<p class="slds-form-element__help n2_max-length-exceeded-message">The following items were excluded as the text exceeded the maximum of '.concat(this._maxLength,' characters: "').concat(e.join('", "'),'"</p>'),"afterend")}},{key:"_convertBlankPillConfigs",value:function(e){var t=this;return e.map(function(e){return e===t.delimiter||""===e||e.value===t.delimiter?{text:"Blank",value:""}:e})}},{key:"_insertPill",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).silent,t=void 0!==t&&t;_get4(_getPrototypeOf(n.prototype),"_insertPill",this).call(this,e,{silent:t}),this.pillComponents.length===this._max&&this._onMaxNumberOfPillsReached()}},{key:"_onMaxNumberOfPillsReached",value:function(){this._preventInputBlur=!0,this._disableInputElement(),this._showMaxNumberOfPillsMessage(),this._preventInputBlur=!1}},{key:"_removePill",value:function(e,t){var i=t.hideAtMinimum,i=void 0===i||i,t=t.silent,t=void 0!==t&&t;_get4(_getPrototypeOf(n.prototype),"_removePill",this).call(this,e,{hideAtMinimum:i,silent:t}),this.pillComponents.length<this._max&&(this._disableInputElement({disable:!1}),this._showMaxNumberOfPillsMessage({show:!1}))}},{key:"_showMaxNumberOfPillsMessage",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).show,e=void 0===e||e;this._rendered&&(this._removeMaxNumberOfPillsMessage(),e)&&this._insertMaxNumberOfPillsMessage()}},{key:"_removeMaxNumberOfPillsMessage",value:function(){var e=this._dom.parent.find(this.SELECTORS.maxNumberOfPillsMessage);n2.isNull(e)||e.remove()}},{key:"_insertMaxNumberOfPillsMessage",value:function(){this._dom.insert('<p class="slds-form-element__help n2_max-pills-message">'.concat(this._max," is the maximum number of items that can be entered</p>"),"afterend")}},{key:"_bindEvents",value:function(){var t=this;_get4(_getPrototypeOf(n.prototype),"_bindEvents",this).call(this),this._dom.listen("click",function(){return t._onClick()}),this.element("input").listen("keydown",function(e){return t._onInputKeyDown(e)}),this.element("input").listen("keyup",function(e){return t._onInputKeyUp(e)}),this.element("input").listen("blur",function(e){return t._onInputBlur()}),this.element("input").listen("paste",function(e){return t._onInputPaste(e)})}},{key:"_onClick",value:function(){this.element("input").focus()}},{key:"_onInputKeyDown",value:function(e){var t=n2.ui.Key.get(e.key),i=this.element("input").attribute("value");if(!(t===n2.ui.enum.Key.TAB&&e.shiftKey||t===n2.ui.enum.Key.ARROW_LEFT||t===n2.ui.enum.Key.ARROW_RIGHT))return n2.isEmpty(i)?(t===n2.ui.enum.Key.BACKSPACE&&(this.focusLast({focusable:n2.ui.enum.Focusable.INACTIVE}),e.preventDefault()),void(t===n2.ui.enum.Key.ENTER&&(this._stopKeyUpPropagation=!0))):void([n2.ui.enum.Key.ENTER,n2.ui.enum.Key.TAB,this.delimiter].includes(t)&&(this.insertPills(i),this.element("input").attribute("value",""),this._stopKeyUpPropagation=!0,e.preventDefault(),e.stopPropagation()));e.stopPropagation()}},{key:"_onInputKeyUp",value:function(e){this._stopKeyUpPropagation&&(this._stopKeyUpPropagation=!1,e.stopPropagation())}},{key:"_onInputBlur",value:function(){var e;this._preventInputBlur||(e=this.element("input").attribute("value"),n2.isEmpty(e))||(this.insertPills(e),this.element("input").attribute("value",""))}},{key:"_onInputPaste",value:function(e){var t=this,e=e.clipboardData||window.clipboardData,e=n2.stripNewLines(e.getData("text")),e=(e.endsWith(",")&&(e=e.substring(0,e.length-1)),n2.split(e,{splitInsideQuotes:this.splitInsideQuotes}));return this.insertPills(e),new n2.util.DelayedTask(function(){return t._onAfterPaste()},1,!0)}},{key:"_onAfterPaste",value:function(){this.element("input").attribute("value","")}},{key:"_filterDuplicates",value:function(e){var t=this,i=(this.fire("duplicateFilterStart",this),[]),n=[],s=null;return e.forEach(function(e){return s=t._findDuplicate(e,n),n2.isNull(s)?(n.push(e),!0):(i.push(s.trim()),!1)}),n2.isEmpty(i)||this.fire("duplicatesFound",this,i),n}},{key:"_findDuplicate",value:function(e){var t,i,n=this,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return n2.isArray(s)&&n2.includes(s,e,{deepCompare:!0,caseSensitive:!1,trimmed:!0})?n2.isObject(e)?e.text:e:(t={},n2.isString(e)?(t.text=this._getDuplicateComparisonValue(e),t.value=t.text):(t.text=this._getDuplicateComparisonValue(e.text),t.value=n2.isUndefined(e.value)?t.text:this._getDuplicateComparisonValue(e.value)),i=null,this.forEachPill(function(e){return n._getDuplicateComparisonValue(e.value)===t.value&&n._getDuplicateComparisonValue(e.text)===t.text&&(i=e.text),n2.isNull(i)}),i)}},{key:"_getDuplicateComparisonValue",value:function(e){return e.toString().toLowerCase().trim()}},{key:"_refresh",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.maxPillLength,t=void 0===t||t,e=n2.isEmpty(e);(t||e)&&this._refreshMaxPillLength()}},{key:"_refreshMaxPillLength",value:function(){this._rendered&&(n2.isNull(this._maxPillLength)?this.element("input").removeAttribute("maxLength"):this.element("input").attribute("maxLength",this._maxPillLength))}},{key:"_refreshDisabled",value:function(){_get4(_getPrototypeOf(n.prototype),"_refreshDisabled",this).apply(this,arguments),this.rendered&&this._disableInputElement({disable:this._disabled})}},{key:"_disableInputElement",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).disable,e=void 0===e||e;this.element("input").attribute("disabled",e)}}]),n}(),n2.ui.component.field.logicFilter.enum.Type={BOOLEAN:"Boolean",PICKLIST:"Picklist",REFERENCE:"Reference",MULTIPICKLIST:"Picklist (Multi-Select)",STRING:"String",TEXTAREA:"Textarea",COMBOBOX:"Combo box",EMAIL:"Email",PHONE:"Phone",URL:"URL",ID:"Id",DOUBLE:"Double",CURRENCY:"Currency",PERCENT:"Percent",INTEGER:"Integer",DATE:"Date",DATETIME:"Date time"},n2.ui.component.field.logicFilter.filters.FieldSelection=function(){_inherits(n,n2.ui.component.Field);var e,t,i=_createSuper(n);function n(){return _classCallCheck(this,n),i.apply(this,arguments)}return _createClass(n,[{key:"_define",value:function(){_get4(_getPrototypeOf(n.prototype),"_define",this).apply(this,arguments),this._componentCls="n2-logic-filter-field-selection",this._defaultValue="",this._fieldOptions=[],this._fieldOptionTypes={},this._fieldOptionParents=[],this._relatedObjectFieldOptions=[],this._relatedObjectFieldOptionTypes={}}},{key:"fieldOptions",set:function(e){n2.compare(this._fieldOptions,e)||(this._fieldOptions=e,this._refreshFieldSelection())}},{key:"relatedObjectFieldOptions",set:function(e){this._relatedObjectFieldOptions=e,this._refreshRelatedObjectSelection()}},{key:"loadRelatedObjectFieldOptions",set:function(e){if(this._loadRelatedObjectFieldOptions!==e)return this._loadRelatedObjectFieldOptions=e,this._reloadRelatedObjectFieldOptions()}},{key:"fieldSelection",get:function(){return this._components["field-selection"]}},{key:"relatedObjectFieldSelection",get:function(){return this._components["related-object-field-selection"]}},{key:"selectedFieldTypeValue",get:function(){return this._getSelectedFieldTypeValue()}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(n.prototype),"_onDefined",this).apply(this,arguments),this._insertFieldSelection(),this._insertRelatedObjectSelection()}},{key:"_insertFieldSelection",value:function(){var t=this,e=this._separateFieldOptionsTypesAndParents(this._fieldOptions),i=(this._fieldOptionTypes=e.types,this._fieldOptionParents=e.parents,this._getSplitValue(this._value));return this._insert(new n2.ui.component.field.Combo({id:"field-selection",cls:"n2_field-selection",label:{text:"Select a field",hidden:!0},options:e.options,required:this.required,value:i[0],disabled:this._disabled,listeners:{change:function(e){return t._onFieldSelectionChange(e)}}}))}},{key:"_onFieldSelectionChange",value:function(e){return this._onChange(),this.relatedObjectFieldSelection.value={value:"",silent:!0,validate:!1},this._reloadRelatedObjectFieldOptions()}},{key:"_insertRelatedObjectSelection",value:function(){var t=this,e=this._isFieldSelectionTypeParent(),i=this._getSplitValue(this._value),n=this._separateFieldOptionsTypesAndParents(this._relatedObjectFieldOptions),n=(this._relatedObjectFieldOptionTypes=n.types,this._insert(new n2.ui.component.field.Combo({id:"related-object-field-selection",cls:"n2_related-object-field-selection",label:{text:"Select a related object",hidden:!0},options:n.options,required:!0,hidden:!e,value:n2.isUndefined(i[1])?"":i[1],disabled:this._disabled,listeners:{change:function(e){return t._onChange()}}})));return this._reloadRelatedObjectFieldOptions(),n}},{key:"_setFieldValue",value:(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var i,n,s=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=1<s.length&&void 0!==s[1]?s[1]:{}).silent,i.sync,i=i.validate,i=void 0===i||i,n=this._getSplitValue(t),this.fieldSelection.value={silent:!0,value:n[0],validate:i},this._isFieldSelectionTypeParent())return e.next=5,this._reloadRelatedObjectFieldOptions();e.next=10;break;case 5:if(this._destroyed)return e.abrupt("return");e.next=7;break;case 7:this.relatedObjectFieldSelection.value={silent:!0,value:n[1],validate:i},e.next=11;break;case 10:this._refreshRelatedObjectSelection();case 11:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_getValue",value:function(){return this._isFieldSelectionTypeParent()&&""!==this.relatedObjectFieldSelection.value?"".concat(this.fieldSelection.value,".").concat(this.relatedObjectFieldSelection.value):this.fieldSelection.value}},{key:"_getSplitValue",value:function(e){var t,i=e.lastIndexOf(".");return-1===i||(t=e.substring(0,i),-1===this._fieldOptionParents.indexOf(t))?[e]:[t,e.substring(i+1)]}},{key:"_refreshFieldSelection",value:function(){var e=this._separateFieldOptionsTypesAndParents(this._fieldOptions);this._fieldOptionTypes=e.types,this._fieldOptionParents=e.parents,this.fieldSelection.options=e.options,this._setFieldValue(this._value)}},{key:"_separateFieldOptionsTypesAndParents",value:function(e){var t={},i=[],n=[];return e.forEach(function(e){t[e.value]=e.type,e.isParent&&i.push(e.value),n.push({label:e.label,value:e.value})}),{options:n,types:t,parents:i}}},{key:"_reloadRelatedObjectFieldOptions",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._isFieldSelectionTypeParent()){e.next=2;break}return e.abrupt("return",(this._refreshRelatedObjectSelection(),null));case 2:return this.relatedObjectFieldSelection.hidden=!1,this.relatedObjectFieldSelection.spinner(),e.next=5,this._loadRelatedObjectFieldOptions(this);case 5:return t=e.sent,e.abrupt("return",this._destroyed?null:(this.relatedObjectFieldOptions=t,this.relatedObjectFieldSelection.spinner(!1),t));case 7:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"_loadRelatedObjectFieldOptions",value:function(e){}},{key:"_refreshRelatedObjectSelection",value:function(){this.relatedObjectFieldSelection.hidden=!this._isFieldSelectionTypeParent();var e=this._separateFieldOptionsTypesAndParents(this._relatedObjectFieldOptions);this._relatedObjectFieldOptionTypes=e.types,this.relatedObjectFieldSelection.options=e.options}},{key:"_getSelectedFieldTypeValue",value:function(){return this._isFieldSelectionTypeParent()?""===this.relatedObjectFieldSelection.value?null:this._relatedObjectFieldOptionTypes[this.relatedObjectFieldSelection.value]:this._fieldOptionTypes[this.fieldSelection.value]}},{key:"_isFieldSelectionTypeParent",value:function(){return-1!==this._fieldOptionParents.indexOf(this.fieldSelection.value)}},{key:"validate",value:function(){var e;return!!this.fieldSelection.validate()&&((e=this.relatedObjectFieldSelection).hidden||e.validate())}},{key:"_disableChildren",value:function(){this.fieldSelection.disabled=!0,this.relatedObjectFieldSelection.disabled=!0}},{key:"_enableChildren",value:function(){this.fieldSelection.disabled=!1,this.relatedObjectFieldSelection.disabled=!1}}]),n}(),n2.ui.component.field.logicFilter.filters.LogicTextBox=function(){_inherits(t,n2.ui.component.field.TextBox);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_define",value:function(){_get4(_getPrototypeOf(t.prototype),"_define",this).apply(this,arguments),this.SELECTORS=n2.merge(this.SELECTORS,{field:"input.slds-input",focusTarget:"input.slds-input"}),this._showLogicToggle=!1,this._logicEnabled=!0}},{key:"showLogicToggle",set:function(e){this._showLogicToggle!==e&&(this._showLogicToggle=e,this._refreshShowLogicToggle())}},{key:"logicEnabled",set:function(e){this._logicEnabled!==e&&(this._logicEnabled=e,this._refreshLogicEnabled())}},{key:"enableLogicToggle",get:function(){return this._components["enable-logic"]}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(t.prototype),"_onDefined",this).call(this),this._insertEnableLogicToggle()}},{key:"_insertEnableLogicToggle",value:function(){var t=this;return this._insert(new n2.ui.component.field.CheckboxToggle({id:"enable-logic",renderTo:this.SELECTORS.label,cls:"n2_small",label:{text:"Enable logic",hidden:!0},hidden:!this._showLogicToggle,disabled:this._disabled,value:this._logicEnabled,listeners:{change:function(e){return t._onEnableLogicChange(e)}}}))}},{key:"_onEnableLogicChange",value:function(e){this._refreshShowLogicTextBoxField({show:e.isChecked()}),this._onChange()}},{key:"_afterRender",value:function(){_get4(_getPrototypeOf(t.prototype),"_afterRender",this).apply(this,arguments),this._showLogicToggle&&this._refreshShowLogicTextBoxField({show:this._logicEnabled})}},{key:"_refreshShowLogicToggle",value:function(){this.enableLogicToggle.hidden=!this._showLogicToggle,this._refreshLogicEnabled()}},{key:"_refreshLogicEnabled",value:function(){this.enableLogicToggle.value={silent:!0,value:this._logicEnabled},this._refreshShowLogicTextBoxField({show:this._logicEnabled})}},{key:"_refreshShowLogicTextBoxField",value:function(e){e=e.show;this._rendered&&(e?(this.element("field").show(),this.isValid||this.element("error").show()):(this.element("field").hide(),this.isValid||this.element("error").hide()))}},{key:"_enableChildren",value:function(){this.enableLogicToggle.disabled=!1}},{key:"_disableChildren",value:function(){this.enableLogicToggle.disabled=!0}}]),t}(),n2.ui.component.field.logicFilter.filters.Row=function(){_inherits(i,n2.ui.component.dataTable.Row);var e=_createSuper(i);function i(){return _classCallCheck(this,i),e.apply(this,arguments)}return _createClass(i,[{key:"_define",value:function(){_get4(_getPrototypeOf(i.prototype),"_define",this).apply(this,arguments),this._fieldOptions=null,this._allowNotOperators=!0,this._includeFiscalPeriods=!1,this._editable=!0,this._fieldCellId="td-0",this._operatorCellId="td-1",this._valueCellId="td-2"}},{key:"fieldOptions",get:function(){return this._fieldOptions},set:function(e){n2.compare(this._fieldOptions,e)||(this._fieldOptions=e,this._refreshFieldOptions())}},{key:"allowNotOperators",get:function(){return this._allowNotOperators},set:function(e){this._allowNotOperators!==e&&(this._allowNotOperators=e,this._refreshOperatorOptions())}},{key:"includeFiscalPeriods",get:function(){return this._includeFiscalPeriods},set:function(e){this._includeFiscalPeriods!==e&&(this._includeFiscalPeriods=e,this._refreshIncludeFiscalPeriods())}},{key:"fieldCell",get:function(){return this._components[this._fieldCellId]}},{key:"operatorCell",get:function(){return this._components[this._operatorCellId]}},{key:"valueCell",get:function(){return this._components[this._valueCellId]}},{key:"_onDefined",value:function(){_get4(_getPrototypeOf(i.prototype),"_onDefined",this).call(this),n2.isNull(this._fieldOptions)||this._refreshFieldOptions()}},{key:"_refreshData",value:function(){_get4(_getPrototypeOf(i.prototype),"_refreshData",this).call(this),this._refreshOperatorOptions()}},{key:"_addCell",value:function(e){var t=_get4(_getPrototypeOf(i.prototype),"_addCell",this).apply(this,arguments);switch(e.id){case this._fieldCellId:this._onFieldCellAdd(t);break;case this._operatorCellId:this._onOperatorCellAdd(t);break;case this._valueCellId:this._onValueCellAdd(t)}return t}},{key:"_onFieldCellAdd",value:function(e){var t=this;e.listen("change",function(){return t._onFieldCellChange(e)},this)}},{key:"_onFieldCellChange",value:function(e){e=e.editField;this._setFieldType(e.selectedFieldTypeValue),this.operatorCell.components["operator-options"].clear(),this.valueCell.components["edit-field"].clear(),this._refreshOperatorOptions()}},{key:"_onOperatorCellAdd",value:function(e){var t=this;e.listen("change",function(){return t._onOperatorCellChange(e)},this)}},{key:"_onOperatorCellChange",value:function(e){this.valueCell.data=this._data,this._refreshIncludeFiscalPeriods()}},{key:"_onValueCellAdd",value:function(e){this._refreshIncludeFiscalPeriods()}},{key:"_refreshFieldOptions",value:function(){this._editable&&(this.fieldCell.components["field-options"].fieldOptions=this._fieldOptions)}},{key:"_refreshOperatorOptions",value:function(){var e=this._getFieldType();this._editable&&!n2.isUndefined(e)&&this.operatorCell&&(n2.isEmpty(e)?this.operatorCell.disabled=!0:(this.operatorCell.disabled=this._disabled,this.operatorCell.components["operator-options"].options=this._getOperatorOptions(n2.ui.component.field.logicFilter.enum.Type[e])))}},{key:"_refreshIncludeFiscalPeriods",value:function(){var e=n2.ui.component.field.logicFilter.enum.Type[this._getFieldType()];e!==n2.ui.component.field.logicFilter.enum.Type.DATE&&e!==n2.ui.component.field.logicFilter.enum.Type.DATETIME||(this.valueCell.components["edit-field"].includeFiscalPeriods=this._includeFiscalPeriods)}},{key:"_getOperatorOptions",value:function(e){var t=n2.ui.component.field.logicFilter.enum.Operator,i=n2.ui.component.field.logicFilter.enum.Type,n=[t.EQUAL,t.NOT_EQUAL,t.LESS_THAN,t.GREATER_THAN,t.LESS_OR_EQUAL,t.GREATER_OR_EQUAL],s=null;switch(e){case i.BOOLEAN:s=[t.EQUAL];break;case i.PICKLIST:case i.REFERENCE:s=[t.EQUAL,t.NOT_EQUAL,t.IN];break;case i.MULTIPICKLIST:s=[t.EQUAL,t.NOT_EQUAL,t.INCLUDES,t.DOES_NOT_INCLUDE];break;case i.STRING:case i.TEXTAREA:s=n.concat([t.CONTAINS,t.STARTS_WITH,t.ENDS_WITH,t.IN]);break;case i.COMBOBOX:case i.EMAIL:case i.PHONE:case i.URL:case i.ID:s=n.concat([t.CONTAINS,t.STARTS_WITH,t.ENDS_WITH]);break;case i.DOUBLE:case i.CURRENCY:case i.PERCENT:case i.INTEGER:case i.DATE:case i.DATETIME:s=n}return this._allowNotOperators||[t.NOT_EQUAL,t.DOES_NOT_INCLUDE].forEach(function(e){e=s.indexOf(e);-1<e&&s.splice(e,1)}),s}},{key:"_getFieldType",value:function(){return this._getDataPropertyValue("type")}},{key:"_getDataPropertyValue",value:function(e){return n2.dataProvider.Model.isModeled(this._data)?this._data.get(e):this._data[e]}},{key:"_setFieldType",value:function(e){n2.dataProvider.Model.isModeled(this._data)?this._data.getProperty("type",{defaultValue:e}).value=e:this._data.type=e}}]),i}(),n2.ui.component.field.logicFilter.filters.ValueCell=function(){_inherits(n,n2.ui.component.dataTable.Cell);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"_define",value:function(){_get4(_getPrototypeOf(n.prototype),"_define",this).apply(this,arguments),this.SELECTORS=n2.merge(this.SELECTORS,{body:".n2_value-cell-content",valueField:".n2_value-field",infoIcon:".n2_info-icon"}),this._componentCls="n2-value-cell",this._editable=!0,this._template='<td id="{{id}}"{{#colspan}} colspan="{{colspan}}"{{/colspan}} class="{{#hidden}} {{hiddenCls}}{{/hidden}} {{cls}}"{{#title}} title="{{title}}"{{/title}}>\n            <div class="n2_value-cell-content">\n                {{^editable}}{{> cellTemplate}}{{/editable}}\n                <div class="n2_value-field"></div>\n                {{> infoIconTemplate}}\n            </div>\n        </td>',this._infoIconTemplate='{{#showInfoIcon}}\n            <div class="n2_info-icon">'.concat(n2.ui.Icon.getSVG(n2.ui.enum.Icon.INFO,{cls:"slds-icon_x-small slds-icon-text-default"}),"</div>\n        {{/showInfoIcon}}")}},{key:"loadComboOptions",set:function(e){this._loadComboOptions!==e&&(this._loadComboOptions=e,this._refreshComboOptions())}},{key:"_getTemplateData",value:function(){return n2.merge(_get4(_getPrototypeOf(n.prototype),"_getTemplateData",this).call(this),{showInfoIcon:!this._isInOperator()&&this._isInOperatorValue()})}},{key:"_getTemplatePartials",value:function(){return n2.merge(_get4(_getPrototypeOf(n.prototype),"_getTemplatePartials",this).call(this),{infoIconTemplate:this._infoIconTemplate})}},{key:"_prepareDOM",value:function(){_get4(_getPrototypeOf(n.prototype),"_prepareDOM",this).call(this),this._prepareInfoIconTooltip()}},{key:"_refreshData",value:function(){n2.isNull(this._editField)||this._editField.destroy();var e=this._editField;this._editField=this._insertEditField(),_get4(_getPrototypeOf(n.prototype),"_refreshData",this).apply(this,arguments),n2.isNull(e)||e.constructor===this._editField.constructor||this._editField.clear(),this._refreshInfoIcon()}},{key:"_onEditFieldChange",value:function(e){e=e.value,e=n2.isArray(e)?e.join(";"):e;n2.dataProvider.Model.isModeled(this._data)?this._data.getProperty("val",{defaultValue:e}).value=e:this._data.val=e}},{key:"_createEditField",value:function(e){e.renderTo=this.SELECTORS.valueField;var t=this._getFieldOperator();if(n2.isUndefined(n2.ui.component.field.logicFilter.enum.Type[this._getFieldType()])||n2.isEmpty(t))return(t=_get4(_getPrototypeOf(n.prototype),"_createEditField",this).apply(this,arguments)).clear(),t.disabled=!0,t;switch(n2.ui.component.field.logicFilter.enum.Type[this._getFieldType()]){case n2.ui.component.field.logicFilter.enum.Type.BOOLEAN:return this._createCombo(e,{required:!0,options:["true","false"],sort:!1});case n2.ui.component.field.logicFilter.enum.Type.MULTIPICKLIST:var i=this._isInOperator();return this._createCombo(e,{required:i,multiple:!0});case n2.ui.component.field.logicFilter.enum.Type.PICKLIST:case n2.ui.component.field.logicFilter.enum.Type.REFERENCE:i=this._isInOperator();return this._createCombo(e,{required:i,multiple:i});case n2.ui.component.field.logicFilter.enum.Type.DOUBLE:case n2.ui.component.field.logicFilter.enum.Type.CURRENCY:case n2.ui.component.field.logicFilter.enum.Type.PERCENT:case n2.ui.component.field.logicFilter.enum.Type.INTEGER:return this._createNumberField(e,{required:!this._isEqualOrNotEqualOperator()});case n2.ui.component.field.logicFilter.enum.Type.DATE:case n2.ui.component.field.logicFilter.enum.Type.DATETIME:return this._createDatePeriodPicker(e,{required:!this._isEqualOrNotEqualOperator()});default:return this._isInOperator()?this._createPillList(e,{required:!0}):this._createTextBox(e,{required:!this._isEqualOrNotEqualOperator()})}}},{key:"_createCombo",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.required,n=t.multiple,s=t.options,s=void 0===s?null:s,t=t.sort,e=new n2.ui.component.field.Combo(n2.merge(e,{required:void 0!==i&&i,multiple:void 0!==n&&n,options:s||[],sort:void 0===t||t}));return n2.isNull(s)&&this._loadComboOptions(e,this._data),e}},{key:"_onInfoIconMouseEnter",value:function(e){n2.ui.Tooltip.getInstance().show({target:this.element("infoIcon"),template:'<p>Tip: If you are comparing a list of values, use the "in" operator</p>'})}},{key:"_onInfoIconMouseLeave",value:function(e){n2.ui.Tooltip.getInstance().hide()}},{key:"_loadComboOptions",value:function(e,t){}},{key:"_createNumberField",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).required;return new n2.ui.component.field.Number(n2.merge(e,{required:void 0!==t&&t}))}},{key:"_createTextBox",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).required;return new n2.ui.component.field.TextBox(n2.merge(e,{required:void 0!==t&&t,listeners:{type:this._onValueTextBoxType,scope:this}}))}},{key:"_onValueTextBoxType",value:function(e){this._refreshInfoIcon()}},{key:"_createPillList",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).required;return new n2.ui.component.field.PillList(n2.merge(e,{required:void 0!==t&&t}))}},{key:"_createDatePeriodPicker",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).required;return new n2.ui.component.field.DatePeriodPicker(n2.merge(e,{required:void 0!==t&&t}))}},{key:"_refreshComboOptions",value:function(){var e=n2.ui.component.field.logicFilter.enum.Type[this._getFieldType()];[n2.ui.component.field.logicFilter.enum.Type.MULTIPICKLIST,n2.ui.component.field.logicFilter.enum.Type.PICKLIST,n2.ui.component.field.logicFilter.enum.Type.REFERENCE].includes(e)&&this._loadComboOptions(this._editField,this._data)}},{key:"_refreshInfoIcon",value:function(){var e,t;this._rendered&&(e=this.element("infoIcon"),(t=!this._isInOperator()&&this._isInOperatorValue())&&!n2.isNull(e)||(t&&n2.isNull(e)?this._insertInfoIcon():t||n2.isNull(e)||this._destroyInfoIcon()))}},{key:"_insertInfoIcon",value:function(){this.element("body").insert(n2.ui.Template.render(this._infoIconTemplate,this._getTemplateData(),this._getTemplatePartials()));var e=this.element("infoIcon",!0);return this._prepareInfoIconTooltip(),e}},{key:"_prepareInfoIconTooltip",value:function(){n2.isNull(this.element("infoIcon"))||(this.element("infoIcon").listen("mouseenter",this._onInfoIconMouseEnter,{scope:this}),this.element("infoIcon").listen("mouseleave",this._onInfoIconMouseLeave,{scope:this}))}},{key:"_destroyInfoIcon",value:function(){this.element("infoIcon").destroy()}},{key:"_isInOperator",value:function(){return this._getFieldOperator()===n2.ui.component.field.logicFilter.enum.Operator.IN||this._getFieldOperator()===n2.ui.component.field.logicFilter.enum.Operator.INCLUDES||this._getFieldOperator()===n2.ui.component.field.logicFilter.enum.Operator.DOES_NOT_INCLUDE}},{key:"_isInOperatorValue",value:function(){return this._editField instanceof n2.ui.component.field.TextBox&&/,|;/.test(this._editField.value)}},{key:"_isEqualOrNotEqualOperator",value:function(){var e=this._getFieldOperator(),t=e===n2.ui.component.field.logicFilter.enum.Operator.EQUAL,e=e===n2.ui.component.field.logicFilter.enum.Operator.NOT_EQUAL;return t||e}},{key:"_getFieldType",value:function(){return this._getDataPropertyValue("type")}},{key:"_getFieldOperator",value:function(){return this._getDataPropertyValue("op")}},{key:"_getDataValue",value:function(){var e=n2.ui.component.field.logicFilter.Util.format({value:this._getDataPropertyValue("val"),type:this._getFieldType(),operator:this._getFieldOperator()});return n2.isUndefined(e.value)?null:e.value}},{key:"_getDataPropertyValue",value:function(e){return n2.dataProvider.Model.isModeled(this._data)?this._data.get(e,{defaultValue:""}):this._data[e]||""}}]),n}();